<!DOCTYPE html>

<html>
<head>
  <title>one-file.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>one-file.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-1">&#x00a7;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-meta">&#x27;use strict&#x27;</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-2">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-3">&#x00a7;</a>
              </div>
              <p>开发环境的判断</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> __DEV__ = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">var</span> canUseDOM = <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-4">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-5">&#x00a7;</a>
              </div>
              <p><code>ExecutionEnvironment</code>
是否浏览器、this的返回、是否在Worker中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ExecutionEnvironment</span> = {
    <span class="hljs-attr">canUseDOM</span>: canUseDOM,
    <span class="hljs-attr">canUseWorkers</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Worker</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>,
    <span class="hljs-attr">isInWorker</span>: !canUseDOM,
    <span class="hljs-attr">global</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Function</span>(<span class="hljs-string">&#x27;return this;&#x27;</span>)()
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ExecutionEnvironment</span>_1 = <span class="hljs-title class_">ExecutionEnvironment</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-6">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-7">&#x00a7;</a>
              </div>
              <p><code>ReactCurrentOwner</code>
含有一个 current 属性，默认为 null</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactCurrentOwner</span> = {
    <span class="hljs-attr">current</span>: <span class="hljs-literal">null</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactCurrentOwner</span>_1 = <span class="hljs-title class_">ReactCurrentOwner</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-8">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-9">&#x00a7;</a>
              </div>
              <p><code>isNumber</code>
用来判断哪些那些 css 值是不用加 px的</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> isNumber = {
    <span class="hljs-attr">fillOpacity</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">opacity</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">orphans</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">textDecoration</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">zIndex</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">zoom</span>: <span class="hljs-literal">true</span>
};</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-10">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-11">&#x00a7;</a>
              </div>
              <p><code>CSSProperty</code>
含有属性 isNumber</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">CSSProperty</span> = {
    <span class="hljs-attr">isNumber</span>: isNumber
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">CSSProperty</span>_1 = <span class="hljs-title class_">CSSProperty</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-12">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-13">&#x00a7;</a>
              </div>
              <p><code>dangerousStyleValue</code>
传入css或属性的 v k，返回是否需要添加 px 为单位的值</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">dangerousStyleValue</span>(<span class="hljs-params">styleName, value</span>) {
    <span class="hljs-keyword">if</span> (value === <span class="hljs-literal">null</span> || value === <span class="hljs-literal">false</span> || value === <span class="hljs-literal">true</span> || value === <span class="hljs-string">&#x27;&#x27;</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(value)) {
        <span class="hljs-keyword">return</span> !value ? <span class="hljs-string">&#x27;&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span> + value
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">CSSProperty</span>_1.<span class="hljs-property">isNumber</span>[styleName] ? <span class="hljs-string">&#x27;&#x27;</span> + value : (value + <span class="hljs-string">&#x27;px&#x27;</span>)
}
<span class="hljs-keyword">var</span> dangerousStyleValue_1 = dangerousStyleValue;</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-14">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-15">&#x00a7;</a>
              </div>
              <p><code>throwIf</code>
传入条件和message，如果条件成立，则报错吐出 message</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> throwIf = <span class="hljs-keyword">function</span> (<span class="hljs-params">condition, err</span>) {
    <span class="hljs-keyword">if</span> (condition) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(err);
    }
};
<span class="hljs-keyword">var</span> throwIf_1 = throwIf;</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-16">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-17">&#x00a7;</a>
              </div>
              <p><code>ESCAPE_TYPE_ERR</code>
用于显示 escapeTextForBrowser 时，如果不是字符串的时候的报错信息</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">ESCAPE_TYPE_ERR</span>;
<span class="hljs-keyword">if</span> (__DEV__) {
    <span class="hljs-variable constant_">ESCAPE_TYPE_ERR</span> = <span class="hljs-string">&#x27;The React core has attempted to escape content that is of a mysterious type (object etc) Escaping only works on numbers and strings&#x27;</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-18">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-19">&#x00a7;</a>
              </div>
              <p><code>ESCAPE_LOOKUP</code>
html转义字符的对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">ESCAPE_LOOKUP</span> = {
    <span class="hljs-string">&quot;&amp;&quot;</span>: <span class="hljs-string">&quot;&amp;amp;&quot;</span>,
    <span class="hljs-string">&quot;&gt;&quot;</span>: <span class="hljs-string">&quot;&amp;gt;&quot;</span>,
    <span class="hljs-string">&quot;&lt;&quot;</span>: <span class="hljs-string">&quot;&amp;lt;&quot;</span>,
    <span class="hljs-string">&quot;\&quot;&quot;</span>: <span class="hljs-string">&quot;&amp;quot;&quot;</span>,
    <span class="hljs-string">&quot;&#x27;&quot;</span>: <span class="hljs-string">&quot;&amp;#x27;&quot;</span>,
    <span class="hljs-string">&quot;/&quot;</span>: <span class="hljs-string">&quot;&amp;#x2f;&quot;</span>
};</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-20">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-21">&#x00a7;</a>
              </div>
              <p><code>escaper</code>
传入 ESCAPE_LOOKUP 的 key,返回他的 value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">escaper</span>(<span class="hljs-params">match</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">ESCAPE_LOOKUP</span>[match]
}</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-22">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-23">&#x00a7;</a>
              </div>
              <p><code>escapeTextForBrowser</code>
传入字符串，把 ESCAPE_LOOKUP 对象的 key 替换为value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> escapeTextForBrowser = <span class="hljs-keyword">function</span> (<span class="hljs-params">text</span>) {
    <span class="hljs-keyword">var</span> type = <span class="hljs-keyword">typeof</span> text;
    <span class="hljs-keyword">var</span> invalid = type === <span class="hljs-string">&#x27;object&#x27;</span>;
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">throwIf_1</span>(invalid, <span class="hljs-variable constant_">ESCAPE_TYPE_ERR</span>);
    }
    <span class="hljs-keyword">if</span> (text === <span class="hljs-string">&#x27;&#x27;</span> || invalid) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;string&#x27;</span>) {
            <span class="hljs-keyword">return</span> text.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[&amp;&gt;&lt;&quot;&#x27;\/]/g</span>, escaper)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> (<span class="hljs-string">&#x27;&#x27;</span> + text).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[&amp;&gt;&lt;&quot;&#x27;\/]/g</span>, escaper)
        }
    }
};

<span class="hljs-keyword">var</span> escapeTextForBrowser_1 = escapeTextForBrowser;</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-24">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-25">&#x00a7;</a>
              </div>
              <p><code>_uppercasePattern</code>
匹配大写的英文字母</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> _uppercasePattern = <span class="hljs-regexp">/([A-Z])/g</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-26">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-27">&#x00a7;</a>
              </div>
              <p><code>hyphenate</code>
把字符串中的大写字母转为小写，并在其前面添加 - </p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">hyphenate</span>(<span class="hljs-params">string</span>) {
    <span class="hljs-keyword">return</span> string.<span class="hljs-title function_">replace</span>(_uppercasePattern, <span class="hljs-string">&#x27;-$1&#x27;</span>).<span class="hljs-title function_">toLowerCase</span>()
}
<span class="hljs-keyword">var</span> hyphenate_1 = hyphenate;</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-28">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-29">&#x00a7;</a>
              </div>
              <p><code>memoizeStringOnly</code>
传入一个函数，返回一个含有闭包作用域的函数，返回的函数只接收字符串做参数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">memoizeStringOnly</span>(<span class="hljs-params">callback</span>) {
    <span class="hljs-keyword">var</span> cache = {};
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">string</span>) {
        <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">hasOwnProperty</span>(string)) {
            <span class="hljs-keyword">return</span> cache[string]
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> cache[string] = callback.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, string)
        }
    }
}
<span class="hljs-keyword">var</span> memoizeStringOnly_1 = memoizeStringOnly;</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-30">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-31">&#x00a7;</a>
              </div>
              <p><code>processStyleName</code>
把字符串转为 -$ ，然后再把ESCAPE_LOOKUP 的 key 替换为它的值</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> processStyleName = <span class="hljs-title function_">memoizeStringOnly_1</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">styleName</span>) {
    <span class="hljs-keyword">return</span> escapeTextForBrowser_1(<span class="hljs-title function_">hyphenate_1</span>(styleName))
});</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-32">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-33">&#x00a7;</a>
              </div>
              <p><code>CSSPropertyOperations</code>
含有两个方法 createMarkupForStyles setValueForStyles，用于设置html的样式方法</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">CSSPropertyOperations</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-34">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-35">&#x00a7;</a>
              </div>
              <p><code>createMarkupForStyles</code>
传入一个对象，生成 css 的行内样式，key 值用 <a href="#section-31"><code>processStyleName</code></a> ，value值使用<a href="#section-13"><code>dangerousStyleValue</code></a>来进行转化</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">createMarkupForStyles</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">styles</span>) {
        <span class="hljs-keyword">var</span> serialized = <span class="hljs-string">&#x27;&#x27;</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> styleName <span class="hljs-keyword">in</span> styles) {
            <span class="hljs-keyword">if</span> (!styles.<span class="hljs-title function_">hasOwnProperty</span>(styleName)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">var</span> styleValue = styles[styleName];
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> styleValue !== <span class="hljs-string">&#x27;undefined&#x27;</span>) {
                serialized += <span class="hljs-title function_">processStyleName</span>(styleName) + <span class="hljs-string">&#x27;:&#x27;</span>;
                serialized += <span class="hljs-title function_">dangerousStyleValue_1</span>(styleName, styleValue) + <span class="hljs-string">&#x27;;&#x27;</span>
            }
        }
        <span class="hljs-keyword">return</span> serialized
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-36">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-37">&#x00a7;</a>
              </div>
              <p><code>setValueForStyles</code>
根据node元素，取出style，再使用<a href="#section-13"><code>dangerousStyleValue</code></a>转化value后，设置为node.style对应的值</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">setValueForStyles</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">node, styles</span>) {
        <span class="hljs-keyword">var</span> style = node.<span class="hljs-property">style</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> styleName <span class="hljs-keyword">in</span> styles) {
            <span class="hljs-keyword">if</span> (!styles.<span class="hljs-title function_">hasOwnProperty</span>(styleName)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">var</span> styleValue = styles[styleName];
            style[styleName] = <span class="hljs-title function_">dangerousStyleValue_1</span>(styleName, styleValue)
        }
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">CSSPropertyOperations</span>_1 = <span class="hljs-title class_">CSSPropertyOperations</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-38">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-39">&#x00a7;</a>
              </div>
              <p><code>DOM_UNSUPPORTED</code>，<code>NO_MARKUP_PARENT</code>，<code>NO_MULTI_MARKUP</code>
<code>DOM_UNSUPPORTED</code>不能使用DOM的错误消息，<code>NO_MARKUP_PARENT</code>没有父级元素的错误信息，<code>NO_MULTI_MARKUP</code>没有markup时的错误信息</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">DOM_UNSUPPORTED</span>;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">NO_MARKUP_PARENT</span>;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">NO_MULTI_MARKUP</span>;
<span class="hljs-keyword">if</span> (__DEV__) {
    <span class="hljs-variable constant_">DOM_UNSUPPORTED</span> = <span class="hljs-string">&#x27;You may not insert markup into the document while you are in a worker thread. It\&#x27;s not you, it\&#x27;s me. This is likely the fault of the framework. Please report this immediately.&#x27;</span>;
    <span class="hljs-variable constant_">NO_MARKUP_PARENT</span> = <span class="hljs-string">&#x27;You have attempted to inject markup without a suitable parent. This is likely the fault of the framework - please report immediately.&#x27;</span>;
    <span class="hljs-variable constant_">NO_MULTI_MARKUP</span> = <span class="hljs-string">&#x27;The framework has attempted to either insert zero or multiple markup roots into a single location when it should not. This is a serious error - a fault of the framework - please report immediately.&#x27;</span>
}
<span class="hljs-keyword">var</span> validateMarkupParams;
<span class="hljs-keyword">if</span> (__DEV__) {</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-40">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-41">&#x00a7;</a>
              </div>
              <p><code>validateMarkupParams</code>
插入html字符串的过滤判断方法</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    validateMarkupParams = <span class="hljs-keyword">function</span> (<span class="hljs-params">parentNode, markup</span>) {
        <span class="hljs-title function_">throwIf_1</span>(!<span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">canUseDOM</span>, <span class="hljs-variable constant_">DOM_UNSUPPORTED</span>);
        <span class="hljs-title function_">throwIf_1</span>(!parentNode || !parentNode.<span class="hljs-property">tagName</span>, <span class="hljs-variable constant_">NO_MARKUP_PARENT</span>);
        <span class="hljs-title function_">throwIf_1</span>(!markup, <span class="hljs-variable constant_">NO_MULTI_MARKUP</span>);
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-42">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-43">&#x00a7;</a>
              </div>
              <p><code>dummies</code>
根据元素名称做存储，div的key存储的时一个元素标签名为</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> dummies = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-44">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-45">&#x00a7;</a>
              </div>
              <p><code>getParentDummy</code>
根据dom元素，创建一个相同tagName的元素，如果已创建，则返回先前创建的元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">getParentDummy</span>(<span class="hljs-params">parent</span>) {
    <span class="hljs-keyword">var</span> parentTag = parent.<span class="hljs-property">tagName</span>;
    <span class="hljs-keyword">return</span> dummies[parentTag] || (dummies[parentTag] = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(parentTag))
}</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-46">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-47">&#x00a7;</a>
              </div>
              <p><code>insertNodeAfterNode</code>
elem、insert、after，在 elem 的子元素 after 后面插入 insert 元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">insertNodeAfterNode</span>(<span class="hljs-params">elem, insert, after</span>) {
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">throwIf_1</span>(!<span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">canUseDOM</span>, <span class="hljs-variable constant_">DOM_UNSUPPORTED</span>);
    }
    <span class="hljs-keyword">if</span> (after) {
        <span class="hljs-keyword">if</span> (after.<span class="hljs-property">nextSibling</span>) { <span class="hljs-comment">// 有子元素</span>
            <span class="hljs-keyword">return</span> elem.<span class="hljs-title function_">insertBefore</span>(insert, after.<span class="hljs-property">nextSibling</span>)
        } <span class="hljs-keyword">else</span> { <span class="hljs-comment">// 作为最后一个元素</span>
            <span class="hljs-keyword">return</span> elem.<span class="hljs-title function_">appendChild</span>(insert)
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> elem.<span class="hljs-title function_">insertBefore</span>(insert, elem.<span class="hljs-property">firstChild</span>)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-48">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-49">&#x00a7;</a>
              </div>
              <p><code>inefficientlyInsertHTMLCollectionAfter</code>
在元素父元素<code>parentRootDomNode</code>，插入<code>htmlCollection</code>dom列表，插入的点在<code>after</code>之后</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">inefficientlyInsertHTMLCollectionAfter</span>(<span class="hljs-params">parentRootDomNode, htmlCollection, after</span>) {
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">throwIf_1</span>(!<span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">canUseDOM</span>, <span class="hljs-variable constant_">DOM_UNSUPPORTED</span>);
    }
    <span class="hljs-keyword">var</span> ret;
    <span class="hljs-keyword">var</span> originalLength = htmlCollection.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; originalLength; i++) {
        ret = <span class="hljs-title function_">insertNodeAfterNode</span>(parentRootDomNode, htmlCollection[<span class="hljs-number">0</span>], ret || after)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-50">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-51">&#x00a7;</a>
              </div>
              <p><code>dangerouslyInsertMarkupAt</code>
在<code>parentNode</code>的<code>index</code>元素后插入html字符串<code>markup</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">dangerouslyInsertMarkupAt</span>(<span class="hljs-params">parentNode, markup, index</span>) {
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">validateMarkupParams</span>(parentNode, markup)
    }
    <span class="hljs-keyword">var</span> parentDummy = <span class="hljs-title function_">getParentDummy</span>(parentNode);
    parentDummy.<span class="hljs-property">innerHTML</span> = markup;
    <span class="hljs-keyword">var</span> htmlCollection = parentDummy.<span class="hljs-property">childNodes</span>;
    <span class="hljs-keyword">var</span> afterNode = index ? parentNode.<span class="hljs-property">childNodes</span>[index - <span class="hljs-number">1</span>] : <span class="hljs-literal">null</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-52">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-53">&#x00a7;</a>
              </div>
              <p><a href="#section-49"><code>inefficientlyInsertHTMLCollectionAfter</code></a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-title function_">inefficientlyInsertHTMLCollectionAfter</span>(parentNode, htmlCollection, afterNode)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-54">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-55">&#x00a7;</a>
              </div>
              <p><code>dangerouslyReplaceNodeWithMarkup</code>
用<code>markup</code>生成dom元素，替换掉<code>childNode</code>元素，注意<code>markup</code>是一个顶级的元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">dangerouslyReplaceNodeWithMarkup</span>(<span class="hljs-params">childNode, markup</span>) {
    <span class="hljs-keyword">var</span> parentNode = childNode.<span class="hljs-property">parentNode</span>;
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">validateMarkupParams</span>(parentNode, markup)
    }
    <span class="hljs-keyword">var</span> parentDummy = <span class="hljs-title function_">getParentDummy</span>(parentNode);
    parentDummy.<span class="hljs-property">innerHTML</span> = markup;
    <span class="hljs-keyword">var</span> htmlCollection = parentDummy.<span class="hljs-property">childNodes</span>;
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">throwIf_1</span>(htmlCollection.<span class="hljs-property">length</span> !== <span class="hljs-number">1</span>, <span class="hljs-variable constant_">NO_MULTI_MARKUP</span>);
    }
    parentNode.<span class="hljs-title function_">replaceChild</span>(htmlCollection[<span class="hljs-number">0</span>], childNode)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-56">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-57">&#x00a7;</a>
              </div>
              <p><code>Danger</code>
<a href="#section-51"><code>dangerouslyInsertMarkupAt</code></a>用于把html字符串插入到元素，<a href="#section-55"><code>dangerouslyReplaceNodeWithMarkup</code></a>用于把html元素替换掉dom元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">Danger</span> = {
    <span class="hljs-attr">dangerouslyInsertMarkupAt</span>: dangerouslyInsertMarkupAt,
    <span class="hljs-attr">dangerouslyReplaceNodeWithMarkup</span>: dangerouslyReplaceNodeWithMarkup
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Danger</span>_1 = <span class="hljs-title class_">Danger</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-58">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-59">&#x00a7;</a>
              </div>
              <p><code>insertNodeAt</code>
在<code>root</code>子元素中，第<code>atIndex</code>个元素前面插入<code>node</code>元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">insertNodeAt</span>(<span class="hljs-params">root, node, atIndex</span>) {
    <span class="hljs-keyword">var</span> childNodes = root.<span class="hljs-property">childNodes</span>;
    <span class="hljs-keyword">var</span> curAtIndex = root.<span class="hljs-property">childNodes</span>[atIndex];
    <span class="hljs-keyword">if</span> (curAtIndex === node) {
        <span class="hljs-keyword">return</span> node
    }
    <span class="hljs-keyword">if</span> (node.<span class="hljs-property">parentNode</span>) {
        node.<span class="hljs-property">parentNode</span>.<span class="hljs-title function_">removeChild</span>(node)
    }
    <span class="hljs-keyword">if</span> (atIndex &gt;= childNodes.<span class="hljs-property">length</span>) {
        root.<span class="hljs-title function_">appendChild</span>(node)
    } <span class="hljs-keyword">else</span> {
        root.<span class="hljs-title function_">insertBefore</span>(node, childNodes[atIndex])
    }
    <span class="hljs-keyword">return</span> node
}
<span class="hljs-keyword">var</span> insertNodeAt_1 = insertNodeAt;</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-60">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-61">&#x00a7;</a>
              </div>
              <p><code>keyOf</code>
拿取 <code>oneKeyObj</code>对象的第一个 key，没有则返回 null</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> keyOf = <span class="hljs-keyword">function</span> (<span class="hljs-params">oneKeyObj</span>) {
    <span class="hljs-keyword">var</span> key;
    <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> oneKeyObj) {
        <span class="hljs-keyword">if</span> (!oneKeyObj.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
            <span class="hljs-keyword">continue</span>
        }
        <span class="hljs-keyword">return</span> key
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
};
<span class="hljs-keyword">var</span> keyOf_1 = keyOf;</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-62">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-63">&#x00a7;</a>
              </div>
              <p><code>NON_INCREASING_OPERATIONS</code>
dom元素列表，超过索引的报错信息</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">NON_INCREASING_OPERATIONS</span>;
<span class="hljs-keyword">if</span> (__DEV__) {
    <span class="hljs-variable constant_">NON_INCREASING_OPERATIONS</span> = <span class="hljs-string">&#x27;DOM child management operations must be provided in order of increasing destination index. This is likely an issue with the core framework.&#x27;</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-64">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-65">&#x00a7;</a>
              </div>
              <p><code>MOVE_NODE_AT_ORIG_INDEX</code>
字符串 moveFrom ,一个dom元素对象的属性标识</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">MOVE_NODE_AT_ORIG_INDEX</span> = <span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-attr">moveFrom</span>: <span class="hljs-literal">null</span>
});</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-66">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-67">&#x00a7;</a>
              </div>
              <p><code>INSERT_MARKUP</code>
字符串 insertMarkup ,一个dom元素对象的属性标识</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">INSERT_MARKUP</span> = <span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-attr">insertMarkup</span>: <span class="hljs-literal">null</span>
});</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-68">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-69">&#x00a7;</a>
              </div>
              <p><code>REMOVE_AT</code>
字符串 removeAt ,一个dom元素对象的属性标识</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">REMOVE_AT</span> = <span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-attr">removeAt</span>: <span class="hljs-literal">null</span>
});</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-70">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-71">&#x00a7;</a>
              </div>
              <p><code>_getNodesByOriginalIndex</code>
提供一个dom列表<code>childOperations</code>，并遍历childOperations，取出它的每个moveFrom或者moveAt属性（也是parent子元素的索引），从<code>parent</code>取出索引后，塞入到<code>nodesByOriginalIndex</code>数组中并返回</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> _getNodesByOriginalIndex = <span class="hljs-keyword">function</span> (<span class="hljs-params">parent, childOperations</span>) {
    <span class="hljs-keyword">var</span> nodesByOriginalIndex;
    <span class="hljs-keyword">var</span> childOperation;
    <span class="hljs-keyword">var</span> origIndex;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; childOperations.<span class="hljs-property">length</span>; i++) {
        childOperation = childOperations[i];
        <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">MOVE_NODE_AT_ORIG_INDEX</span> <span class="hljs-keyword">in</span> childOperation) {
            nodesByOriginalIndex = nodesByOriginalIndex || [];
            origIndex = childOperation.<span class="hljs-property">moveFrom</span>;
            nodesByOriginalIndex[origIndex] = parent.<span class="hljs-property">childNodes</span>[origIndex]
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">REMOVE_AT</span> <span class="hljs-keyword">in</span> childOperation) {
            nodesByOriginalIndex = nodesByOriginalIndex || [];
            origIndex = childOperation.<span class="hljs-property">removeAt</span>;
            nodesByOriginalIndex[origIndex] = parent.<span class="hljs-property">childNodes</span>[origIndex]
        }
    }
    <span class="hljs-keyword">return</span> nodesByOriginalIndex
};</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-72">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-73">&#x00a7;</a>
              </div>
              <p><code>_removeChildrenByOriginalIndex</code>
根据<code>nodesByOriginalIndex</code>的dom元素顺序，依次从<code>parent</code>元素中把子元素移除</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> _removeChildrenByOriginalIndex = <span class="hljs-keyword">function</span> (<span class="hljs-params">parent, nodesByOriginalIndex</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; nodesByOriginalIndex.<span class="hljs-property">length</span>; j++) {
        <span class="hljs-keyword">var</span> nodeToRemove = nodesByOriginalIndex[j];
        <span class="hljs-keyword">if</span> (nodeToRemove) {
            parent.<span class="hljs-title function_">removeChild</span>(nodesByOriginalIndex[j])
        }
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-74">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-75">&#x00a7;</a>
              </div>
              <p><code>_placeNodesAtDestination</code>
该方法用于移动dom元素位置，遍历循环<code>childOperations</code>，如果childOperations元素列表中含有moveFrom属性，则在取出<code>nodesByOriginalIndex</code>元素中<code>moveFrom</code>索引对应的索引元素，并插入到<code>childOperation.finalIndex</code>元素的前面，或者moveAt属性，在<code>childOperation.finalIndex</code>前插入<code>childOperation.insertMarkup</code>html文本。<a href="#section-59"><code>insertNodeAt</code></a>，<a href="#section-51"><code>insertNodeAt</code></a>。</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> _placeNodesAtDestination = <span class="hljs-keyword">function</span> (<span class="hljs-params">parent, childOperations, nodesByOriginalIndex</span>) {
    <span class="hljs-keyword">var</span> origNode;
    <span class="hljs-keyword">var</span> finalIndex;
    <span class="hljs-keyword">var</span> lastFinalIndex = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> childOperation;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k = <span class="hljs-number">0</span>; k &lt; childOperations.<span class="hljs-property">length</span>; k++) {
        childOperation = childOperations[k];
        <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">MOVE_NODE_AT_ORIG_INDEX</span> <span class="hljs-keyword">in</span> childOperation) {
            origNode = nodesByOriginalIndex[childOperation.<span class="hljs-property">moveFrom</span>];
            finalIndex = childOperation.<span class="hljs-property">finalIndex</span>;
            <span class="hljs-title function_">insertNodeAt_1</span>(parent, origNode, finalIndex);
            <span class="hljs-keyword">if</span> (__DEV__) {
                <span class="hljs-title function_">throwIf_1</span>(finalIndex &lt;= lastFinalIndex, <span class="hljs-variable constant_">NON_INCREASING_OPERATIONS</span>);
                lastFinalIndex = finalIndex
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">REMOVE_AT</span> <span class="hljs-keyword">in</span> childOperation);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">INSERT_MARKUP</span> <span class="hljs-keyword">in</span> childOperation) {
            finalIndex = childOperation.<span class="hljs-property">finalIndex</span>;
            <span class="hljs-keyword">var</span> markup = childOperation.<span class="hljs-property">insertMarkup</span>;
            <span class="hljs-title class_">Danger</span>_1.<span class="hljs-title function_">dangerouslyInsertMarkupAt</span>(parent, markup, finalIndex);
            <span class="hljs-keyword">if</span> (__DEV__) {
                <span class="hljs-title function_">throwIf_1</span>(finalIndex &lt;= lastFinalIndex, <span class="hljs-variable constant_">NON_INCREASING_OPERATIONS</span>);
                lastFinalIndex = finalIndex
            }
        }
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-76">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-77">&#x00a7;</a>
              </div>
              <p><code>manageChildren</code>
从<code>parent</code>中取出<code>nodesByOriginalIndex</code>,并把nodesByOriginalIndex的所有子元素移除；移除完毕后，再把childOperations按照moveFrom或insertMarkup来从新定位顺序</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> manageChildren = <span class="hljs-keyword">function</span> (<span class="hljs-params">parent, childOperations</span>) {
    <span class="hljs-keyword">var</span> nodesByOriginalIndex = <span class="hljs-title function_">_getNodesByOriginalIndex</span>(parent, childOperations);
    <span class="hljs-keyword">if</span> (nodesByOriginalIndex) {
        <span class="hljs-title function_">_removeChildrenByOriginalIndex</span>(parent, nodesByOriginalIndex)
    }
    <span class="hljs-title function_">_placeNodesAtDestination</span>(parent, childOperations, nodesByOriginalIndex)
};</pre></div></div>
            
        </li>
        
        
        <li id="section-78">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-78">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-79">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-79">&#x00a7;</a>
              </div>
              <p><code>setTextNodeValueAtIndex</code>
把<code>parent</code>元素的第<code>index</code>个子元素的文本替换为<code>val</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> setTextNodeValueAtIndex = <span class="hljs-keyword">function</span> (<span class="hljs-params">parent, index, val</span>) {
    parent.<span class="hljs-property">childNodes</span>[index].<span class="hljs-property">nodeValue</span> = val
};</pre></div></div>
            
        </li>
        
        
        <li id="section-80">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-80">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-81">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-81">&#x00a7;</a>
              </div>
              <p><code>manageChildren</code>
<a href="#section-55"><code>dangerouslyReplaceNodeWithMarkup</code></a>，<a href="#section-77"><code>manageChildren</code></a>，，<a href="#section-79"><code>setTextNodeValueAtIndex</code></a>。</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">DOMChildrenOperations</span> = {
    <span class="hljs-attr">dangerouslyReplaceNodeWithMarkup</span>: <span class="hljs-title class_">Danger</span>_1.<span class="hljs-property">dangerouslyReplaceNodeWithMarkup</span>,
    <span class="hljs-attr">manageChildren</span>: manageChildren,
    <span class="hljs-attr">setTextNodeValueAtIndex</span>: setTextNodeValueAtIndex
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">DOMChildrenOperations</span>_1 = <span class="hljs-title class_">DOMChildrenOperations</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-82">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-82">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-83">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-83">&#x00a7;</a>
              </div>
              <p><code>createCommonjsModule</code>
传入一个函数并执行，函数的参数分别为<code>module</code>、<code>module.exports</code>,最后返回module.exports</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCommonjsModule</span>(<span class="hljs-params">fn</span>) {
    <span class="hljs-keyword">var</span> <span class="hljs-variable language_">module</span> = {
        <span class="hljs-attr">exports</span>: {}
    };
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">fn</span>(<span class="hljs-variable language_">module</span>, <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>), <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-84">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-84">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-85">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-85">&#x00a7;</a>
              </div>
              <p><code>invariant</code>
一个和throwIf相反的函数，如果条件为false的时候，则报错。</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> invariant_1 = <span class="hljs-title function_">createCommonjsModule</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span></span>) {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">invariant</span>(<span class="hljs-params">condition</span>) {
        <span class="hljs-keyword">if</span> (!condition) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Invariant Violation&#x27;</span>);
        }
    }
    <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = invariant;
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-keyword">var</span> invariantDev = <span class="hljs-keyword">function</span> (<span class="hljs-params">condition, format, a, b, c, d, e, f</span>) {
            <span class="hljs-keyword">if</span> (format === <span class="hljs-literal">undefined</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;invariant requires an error message argument&#x27;</span>);
            }
            <span class="hljs-keyword">if</span> (!condition) {
                <span class="hljs-keyword">var</span> args = [a, b, c, d, e, f];
                <span class="hljs-keyword">var</span> argIndex = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Invariant Violation: &#x27;</span> + format.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/%s/g</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
                    <span class="hljs-keyword">return</span> args[argIndex++];
                }))
            }
        };
        <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = invariantDev
    }
});</pre></div></div>
            
        </li>
        
        
        <li id="section-86">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-86">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-87">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-87">&#x00a7;</a>
              </div>
              <p><code>DOMProperty</code>
<code>isCustomAttribute</code>，一个函数，用于判断一个字符串是否为自定义属性。</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">DOMProperty</span> = {
    <span class="hljs-attr">isStandardName</span>: {},<span class="hljs-comment">// `Properties`所有key为key，value值都为vallue</span>
    <span class="hljs-attr">getAttributeName</span>: {},<span class="hljs-comment">// `Properties`所有key为key，value优先为`DOMAttributeNames`的value，不然则是`Properties`的key</span>
    <span class="hljs-attr">getPropertyName</span>: {},<span class="hljs-comment">// `Properties`所有key为key，value优先为`DOMPropertyNames`的value，不然则是`Properties`的key</span>
    <span class="hljs-attr">getMutationMethod</span>: {},<span class="hljs-comment">// {className:}function (node, value) { node.className = value || &#x27;&#x27; }</span>
    <span class="hljs-attr">mustUseAttribute</span>: {},<span class="hljs-comment">// `Properties`所有key为key,vlue值为 0 和其他数字</span>
    <span class="hljs-attr">mustUseProperty</span>: {},<span class="hljs-comment">// `Properties`所有key为key,vlue值为 0 和其他数字</span>
    <span class="hljs-attr">hasBooleanValue</span>: {},<span class="hljs-comment">// `Properties`所有key为key,vlue值为 0 和其他数字</span>
    <span class="hljs-attr">hasSideEffects</span>: {},<span class="hljs-comment">// `Properties`所有key为key,vlue值为 0 和其他数字</span>
    <span class="hljs-attr">isCustomAttribute</span>: <span class="hljs-title class_">RegExp</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">test</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-regexp">/^(data|aria)-[a-z_][a-z\d_.\-]*$/</span>)
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">MustUseAttribute</span> = <span class="hljs-number">0x1</span>;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">MustUseProperty</span> = <span class="hljs-number">0x2</span>;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">HasBooleanValue</span> = <span class="hljs-number">0x4</span>;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">HasSideEffects</span> = <span class="hljs-number">0x8</span>;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Properties</span> = {
    <span class="hljs-attr">accept</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">action</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">ajaxify</span>: <span class="hljs-title class_">MustUseAttribute</span>,
    <span class="hljs-attr">allowFullScreen</span>: <span class="hljs-title class_">MustUseAttribute</span> | <span class="hljs-title class_">HasBooleanValue</span>,
    <span class="hljs-attr">alt</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">autoComplete</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">autoplay</span>: <span class="hljs-title class_">HasBooleanValue</span>,
    <span class="hljs-attr">cellPadding</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">cellSpacing</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">checked</span>: <span class="hljs-title class_">MustUseProperty</span> | <span class="hljs-title class_">HasBooleanValue</span>,
    <span class="hljs-attr">className</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">colSpan</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">contentEditable</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">controls</span>: <span class="hljs-title class_">MustUseProperty</span> | <span class="hljs-title class_">HasBooleanValue</span>,
    <span class="hljs-attr">data</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">dir</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">disabled</span>: <span class="hljs-title class_">MustUseProperty</span> | <span class="hljs-title class_">HasBooleanValue</span>,
    <span class="hljs-attr">enctype</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">href</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">htmlFor</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">max</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">min</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">multiple</span>: <span class="hljs-title class_">MustUseProperty</span> | <span class="hljs-title class_">HasBooleanValue</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">poster</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">preload</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">placeholder</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">rel</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-title class_">HasBooleanValue</span>,
    <span class="hljs-attr">role</span>: <span class="hljs-title class_">MustUseAttribute</span>,
    <span class="hljs-attr">scrollLeft</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">scrollTop</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">selected</span>: <span class="hljs-title class_">MustUseProperty</span> | <span class="hljs-title class_">HasBooleanValue</span>,
    <span class="hljs-attr">spellCheck</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">src</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">step</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">style</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">tabIndex</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">target</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">title</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-title class_">MustUseProperty</span> | <span class="hljs-title class_">HasSideEffects</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">wmode</span>: <span class="hljs-title class_">MustUseAttribute</span>,
    <span class="hljs-attr">cx</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">cy</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">d</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">fill</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">fx</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">fy</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">points</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">r</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">stroke</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">strokeLinecap</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">strokeWidth</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">transform</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">x</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">x1</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">x2</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">viewBox</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">y</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">y1</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">y2</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">spreadMethod</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">offset</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">stopColor</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">stopOpacity</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">gradientUnits</span>: <span class="hljs-title class_">MustUseProperty</span>,
    <span class="hljs-attr">gradientTransform</span>: <span class="hljs-title class_">MustUseProperty</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">DOMAttributeNames</span> = {
    <span class="hljs-attr">className</span>: <span class="hljs-string">&#x27;class&#x27;</span>,
    <span class="hljs-attr">htmlFor</span>: <span class="hljs-string">&#x27;for&#x27;</span>,
    <span class="hljs-attr">strokeLinecap</span>: <span class="hljs-string">&#x27;stroke-linecap&#x27;</span>,
    <span class="hljs-attr">strokeWidth</span>: <span class="hljs-string">&#x27;stroke-width&#x27;</span>,
    <span class="hljs-attr">stopColor</span>: <span class="hljs-string">&#x27;stop-color&#x27;</span>,
    <span class="hljs-attr">stopOpacity</span>: <span class="hljs-string">&#x27;stop-opacity&#x27;</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">DOMPropertyNames</span> = {
    <span class="hljs-attr">autoComplete</span>: <span class="hljs-string">&#x27;autocomplete&#x27;</span>,
    <span class="hljs-attr">spellCheck</span>: <span class="hljs-string">&#x27;spellcheck&#x27;</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">DOMMutationMethods</span> = {
    <span class="hljs-attr">className</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">node, value</span>) {
        node.<span class="hljs-property">className</span> = value || <span class="hljs-string">&#x27;&#x27;</span>
    }
};
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> propName <span class="hljs-keyword">in</span> <span class="hljs-title class_">Properties</span>) {
    <span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">isStandardName</span>[propName] = <span class="hljs-literal">true</span>;
    <span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">getAttributeName</span>[propName] = <span class="hljs-title class_">DOMAttributeNames</span>[propName] || propName.<span class="hljs-title function_">toLowerCase</span>();
    <span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">getPropertyName</span>[propName] = <span class="hljs-title class_">DOMPropertyNames</span>[propName] || propName;
    <span class="hljs-keyword">var</span> mutationMethod = <span class="hljs-title class_">DOMMutationMethods</span>[propName];
    <span class="hljs-keyword">if</span> (mutationMethod) {
        <span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">getMutationMethod</span>[propName] = mutationMethod
    }
    <span class="hljs-keyword">var</span> propConfig = <span class="hljs-title class_">Properties</span>[propName];
    <span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">mustUseAttribute</span>[propName] = propConfig &amp; <span class="hljs-title class_">MustUseAttribute</span>;
    <span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">mustUseProperty</span>[propName] = propConfig &amp; <span class="hljs-title class_">MustUseProperty</span>;
    <span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">hasBooleanValue</span>[propName] = propConfig &amp; <span class="hljs-title class_">HasBooleanValue</span>;
    <span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">hasSideEffects</span>[propName] = propConfig &amp; <span class="hljs-title class_">HasSideEffects</span>;
    <span class="hljs-title function_">invariant_1</span>(!<span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">mustUseAttribute</span>[propName] || !<span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">mustUseProperty</span>[propName], <span class="hljs-string">&#x27;DOMProperty: Cannot use require using both attribute and property: %s&#x27;</span>, propName);
    <span class="hljs-title function_">invariant_1</span>(<span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">mustUseProperty</span>[propName] || !<span class="hljs-title class_">DOMProperty</span>.<span class="hljs-property">hasSideEffects</span>[propName], <span class="hljs-string">&#x27;DOMProperty: Properties that have side effects must use property: %s&#x27;</span>, propName)
}
<span class="hljs-keyword">var</span> <span class="hljs-title class_">DOMProperty</span>_1 = <span class="hljs-title class_">DOMProperty</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-88">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-88">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-89">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-89">&#x00a7;</a>
              </div>
              <p><code>processAttributeNameAndPrefix</code>
传入字符串，去驼峰，再转义</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> processAttributeNameAndPrefix = <span class="hljs-title function_">memoizeStringOnly_1</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) {
    <span class="hljs-keyword">return</span> escapeTextForBrowser_1(name) + <span class="hljs-string">&#x27;=&quot;&#x27;</span>
});</pre></div></div>
            
        </li>
        
        
        <li id="section-90">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-90">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-91">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-91">&#x00a7;</a>
              </div>
              <p><code>DOMPropertyOperations</code>
<code>createMarkupForProperty</code>，<code>setValueForProperty</code>都是用来设置样式</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">DOMPropertyOperations</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-92">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-92">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-93">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-93">&#x00a7;</a>
              </div>
              <p>createMarkupForProperty
传入 <code>name</code>、<code>value</code>，并生成 XXX=”XXX”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">createMarkupForProperty</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">name, value</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">isStandardName</span>[name]) {
            <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span> || <span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">hasBooleanValue</span>[name] &amp;&amp; !value) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>
            }
            <span class="hljs-keyword">var</span> attributeName = <span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">getAttributeName</span>[name];
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">processAttributeNameAndPrefix</span>(attributeName) + escapeTextForBrowser_1(value) + <span class="hljs-string">&#x27;&quot;&#x27;</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-title function_">isCustomAttribute</span>(name)) {
            <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>
            }
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">processAttributeNameAndPrefix</span>(name) + escapeTextForBrowser_1(value) + <span class="hljs-string">&#x27;&quot;&#x27;</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-94">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-94">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-95">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-95">&#x00a7;</a>
              </div>
              <p><code>setValueForProperty</code>
用于设置或者移除dom元素<code>node</code>的<code>name</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">setValueForProperty</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">node, name, value</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">isStandardName</span>[name]) {
            <span class="hljs-keyword">var</span> mutationMethod = <span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">getMutationMethod</span>[name];
            <span class="hljs-keyword">if</span> (mutationMethod) {
                <span class="hljs-title function_">mutationMethod</span>(node, value)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">mustUseAttribute</span>[name]) {
                <span class="hljs-keyword">if</span> (<span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">hasBooleanValue</span>[name] &amp;&amp; !value) {
                    node.<span class="hljs-title function_">removeAttribute</span>(<span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">getAttributeName</span>[name])
                } <span class="hljs-keyword">else</span> {
                    node.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">getAttributeName</span>[name], value)
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">var</span> propName = <span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">getPropertyName</span>[name];
                <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-property">hasSideEffects</span>[name] || node[propName] !== value) {
                    node[propName] = value
                }
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">DOMProperty</span>_1.<span class="hljs-title function_">isCustomAttribute</span>(name)) {
            node.<span class="hljs-title function_">setAttribute</span>(name, value)
        }
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">DOMPropertyOperations</span>_1 = <span class="hljs-title class_">DOMPropertyOperations</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-96">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-96">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-97">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-97">&#x00a7;</a>
              </div>
              <p><code>BrowserEnv</code>
一个对象，用于记录当前浏览器滚动的偏移量</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">BrowserEnv</span> = {
    <span class="hljs-attr">currentScrollLeft</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">currentScrollTop</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">browserInfo</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">refreshAuthoritativeScrollValues</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-title class_">BrowserEnv</span>.<span class="hljs-property">currentScrollLeft</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">scrollLeft</span> + <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollLeft</span>;
        <span class="hljs-title class_">BrowserEnv</span>.<span class="hljs-property">currentScrollTop</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">scrollTop</span> + <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span>
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">BrowserEnv</span>_1 = <span class="hljs-title class_">BrowserEnv</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-98">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-98">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-99">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-99">&#x00a7;</a>
              </div>
              <p><code>NOT_OBJECT_ERROR</code>
不是对象的报错信息</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">NOT_OBJECT_ERROR</span> = <span class="hljs-string">&#x27;NOT_OBJECT_ERROR&#x27;</span>;
<span class="hljs-keyword">if</span> (__DEV__) {
    <span class="hljs-variable constant_">NOT_OBJECT_ERROR</span> = <span class="hljs-string">&#x27;keyMirror only works on objects&#x27;</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-100">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-100">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-101">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-101">&#x00a7;</a>
              </div>
              <p><code>keyMirror</code>
传入一个对象，返回另一个对象(key为原对象的key，value为原对象的key)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> keyMirror = <span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) {
    <span class="hljs-keyword">var</span> ret = {};
    <span class="hljs-keyword">var</span> key;
    <span class="hljs-title function_">throwIf_1</span>(!(obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>) || <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj), <span class="hljs-variable constant_">NOT_OBJECT_ERROR</span>);
    <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> obj) {
        <span class="hljs-keyword">if</span> (!obj.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
            <span class="hljs-keyword">continue</span>
        }
        ret[key] = key
    }
    <span class="hljs-keyword">return</span> ret
};
<span class="hljs-keyword">var</span> keyMirror_1 = keyMirror;</pre></div></div>
            
        </li>
        
        
        <li id="section-102">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-102">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-103">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-103">&#x00a7;</a>
              </div>
              <p><code>PropagationPhases</code>
一个对象{bubbled:”bubbled”,captured:”captured”}</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">PropagationPhases</span>$<span class="hljs-number">1</span> = <span class="hljs-title function_">keyMirror_1</span>({
    <span class="hljs-attr">bubbled</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">captured</span>: <span class="hljs-literal">null</span>
});</pre></div></div>
            
        </li>
        
        
        <li id="section-104">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-104">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-105">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-105">&#x00a7;</a>
              </div>
              <p><code>topLevelTypes</code>
document元素的事件回调函数标识，都是 topXXX</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> topLevelTypes$<span class="hljs-number">4</span> = <span class="hljs-title function_">keyMirror_1</span>({
    <span class="hljs-attr">topBlur</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topChange</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topClick</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topDOMCharacterDataModified</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topDoubleClick</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topFocus</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topKeyDown</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topKeyPress</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topKeyUp</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topMouseDown</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topMouseMove</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topMouseOut</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topMouseOver</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topMouseUp</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topMouseWheel</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topScroll</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topSubmit</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topTouchCancel</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topTouchEnd</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topTouchMove</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">topTouchStart</span>: <span class="hljs-literal">null</span>
});
<span class="hljs-keyword">var</span> <span class="hljs-title class_">EventConstants</span> = {
    <span class="hljs-attr">topLevelTypes</span>: topLevelTypes$<span class="hljs-number">4</span>,
    <span class="hljs-title class_">PropagationPhases</span>: <span class="hljs-title class_">PropagationPhases</span>$<span class="hljs-number">1</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">EventConstants</span>_1 = <span class="hljs-title class_">EventConstants</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-106">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-106">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-107">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-107">&#x00a7;</a>
              </div>
              <p><code>oneArgumentPooler</code>
用作传入一个参数实例化</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> oneArgumentPooler = <span class="hljs-keyword">function</span> (<span class="hljs-params">copyFieldsFrom</span>) {
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Klass</span> = <span class="hljs-variable language_">this</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Klass</span>.<span class="hljs-property">instancePool</span>.<span class="hljs-property">length</span>) {
        <span class="hljs-keyword">var</span> instance = <span class="hljs-title class_">Klass</span>.<span class="hljs-property">instancePool</span>.<span class="hljs-title function_">pop</span>();
        <span class="hljs-title class_">Klass</span>.<span class="hljs-title function_">call</span>(instance, copyFieldsFrom);
        <span class="hljs-keyword">return</span> instance
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Klass</span>(copyFieldsFrom)
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-108">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-108">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-109">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-109">&#x00a7;</a>
              </div>
              <p><code>twoArgumentPooler</code>
用作传入2个参数实例化</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> twoArgumentPooler = <span class="hljs-keyword">function</span> (<span class="hljs-params">a1, a2</span>) {
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Klass</span> = <span class="hljs-variable language_">this</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Klass</span>.<span class="hljs-property">instancePool</span>.<span class="hljs-property">length</span>) {
        <span class="hljs-keyword">var</span> instance = <span class="hljs-title class_">Klass</span>.<span class="hljs-property">instancePool</span>.<span class="hljs-title function_">pop</span>();
        <span class="hljs-title class_">Klass</span>.<span class="hljs-title function_">call</span>(instance, a1, a2);
        <span class="hljs-keyword">return</span> instance
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Klass</span>(a1, a2)
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-110">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-110">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-111">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-111">&#x00a7;</a>
              </div>
              <p><code>fiveArgumentPooler</code>
用作传入5个参数实例化</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> fiveArgumentPooler = <span class="hljs-keyword">function</span> (<span class="hljs-params">a1, a2, a3, a4, a5</span>) {
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Klass</span> = <span class="hljs-variable language_">this</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Klass</span>.<span class="hljs-property">instancePool</span>.<span class="hljs-property">length</span>) {
        <span class="hljs-keyword">var</span> instance = <span class="hljs-title class_">Klass</span>.<span class="hljs-property">instancePool</span>.<span class="hljs-title function_">pop</span>();
        <span class="hljs-title class_">Klass</span>.<span class="hljs-title function_">call</span>(instance, a1, a2, a3, a4, a5);
        <span class="hljs-keyword">return</span> instance
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Klass</span>(a1, a2, a3, a4, a5)
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-112">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-112">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-113">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-113">&#x00a7;</a>
              </div>
              <p><code>standardReleaser</code>
一般是执行完 <code>perform</code>后的资源释放方法</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> standardReleaser = <span class="hljs-keyword">function</span> (<span class="hljs-params">instance</span>) {
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Klass</span> = <span class="hljs-variable language_">this</span>;
    <span class="hljs-keyword">if</span> (instance.<span class="hljs-property">destructor</span>) {
        instance.<span class="hljs-title function_">destructor</span>()
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Klass</span>.<span class="hljs-property">instancePool</span>.<span class="hljs-property">length</span> &lt; <span class="hljs-title class_">Klass</span>.<span class="hljs-property">poolSize</span>) {
        <span class="hljs-title class_">Klass</span>.<span class="hljs-property">instancePool</span>.<span class="hljs-title function_">push</span>(instance)
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">DEFAULT_POOL_SIZE</span> = <span class="hljs-number">10</span>;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">DEFAULT_POOLER</span> = oneArgumentPooler;</pre></div></div>
            
        </li>
        
        
        <li id="section-114">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-114">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-115">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-115">&#x00a7;</a>
              </div>
              <p><code>addPoolingTo</code>
给一个函数<code>CopyConstructor</code>设置一些静态属性初始化方法</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> addPoolingTo = <span class="hljs-keyword">function</span> (<span class="hljs-params">CopyConstructor, pooler</span>) {
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">NewKlass</span> = <span class="hljs-title class_">CopyConstructor</span>;
    <span class="hljs-title class_">NewKlass</span>.<span class="hljs-property">instancePool</span> = [];
    <span class="hljs-title class_">NewKlass</span>.<span class="hljs-property">getPooled</span> = pooler || <span class="hljs-variable constant_">DEFAULT_POOLER</span>;
    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">NewKlass</span>.<span class="hljs-property">poolSize</span>) {
        <span class="hljs-title class_">NewKlass</span>.<span class="hljs-property">poolSize</span> = <span class="hljs-variable constant_">DEFAULT_POOL_SIZE</span>
    }
    <span class="hljs-title class_">NewKlass</span>.<span class="hljs-property">release</span> = standardReleaser;
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">NewKlass</span>
};</pre></div></div>
            
        </li>
        
        
        <li id="section-116">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-116">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-117">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-117">&#x00a7;</a>
              </div>
              <p><code>PooledClass</code>
用于生成初始化和添加初始化函数静态属性的对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">PooledClass</span> = {
    <span class="hljs-attr">addPoolingTo</span>: addPoolingTo,
    <span class="hljs-attr">oneArgumentPooler</span>: oneArgumentPooler,
    <span class="hljs-attr">twoArgumentPooler</span>: twoArgumentPooler,
    <span class="hljs-attr">fiveArgumentPooler</span>: fiveArgumentPooler
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">PooledClass</span>_1 = <span class="hljs-title class_">PooledClass</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-118">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-118">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-119">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-119">&#x00a7;</a>
              </div>
              <p><code>TouchEventUtils</code>
用于解析触摸事件的对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">TouchEventUtils</span> = {
    <span class="hljs-attr">extractSingleTouch</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nativeEvent</span>) {
        <span class="hljs-keyword">var</span> touches = nativeEvent.<span class="hljs-property">touches</span>;
        <span class="hljs-keyword">var</span> changedTouches = nativeEvent.<span class="hljs-property">changedTouches</span>;
        <span class="hljs-keyword">var</span> hasTouches = touches &amp;&amp; touches.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> hasChangedTouches = changedTouches &amp;&amp; changedTouches.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> !hasTouches &amp;&amp; hasChangedTouches ? changedTouches[<span class="hljs-number">0</span>] : hasTouches ? touches[<span class="hljs-number">0</span>] : nativeEvent
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">TouchEventUtils</span>_1 = <span class="hljs-title class_">TouchEventUtils</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-120">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-120">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-121">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-121">&#x00a7;</a>
              </div>
              <p><code>CLONE_TYPE_ERR</code>
克隆 AbstractEvent 对象的报错信息</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">CLONE_TYPE_ERR</span>;
<span class="hljs-keyword">if</span> (__DEV__) {
    <span class="hljs-variable constant_">CLONE_TYPE_ERR</span> = <span class="hljs-string">&#x27;You may only clone instances of AbstractEvent for persistent references. Check yourself.&#x27;</span>
}
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">MAX_POOL_SIZE</span> = <span class="hljs-number">20</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-122">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-122">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-123">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-123">&#x00a7;</a>
              </div>
              <p><code>AbstractEvent</code>
<code>abstractEventType</code>是一个被加工兼容过的事件对象；<code>abstractTargetID</code>是由rt框架生成的id；<code>originatingTopLevelEventType</code>用来进一步解析事件的对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">AbstractEvent</span>(<span class="hljs-params">abstractEventType, abstractTargetID, originatingTopLevelEventType, nativeEvent, data</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = abstractEventType;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">abstractTargetID</span> = abstractTargetID || <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">originatingTopLevelEventType</span> = originatingTopLevelEventType;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">nativeEvent</span> = nativeEvent;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">target</span> = nativeEvent &amp;&amp; nativeEvent.<span class="hljs-property">target</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_dispatchListeners</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_dispatchIDs</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPropagationStopped</span> = <span class="hljs-literal">false</span>
}
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property">poolSize</span> = <span class="hljs-variable constant_">MAX_POOL_SIZE</span>;
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">destructor</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">target</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_dispatchListeners</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_dispatchIDs</span> = <span class="hljs-literal">null</span>
};
<span class="hljs-title class_">PooledClass</span>_1.<span class="hljs-title function_">addPoolingTo</span>(<span class="hljs-title class_">AbstractEvent</span>, <span class="hljs-title class_">PooledClass</span>_1.<span class="hljs-property">fiveArgumentPooler</span>);
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">stopPropagation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPropagationStopped</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">nativeEvent</span>.<span class="hljs-property">stopPropagation</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">nativeEvent</span>.<span class="hljs-title function_">stopPropagation</span>()
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">nativeEvent</span>.<span class="hljs-property">cancelBubble</span> = <span class="hljs-literal">true</span>
};
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">preventDefault</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-title function_">preventDefaultOnNativeEvent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">nativeEvent</span>)
};
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property">preventDefaultOnNativeEvent</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">nativeEvent</span>) {
    <span class="hljs-keyword">if</span> (nativeEvent.<span class="hljs-property">preventDefault</span>) {
        nativeEvent.<span class="hljs-title function_">preventDefault</span>()
    } <span class="hljs-keyword">else</span> {
        nativeEvent.<span class="hljs-property">returnValue</span> = <span class="hljs-literal">false</span>
    }
};
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property">normalizeScrollDataFromTarget</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">target</span>) {
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">scrollTop</span>: target.<span class="hljs-property">scrollTop</span>,
        <span class="hljs-attr">scrollLeft</span>: target.<span class="hljs-property">scrollLeft</span>,
        <span class="hljs-attr">clientWidth</span>: target.<span class="hljs-property">clientWidth</span>,
        <span class="hljs-attr">clientHeight</span>: target.<span class="hljs-property">clientHeight</span>,
        <span class="hljs-attr">scrollHeight</span>: target.<span class="hljs-property">scrollHeight</span>,
        <span class="hljs-attr">scrollWidth</span>: target.<span class="hljs-property">scrollWidth</span>
    }
};
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property">normalizeMouseWheelData</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">nativeEvent</span>) {
    <span class="hljs-keyword">var</span> delta = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> deltaX = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> deltaY = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (nativeEvent.<span class="hljs-property">wheelDelta</span>) {
        delta = nativeEvent.<span class="hljs-property">wheelDelta</span> / <span class="hljs-number">120</span>
    }
    <span class="hljs-keyword">if</span> (nativeEvent.<span class="hljs-property">detail</span>) {
        delta = -nativeEvent.<span class="hljs-property">detail</span> / <span class="hljs-number">3</span>
    }
    deltaY = delta;
    <span class="hljs-keyword">if</span> (nativeEvent.<span class="hljs-property">axis</span> !== <span class="hljs-literal">undefined</span> &amp;&amp; nativeEvent.<span class="hljs-property">axis</span> === nativeEvent.<span class="hljs-property">HORIZONTAL_AXIS</span>) {
        deltaY = <span class="hljs-number">0</span>;
        deltaX = -delta
    }
    <span class="hljs-keyword">if</span> (nativeEvent.<span class="hljs-property">wheelDeltaY</span> !== <span class="hljs-literal">undefined</span>) {
        deltaY = nativeEvent.<span class="hljs-property">wheelDeltaY</span> / <span class="hljs-number">120</span>
    }
    <span class="hljs-keyword">if</span> (nativeEvent.<span class="hljs-property">wheelDeltaX</span> !== <span class="hljs-literal">undefined</span>) {
        deltaX = -nativeEvent.<span class="hljs-property">wheelDeltaX</span> / <span class="hljs-number">120</span>
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">delta</span>: delta,
        <span class="hljs-attr">deltaX</span>: deltaX,
        <span class="hljs-attr">deltaY</span>: deltaY
    }
};
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property">isNativeClickEventRightClick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">nativeEvent</span>) {
    <span class="hljs-keyword">return</span> nativeEvent.<span class="hljs-property">which</span> ? nativeEvent.<span class="hljs-property">which</span> === <span class="hljs-number">3</span> : nativeEvent.<span class="hljs-property">button</span> ? nativeEvent.<span class="hljs-property">button</span> === <span class="hljs-number">2</span> : <span class="hljs-literal">false</span>
};
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property">normalizePointerData</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">nativeEvent</span>) {
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">globalX</span>: <span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-title function_">eventPageX</span>(nativeEvent),
        <span class="hljs-attr">globalY</span>: <span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-title function_">eventPageY</span>(nativeEvent),
        <span class="hljs-attr">rightMouseButton</span>: <span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-title function_">isNativeClickEventRightClick</span>(nativeEvent)
    }
};
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property">normalizeDragEventData</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">nativeEvent, globalX, globalY, startX, startY</span>) {
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">globalX</span>: globalX,
        <span class="hljs-attr">globalY</span>: globalY,
        <span class="hljs-attr">startX</span>: startX,
        <span class="hljs-attr">startY</span>: startY
    }
};
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property">eventPageY</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">nativeEvent</span>) {
    <span class="hljs-keyword">var</span> singleTouch = <span class="hljs-title class_">TouchEventUtils</span>_1.<span class="hljs-title function_">extractSingleTouch</span>(nativeEvent);
    <span class="hljs-keyword">if</span> (singleTouch) {
        <span class="hljs-keyword">return</span> singleTouch.<span class="hljs-property">pageY</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> nativeEvent.<span class="hljs-property">pageY</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>) {
        <span class="hljs-keyword">return</span> nativeEvent.<span class="hljs-property">pageY</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> nativeEvent.<span class="hljs-property">clientY</span> + <span class="hljs-title class_">BrowserEnv</span>_1.<span class="hljs-property">currentPageScrollTop</span>
    }
};
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property">eventPageX</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">nativeEvent</span>) {
    <span class="hljs-keyword">var</span> singleTouch = <span class="hljs-title class_">TouchEventUtils</span>_1.<span class="hljs-title function_">extractSingleTouch</span>(nativeEvent);
    <span class="hljs-keyword">if</span> (singleTouch) {
        <span class="hljs-keyword">return</span> singleTouch.<span class="hljs-property">pageX</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> nativeEvent.<span class="hljs-property">pageX</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>) {
        <span class="hljs-keyword">return</span> nativeEvent.<span class="hljs-property">pageX</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> nativeEvent.<span class="hljs-property">clientX</span> + <span class="hljs-title class_">BrowserEnv</span>_1.<span class="hljs-property">currentPageScrollLeft</span>
    }
};
<span class="hljs-title class_">AbstractEvent</span>.<span class="hljs-property">persistentCloneOf</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">abstractEvent</span>) {
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">throwIf_1</span>(!(abstractEvent <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">AbstractEvent</span>), <span class="hljs-variable constant_">CLONE_TYPE_ERR</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbstractEvent</span>(abstractEvent.<span class="hljs-property">type</span>, abstractEvent.<span class="hljs-property">abstractTargetID</span>, abstractEvent.<span class="hljs-property">originatingTopLevelEventType</span>, abstractEvent.<span class="hljs-property">nativeEvent</span>, abstractEvent.<span class="hljs-property">data</span>, abstractEvent.<span class="hljs-property">target</span>)
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">AbstractEvent</span>_1 = <span class="hljs-title class_">AbstractEvent</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-124">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-124">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-125">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-125">&#x00a7;</a>
              </div>
              <p><code>listenerBank</code>
根据元素的事件名，id，记录一系列的回调函数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> listenerBank = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-126">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-126">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-127">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-127">&#x00a7;</a>
              </div>
              <p><code>CallbackRegistry</code>
事件的记录对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">CallbackRegistry</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-128">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-128">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-129">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-129">&#x00a7;</a>
              </div>
              <p><code>putListener</code>
记录事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">putListener</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id, registrationName, listener</span>) {
        <span class="hljs-keyword">var</span> bankForRegistrationName = listenerBank[registrationName] || (listenerBank[registrationName] = {});
        bankForRegistrationName[id] = listener
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-130">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-130">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-131">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-131">&#x00a7;</a>
              </div>
              <p><code>getListener</code>
获取事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">getListener</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id, registrationName</span>) {
        <span class="hljs-keyword">var</span> bankForRegistrationName = listenerBank[registrationName];
        <span class="hljs-keyword">return</span> bankForRegistrationName &amp;&amp; bankForRegistrationName[id]
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-132">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-132">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-133">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-133">&#x00a7;</a>
              </div>
              <p><code>deleteListener</code>
删除事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">deleteListener</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id, registrationName</span>) {
        <span class="hljs-keyword">var</span> bankForRegistrationName = listenerBank[registrationName];
        <span class="hljs-keyword">if</span> (bankForRegistrationName) {
            <span class="hljs-keyword">delete</span> bankForRegistrationName[id]
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-134">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-134">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-135">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-135">&#x00a7;</a>
              </div>
              <p><code>deleteListener</code>
清除事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">__purge</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        listenerBank = {}
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">CallbackRegistry</span>_1 = <span class="hljs-title class_">CallbackRegistry</span>;
<span class="hljs-keyword">var</span> topLevelTypes$<span class="hljs-number">3</span> = <span class="hljs-title class_">EventConstants</span>_1.<span class="hljs-property">topLevelTypes</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-136">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-136">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-137">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-137">&#x00a7;</a>
              </div>
              <p><code>isEndish</code>
传入<code>topLevelType</code>，判断是否为离开屏幕的事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">isEndish</span>(<span class="hljs-params">topLevelType</span>) {
    <span class="hljs-keyword">return</span> topLevelType === topLevelTypes$<span class="hljs-number">3.</span>topMouseUp || topLevelType === topLevelTypes$<span class="hljs-number">3.</span>topTouchEnd || topLevelType === topLevelTypes$<span class="hljs-number">3.</span>topTouchCancel
}</pre></div></div>
            
        </li>
        
        
        <li id="section-138">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-138">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-139">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-139">&#x00a7;</a>
              </div>
              <p><code>isMoveish</code>
传入<code>topLevelType</code>，判断是否为在屏幕移动的事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">isMoveish</span>(<span class="hljs-params">topLevelType</span>) {
    <span class="hljs-keyword">return</span> topLevelType === topLevelTypes$<span class="hljs-number">3.</span>topMouseMove || topLevelType === topLevelTypes$<span class="hljs-number">3.</span>topTouchMove
}</pre></div></div>
            
        </li>
        
        
        <li id="section-140">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-140">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-141">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-141">&#x00a7;</a>
              </div>
              <p><code>isStartish</code>
传入<code>topLevelType</code>，判断是否为进入屏幕的事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">isStartish</span>(<span class="hljs-params">topLevelType</span>) {
    <span class="hljs-keyword">return</span> topLevelType === topLevelTypes$<span class="hljs-number">3.</span>topMouseDown || topLevelType === topLevelTypes$<span class="hljs-number">3.</span>topTouchStart
}</pre></div></div>
            
        </li>
        
        
        <li id="section-142">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-142">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-143">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-143">&#x00a7;</a>
              </div>
              <p><code>storePageCoordsIn</code>
获取屏幕的X、Y轴坐标给对象<code>obj</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">storePageCoordsIn</span>(<span class="hljs-params">obj, nativeEvent</span>) {
    <span class="hljs-keyword">var</span> pageX = <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">eventPageX</span>(nativeEvent);
    <span class="hljs-keyword">var</span> pageY = <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">eventPageY</span>(nativeEvent);
    obj.<span class="hljs-property">pageX</span> = pageX;
    obj.<span class="hljs-property">pageY</span> = pageY
}</pre></div></div>
            
        </li>
        
        
        <li id="section-144">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-144">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-145">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-145">&#x00a7;</a>
              </div>
              <p><code>eventDistance</code>
获取<code>coords</code>、<code>nativeEvent</code>两点之间的距离</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">eventDistance</span>(<span class="hljs-params">coords, nativeEvent</span>) {
    <span class="hljs-keyword">var</span> pageX = <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">eventPageX</span>(nativeEvent);
    <span class="hljs-keyword">var</span> pageY = <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">eventPageY</span>(nativeEvent);
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(pageX - coords.<span class="hljs-property">pageX</span>, <span class="hljs-number">2</span>) + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(pageY - coords.<span class="hljs-property">pageY</span>, <span class="hljs-number">2</span>), <span class="hljs-number">0.5</span>)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-146">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-146">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-147">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-147">&#x00a7;</a>
              </div>
              <p><code>validateEventDispatches</code>
传入<code>abstractEvent</code>事件，判断abstractEvent是否为 <code>AbstractEvent</code>对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> validateEventDispatches;
<span class="hljs-keyword">if</span> (__DEV__) {
    validateEventDispatches = <span class="hljs-keyword">function</span> (<span class="hljs-params">abstractEvent</span>) {
        <span class="hljs-keyword">var</span> dispatchListeners = abstractEvent.<span class="hljs-property">_dispatchListeners</span>;
        <span class="hljs-keyword">var</span> dispatchIDs = abstractEvent.<span class="hljs-property">_dispatchIDs</span>;
        <span class="hljs-keyword">var</span> listenersIsArr = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(dispatchListeners);
        <span class="hljs-keyword">var</span> idsIsArr = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(dispatchIDs);
        <span class="hljs-keyword">var</span> IDsLen = idsIsArr ? dispatchIDs.<span class="hljs-property">length</span> : dispatchIDs ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> listenersLen = listenersIsArr ? dispatchListeners.<span class="hljs-property">length</span> : dispatchListeners ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
        <span class="hljs-title function_">invariant_1</span>(idsIsArr === listenersIsArr &amp;&amp; IDsLen === listenersLen, <span class="hljs-string">&#x27;EventPluginUtils: Invalid `abstractEvent`.&#x27;</span>)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-148">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-148">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-149">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-149">&#x00a7;</a>
              </div>
              <p><code>forEachEventDispatch</code>
遍历<code>abstractEvent.dispatchListeners</code>，循环执行<code>cb(abstractEvent,dispatchListeners,dispatchIDs)</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">forEachEventDispatch</span>(<span class="hljs-params">abstractEvent, cb</span>) {
    <span class="hljs-keyword">var</span> dispatchListeners = abstractEvent.<span class="hljs-property">_dispatchListeners</span>;
    <span class="hljs-keyword">var</span> dispatchIDs = abstractEvent.<span class="hljs-property">_dispatchIDs</span>;
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">validateEventDispatches</span>(abstractEvent)
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(dispatchListeners)) {
        <span class="hljs-keyword">var</span> i;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; dispatchListeners.<span class="hljs-property">length</span> &amp;&amp; !abstractEvent.<span class="hljs-property">isPropagationStopped</span>; i++) {
            <span class="hljs-title function_">cb</span>(abstractEvent, dispatchListeners[i], dispatchIDs[i])
        }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dispatchListeners) {
        <span class="hljs-title function_">cb</span>(abstractEvent, dispatchListeners, dispatchIDs)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-150">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-150">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-151">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-151">&#x00a7;</a>
              </div>
              <p><code>executeDispatch</code>
<code>listener</code>是绑定的事件回调函数，<code>domID</code>是Rt生成的DOM的id</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">executeDispatch</span>(<span class="hljs-params">abstractEvent, listener, domID</span>) {
    <span class="hljs-title function_">listener</span>(abstractEvent, domID)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-152">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-152">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-153">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-153">&#x00a7;</a>
              </div>
              <p><code>executeDispatchesInOrder</code>
循环执行某个事件，执行完毕后再清空</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">executeDispatchesInOrder</span>(<span class="hljs-params">abstractEvent, executeDispatch</span>) {
    <span class="hljs-title function_">forEachEventDispatch</span>(abstractEvent, executeDispatch);
    abstractEvent.<span class="hljs-property">_dispatchListeners</span> = <span class="hljs-literal">null</span>;
    abstractEvent.<span class="hljs-property">_dispatchIDs</span> = <span class="hljs-literal">null</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-154">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-154">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-155">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-155">&#x00a7;</a>
              </div>
              <p><code>executeDispatchesInOrderStopAtTrue</code>
循环执行<code>abstractEvent</code>事件，如果回调函数返回真值，则停止循环并返回它对应的id</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">executeDispatchesInOrderStopAtTrue</span>(<span class="hljs-params">abstractEvent</span>) {
    <span class="hljs-keyword">var</span> dispatchListeners = abstractEvent.<span class="hljs-property">_dispatchListeners</span>;
    <span class="hljs-keyword">var</span> dispatchIDs = abstractEvent.<span class="hljs-property">_dispatchIDs</span>;
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">validateEventDispatches</span>(abstractEvent)
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(dispatchListeners)) {
        <span class="hljs-keyword">var</span> i;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; dispatchListeners.<span class="hljs-property">length</span> &amp;&amp; !abstractEvent.<span class="hljs-property">isPropagationStopped</span>; i++) {
            <span class="hljs-keyword">if</span> (dispatchListeners[i](abstractEvent, dispatchIDs[i])) {
                <span class="hljs-keyword">return</span> dispatchIDs[i]
            }
        }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dispatchListeners) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">dispatchListeners</span>(abstractEvent, dispatchIDs)) {
            <span class="hljs-keyword">return</span> dispatchIDs
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-156">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-156">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-157">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-157">&#x00a7;</a>
              </div>
              <p><code>executeDirectDispatch</code>
执行<code>abstractEvent</code>（他的<code>_dispatchListeners</code>不是数组）</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">executeDirectDispatch</span>(<span class="hljs-params">abstractEvent</span>) {
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">validateEventDispatches</span>(abstractEvent)
    }
    <span class="hljs-keyword">var</span> dispatchListener = abstractEvent.<span class="hljs-property">_dispatchListeners</span>;
    <span class="hljs-keyword">var</span> dispatchID = abstractEvent.<span class="hljs-property">_dispatchIDs</span>;
    <span class="hljs-title function_">invariant_1</span>(!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(dispatchListener), <span class="hljs-string">&#x27;executeDirectDispatch(...): Invalid `abstractEvent`.&#x27;</span>);
    <span class="hljs-keyword">var</span> res = dispatchListener ? <span class="hljs-title function_">dispatchListener</span>(abstractEvent, dispatchID) : <span class="hljs-literal">null</span>;
    abstractEvent.<span class="hljs-property">_dispatchListeners</span> = <span class="hljs-literal">null</span>;
    abstractEvent.<span class="hljs-property">_dispatchIDs</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> res
}</pre></div></div>
            
        </li>
        
        
        <li id="section-158">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-158">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-159">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-159">&#x00a7;</a>
              </div>
              <p><code>hasDispatches</code>
判断<code>abstractEvent</code>是否含有<code>_dispatchListeners</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">hasDispatches</span>(<span class="hljs-params">abstractEvent</span>) {
    <span class="hljs-keyword">return</span> !!abstractEvent.<span class="hljs-property">_dispatchListeners</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-160">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-160">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-161">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-161">&#x00a7;</a>
              </div>
              <p><code>EventPluginUtils</code>
事件的辅助类</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">EventPluginUtils</span> = {
    <span class="hljs-attr">isEndish</span>: isEndish,<span class="hljs-comment">// 是否为离开（如keyup）</span>
    <span class="hljs-attr">isMoveish</span>: isMoveish,<span class="hljs-comment">// 是否为触动</span>
    <span class="hljs-attr">isStartish</span>: isStartish,<span class="hljs-comment">// 是否为进入</span>
    <span class="hljs-attr">storePageCoordsIn</span>: storePageCoordsIn,<span class="hljs-comment">// 是否为进入</span>
    <span class="hljs-attr">eventDistance</span>: eventDistance,<span class="hljs-comment">// 获得当前鼠标的 X、Y坐标</span>
    <span class="hljs-attr">executeDispatchesInOrder</span>: executeDispatchesInOrder,<span class="hljs-comment">// 循环执行某个事件，执行完毕后再清空</span>
    <span class="hljs-attr">executeDispatchesInOrderStopAtTrue</span>: executeDispatchesInOrderStopAtTrue,<span class="hljs-comment">// 循环执行`abstractEvent`事件，如果回调函数返回真值，则停止循环并返回它对应的id</span>
    <span class="hljs-attr">executeDirectDispatch</span>: executeDirectDispatch,<span class="hljs-comment">// 执行`abstractEvent`（他的`_dispatchListeners`不是数组）</span>
    <span class="hljs-attr">hasDispatches</span>: hasDispatches,<span class="hljs-comment">// 判断`abstractEvent`是否含有`_dispatchListeners`</span>
    <span class="hljs-attr">executeDispatch</span>: executeDispatch<span class="hljs-comment">// `listener`是绑定的事件回调函数，`domID`是Rt生成的DOM的id</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">EventPluginUtils</span>_1 = <span class="hljs-title class_">EventPluginUtils</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-162">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-162">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-163">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-163">&#x00a7;</a>
              </div>
              <p><code>INVALID_ARGS</code>
<code>accumulate</code>第二个参数为null时的报错信息</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">INVALID_ARGS</span> = <span class="hljs-string">&#x27;INVALID_ACCUM_ARGS&#x27;</span>;
<span class="hljs-keyword">if</span> (__DEV__) {
    <span class="hljs-variable constant_">INVALID_ARGS</span> = <span class="hljs-string">&#x27;accumulate requires non empty (non-null, defined) next values. All arrays accumulated must not contain any empty items.&#x27;</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-164">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-164">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-165">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-165">&#x00a7;</a>
              </div>
              <p><code>accumulate</code>
把两个参数合并为一个同层的数组</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">accumulate</span>(<span class="hljs-params">cur, next</span>) {
    <span class="hljs-keyword">var</span> curValIsEmpty = cur == <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> nextValIsEmpty = next === <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">throwIf_1</span>(nextValIsEmpty, <span class="hljs-variable constant_">INVALID_ARGS</span>);
    }
    <span class="hljs-keyword">if</span> (nextValIsEmpty) {
        <span class="hljs-keyword">return</span> cur
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (curValIsEmpty) {
            <span class="hljs-keyword">return</span> next
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> curIsArray = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(cur);
            <span class="hljs-keyword">var</span> nextIsArray = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(next);
            <span class="hljs-keyword">if</span> (curIsArray) {
                <span class="hljs-keyword">return</span> cur.<span class="hljs-title function_">concat</span>(next)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (nextIsArray) {
                    <span class="hljs-keyword">return</span> [cur].<span class="hljs-title function_">concat</span>(next)
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> [cur, next]
                }
            }
        }
    }
}
<span class="hljs-keyword">var</span> accumulate_1 = accumulate;</pre></div></div>
            
        </li>
        
        
        <li id="section-166">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-166">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-167">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-167">&#x00a7;</a>
              </div>
              <p><code>forEachAccumulated</code>
已scope为this，执行cb，cb的参数为 arr 的 v,k，或者直接是 arr</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> forEachAccumulated = <span class="hljs-keyword">function</span> (<span class="hljs-params">arr, cb, scope</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(arr)) {
        arr.<span class="hljs-title function_">forEach</span>(cb, scope)
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arr) {
        cb.<span class="hljs-title function_">call</span>(scope, arr)
    }
};
<span class="hljs-keyword">var</span> forEachAccumulated_1 = forEachAccumulated;
<span class="hljs-keyword">var</span> getListener = <span class="hljs-title class_">CallbackRegistry</span>_1.<span class="hljs-property">getListener</span>;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">PropagationPhases</span> = <span class="hljs-title class_">EventConstants</span>_1.<span class="hljs-property">PropagationPhases</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-168">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-168">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-169">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-169">&#x00a7;</a>
              </div>
              <p><code>injection$2</code>
一个用于操作Rt的dom元素ID的对象类</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> injection$<span class="hljs-number">2</span> = {
    <span class="hljs-title class_">InstanceHandle</span>: <span class="hljs-literal">null</span>,<span class="hljs-comment">//ReactInstanceHandles，会被注入赋值</span></pre></div></div>
            
        </li>
        
        
        <li id="section-170">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-170">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-171">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-171">&#x00a7;</a>
              </div>
              <p><code>injectInstanceHandle</code>
注入<code>InstanceHandle</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">injectInstanceHandle</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">InjectedInstanceHandle</span>) {
        injection$<span class="hljs-number">2.</span><span class="hljs-title class_">InstanceHandle</span> = <span class="hljs-title class_">InjectedInstanceHandle</span>;
        <span class="hljs-keyword">if</span> (__DEV__) {
            injection$<span class="hljs-number">2.</span><span class="hljs-title function_">validate</span>()
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-172">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-172">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-173">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-173">&#x00a7;</a>
              </div>
              <p><code>validate</code>
用于校验<code>injection$2</code>对象需要含有 <code>InstanceHandle</code>、<code>InstanceHandle.traverseTwoPhase</code>、<code>InstanceHandle.traverseEnterLeave</code>三个属性之一</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">validate</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">var</span> invalid = !injection$<span class="hljs-number">2.</span><span class="hljs-title class_">InstanceHandle</span> || !injection$<span class="hljs-number">2.</span><span class="hljs-title class_">InstanceHandle</span>.<span class="hljs-property">traverseTwoPhase</span> || !injection$<span class="hljs-number">2.</span><span class="hljs-title class_">InstanceHandle</span>.<span class="hljs-property">traverseEnterLeave</span>;
        <span class="hljs-keyword">if</span> (invalid) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;InstanceHandle not injected before use!&#x27;</span>);
        }
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-174">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-174">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-175">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-175">&#x00a7;</a>
              </div>
              <p><code>listenerAtPhase</code>
用于解析事件名，并返回事件回调函数，注意<code>abstractEvent.type</code>的结构为:{mouseDown: {phasedRegistrationNames: { bubbled: “bubbled”,captured: “onMouseDownCapture” }}}</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">listenerAtPhase</span>(<span class="hljs-params">id, abstractEvent, propagationPhase</span>) {
    <span class="hljs-keyword">var</span> registrationName = abstractEvent.<span class="hljs-property">type</span>.<span class="hljs-property">phasedRegistrationNames</span>[propagationPhase];
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">getListener</span>(id, registrationName)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-176">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-176">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-177">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-177">&#x00a7;</a>
              </div>
              <p><code>accumulateDirectionalDispatches</code>
根据domID和abstractEvent解析出回调函数，把回调函数塞入 <code>abstractEvent</code> 对象中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">accumulateDirectionalDispatches</span>(<span class="hljs-params">domID, upwards, abstractEvent</span>) {
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-keyword">if</span> (!domID) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Dispatching id must not be null&#x27;</span>);
        }
        injection$<span class="hljs-number">2.</span><span class="hljs-title function_">validate</span>()
    }
    <span class="hljs-keyword">var</span> phase = upwards ? <span class="hljs-title class_">PropagationPhases</span>.<span class="hljs-property">bubbled</span> : <span class="hljs-title class_">PropagationPhases</span>.<span class="hljs-property">captured</span>;
    <span class="hljs-keyword">var</span> listener = <span class="hljs-title function_">listenerAtPhase</span>(domID, abstractEvent, phase);
    <span class="hljs-keyword">if</span> (listener) {
        abstractEvent.<span class="hljs-property">_dispatchListeners</span> = <span class="hljs-title function_">accumulate_1</span>(abstractEvent.<span class="hljs-property">_dispatchListeners</span>, listener);
        abstractEvent.<span class="hljs-property">_dispatchIDs</span> = <span class="hljs-title function_">accumulate_1</span>(abstractEvent.<span class="hljs-property">_dispatchIDs</span>, domID)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-178">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-178">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-179">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-179">&#x00a7;</a>
              </div>
              <p><code>accumulateDirectionalDispatches</code>
传入<code>abstractEvent</code>对象，然后自下而上，或者自上而下的遍历DOM ID，把解析出来的回调函数全部塞入到abstractEvent中。</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">accumulateTwoPhaseDispatchesSingle</span>(<span class="hljs-params">abstractEvent</span>) {
    <span class="hljs-keyword">if</span> (abstractEvent &amp;&amp; abstractEvent.<span class="hljs-property">type</span>.<span class="hljs-property">phasedRegistrationNames</span>) {
        injection$<span class="hljs-number">2.</span><span class="hljs-title class_">InstanceHandle</span>.<span class="hljs-title function_">traverseTwoPhase</span>(abstractEvent.<span class="hljs-property">abstractTargetID</span>, accumulateDirectionalDispatches, abstractEvent)<span class="hljs-comment">// 这里会执行 traverseParentPath函数</span>
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-180">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-180">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-181">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-181">&#x00a7;</a>
              </div>
              <p><code>accumulateDispatches</code>
传入<code>id</code>和<code>abstractEvent</code>,把id对应的回调拿到，合并到<code>abstractEvent</code>的<code>_dispatchListeners</code>回调函数中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">accumulateDispatches</span>(<span class="hljs-params">id, ignoredDirection, abstractEvent</span>) {
    <span class="hljs-keyword">if</span> (abstractEvent &amp;&amp; abstractEvent.<span class="hljs-property">type</span>.<span class="hljs-property">registrationName</span>) {
        <span class="hljs-keyword">var</span> listener = <span class="hljs-title function_">getListener</span>(id, abstractEvent.<span class="hljs-property">type</span>.<span class="hljs-property">registrationName</span>);
        <span class="hljs-keyword">if</span> (listener) {
            abstractEvent.<span class="hljs-property">_dispatchListeners</span> = <span class="hljs-title function_">accumulate_1</span>(abstractEvent.<span class="hljs-property">_dispatchListeners</span>, listener);
            abstractEvent.<span class="hljs-property">_dispatchIDs</span> = <span class="hljs-title function_">accumulate_1</span>(abstractEvent.<span class="hljs-property">_dispatchIDs</span>, id)
        }
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-182">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-182">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-183">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-183">&#x00a7;</a>
              </div>
              <p><code>accumulateDirectDispatchesSingle</code>
针对单个domID，把该id对应的回调函数塞入到 abstractEvent中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">accumulateDirectDispatchesSingle</span>(<span class="hljs-params">abstractEvent</span>) {
    <span class="hljs-keyword">if</span> (abstractEvent &amp;&amp; abstractEvent.<span class="hljs-property">type</span>.<span class="hljs-property">registrationName</span>) {
        <span class="hljs-title function_">accumulateDispatches</span>(abstractEvent.<span class="hljs-property">abstractTargetID</span>, <span class="hljs-literal">null</span>, abstractEvent)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-184">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-184">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-185">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-185">&#x00a7;</a>
              </div>
              <p><code>accumulateTwoPhaseDispatches</code>
给到一个数组<code>abstractEvents</code>，遍历循环每个元素，把每个 abstractEvent的事件，自上而下、自下而上的收集进入到abstractEvent中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">accumulateTwoPhaseDispatches</span>(<span class="hljs-params">abstractEvents</span>) {
    <span class="hljs-keyword">if</span> (__DEV__) {
        injection$<span class="hljs-number">2.</span><span class="hljs-title function_">validate</span>()
    }
    <span class="hljs-title function_">forEachAccumulated_1</span>(abstractEvents, accumulateTwoPhaseDispatchesSingle)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-186">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-186">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-187">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-187">&#x00a7;</a>
              </div>
              <p><code>accumulateEnterLeaveDispatches</code>
单方向(向上或向下)进行刷新 <code>leave</code>、<code>enter</code>（他们都是AbstractEvent的实例）的_dispatchListeners</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">accumulateEnterLeaveDispatches</span>(<span class="hljs-params">leave, enter, fromID, toID</span>) {
    <span class="hljs-keyword">if</span> (__DEV__) {
        injection$<span class="hljs-number">2.</span><span class="hljs-title function_">validate</span>()
    }
    injection$<span class="hljs-number">2.</span><span class="hljs-title class_">InstanceHandle</span>.<span class="hljs-title function_">traverseEnterLeave</span>(fromID, toID, accumulateDispatches, leave, enter)<span class="hljs-comment">// 这里会执行 traverseParentPath函数</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-188">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-188">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-189">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-189">&#x00a7;</a>
              </div>
              <p><code>accumulateDirectDispatches</code>
把<code>abstractEvents</code>中的每个abstractEvent的ID对应的事件进行刷新</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">accumulateDirectDispatches</span>(<span class="hljs-params">abstractEvents</span>) {
    <span class="hljs-keyword">if</span> (__DEV__) {
        injection$<span class="hljs-number">2.</span><span class="hljs-title function_">validate</span>()
    }
    <span class="hljs-title function_">forEachAccumulated_1</span>(abstractEvents, accumulateDirectDispatchesSingle)
}
<span class="hljs-keyword">var</span> <span class="hljs-title class_">EventPropagators</span> = {
    <span class="hljs-attr">accumulateTwoPhaseDispatches</span>: accumulateTwoPhaseDispatches,<span class="hljs-comment">// 给到一个数组`abstractEvents`，遍历循环每个元素，把每个 abstractEvent的事件，自上而下、自下而上的收集进入到abstractEvent中</span>
    <span class="hljs-attr">accumulateDirectDispatches</span>: accumulateDirectDispatches,<span class="hljs-comment">// 把`abstractEvents`中的每个abstractEvent的ID对应的事件进行刷新</span>
    <span class="hljs-attr">accumulateEnterLeaveDispatches</span>: accumulateEnterLeaveDispatches,<span class="hljs-comment">// 单方向(向上或向下)进行刷新 `leave`、`enter`（他们都是AbstractEvent的实例）的_dispatchListeners</span>
    <span class="hljs-attr">injection</span>: injection$<span class="hljs-number">2</span><span class="hljs-comment">// 关于Rt的ID操作的类</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">EventPropagators</span>_1 = <span class="hljs-title class_">EventPropagators</span>;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">MAX_MERGE_DEPTH</span> = <span class="hljs-number">36</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-190">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-190">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-191">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-191">&#x00a7;</a>
              </div>
              <p><code>ERRORS$1</code>
合并对象的一个错误信息存储对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">ERRORS</span>$<span class="hljs-number">1</span> = <span class="hljs-title function_">keyMirror_1</span>({
    <span class="hljs-attr">MERGE_ARRAY_FAIL</span>: <span class="hljs-literal">null</span>,<span class="hljs-comment">// 合并数组失败的报错信息</span>
    <span class="hljs-attr">MERGE_CORE_FAILURE</span>: <span class="hljs-literal">null</span>,<span class="hljs-comment">// 判断不是为数组的错误信息</span>
    <span class="hljs-attr">MERGE_TYPE_USAGE_FAILURE</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">MERGE_DEEP_MAX_LEVELS</span>: <span class="hljs-literal">null</span>,<span class="hljs-comment">// 超出最深层合并的错误信息</span>
    <span class="hljs-attr">MERGE_DEEP_NO_ARR_STRATEGY</span>: <span class="hljs-literal">null</span><span class="hljs-comment">// 不属于`mergeHelpers.ArrayStrategies`的错误信息</span>
});
<span class="hljs-keyword">if</span> (__DEV__) {
    <span class="hljs-variable constant_">ERRORS</span>$<span class="hljs-number">1</span> = {
        <span class="hljs-attr">MERGE_ARRAY_FAIL</span>: <span class="hljs-string">&#x27;Unsupported type passed to a merge function. You may have passed a structure that contains an array and the merge function does not know how to merge arrays. &#x27;</span>,
        <span class="hljs-attr">MERGE_CORE_FAILURE</span>: <span class="hljs-string">&#x27;Critical assumptions about the merge functions have been violated. This is the fault of the merge functions themselves, not necessarily the callers.&#x27;</span>,
        <span class="hljs-attr">MERGE_TYPE_USAGE_FAILURE</span>: <span class="hljs-string">&#x27;Calling merge function with invalid types. You may call merge functions (non-array non-terminal) OR (null/undefined) arguments. mergeInto functions have the same requirements but with an added restriction that the first parameter must not be null/undefined.&#x27;</span>,
        <span class="hljs-attr">MERGE_DEEP_MAX_LEVELS</span>: <span class="hljs-string">&#x27;Maximum deep merge depth exceeded. You may attempting to merge circular structures in an unsupported way.&#x27;</span>,
        <span class="hljs-attr">MERGE_DEEP_NO_ARR_STRATEGY</span>: <span class="hljs-string">&#x27;You must provide an array strategy to deep merge functions to instruct the deep merge how to resolve merging two arrays.&#x27;</span>
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-192">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-192">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-193">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-193">&#x00a7;</a>
              </div>
              <p><code>isTerminal</code>
判断是否为除了 对象 之外的其他结构</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> isTerminal = <span class="hljs-keyword">function</span> (<span class="hljs-params">o</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> o !== <span class="hljs-string">&#x27;object&#x27;</span> || o === <span class="hljs-literal">null</span>
};
<span class="hljs-keyword">var</span> mergeHelpers = {
    <span class="hljs-attr">MAX_MERGE_DEPTH</span>: <span class="hljs-variable constant_">MAX_MERGE_DEPTH</span>,
    <span class="hljs-attr">isTerminal</span>: isTerminal,</pre></div></div>
            
        </li>
        
        
        <li id="section-194">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-194">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-195">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-195">&#x00a7;</a>
              </div>
              <p><code>normalizeMergeArg</code>
把 <code>null</code>和<code>undefined</code>转化为 {}，其他的都不变</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">normalizeMergeArg</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">arg</span>) {
        <span class="hljs-keyword">return</span> arg === <span class="hljs-literal">undefined</span> || arg === <span class="hljs-literal">null</span> ? {} : arg
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-196">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-196">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-197">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-197">&#x00a7;</a>
              </div>
              <p><code>checkMergeArrayArgs</code>
把参数<code>one</code>、<code>two</code>进行校验，如果不是数组就报错</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">checkMergeArrayArgs</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">one, two</span>) {
        <span class="hljs-title function_">throwIf_1</span>(!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(one) || !<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(two), <span class="hljs-variable constant_">ERRORS</span>$<span class="hljs-number">1.</span><span class="hljs-variable constant_">MERGE_CORE_FAILURE</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-198">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-198">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-199">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-199">&#x00a7;</a>
              </div>
              <p><code>checkMergeObjectArgs</code>
把参数<code>one</code>、<code>two</code>进行校验，如果是数组或者不是对象，则报错(结果就是只能是对象)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">checkMergeObjectArgs</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">one, two</span>) {
        mergeHelpers.<span class="hljs-title function_">checkMergeObjectArg</span>(one);
        mergeHelpers.<span class="hljs-title function_">checkMergeObjectArg</span>(two)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-200">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-200">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-201">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-201">&#x00a7;</a>
              </div>
              <p><code>checkMergeObjectArg</code>
把参数<code>arg</code>进行校验，如果只是对象才不报错</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">checkMergeObjectArg</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">arg</span>) {
        <span class="hljs-title function_">throwIf_1</span>(<span class="hljs-title function_">isTerminal</span>(arg) || <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(arg), <span class="hljs-variable constant_">ERRORS</span>$<span class="hljs-number">1.</span><span class="hljs-variable constant_">MERGE_CORE_FAILURE</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-202">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-202">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-203">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-203">&#x00a7;</a>
              </div>
              <p><code>checkMergeLevel</code>
校验当前的层级是否超过最大层级</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">checkMergeLevel</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">level</span>) {
        <span class="hljs-title function_">throwIf_1</span>(level &gt;= <span class="hljs-variable constant_">MAX_MERGE_DEPTH</span>, <span class="hljs-variable constant_">ERRORS</span>$<span class="hljs-number">1.</span><span class="hljs-variable constant_">MERGE_DEEP_MAX_LEVELS</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-204">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-204">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-205">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-205">&#x00a7;</a>
              </div>
              <p><code>checkArrayStrategy</code>
判断参数<code>strategy</code>是否为<code>mergeHelpers.ArrayStrategies</code>的键</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">checkArrayStrategy</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">strategy</span>) {
        <span class="hljs-title function_">throwIf_1</span>(strategy !== <span class="hljs-literal">undefined</span> &amp;&amp; !(strategy <span class="hljs-keyword">in</span> mergeHelpers.<span class="hljs-property">ArrayStrategies</span>), <span class="hljs-variable constant_">ERRORS</span>$<span class="hljs-number">1.</span><span class="hljs-variable constant_">MERGE_DEEP_NO_ARR_STRATEGY</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-206">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-206">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-207">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-207">&#x00a7;</a>
              </div>
              <p><code>ArrayStrategies</code>
{Clobber:”Clobber”,IndexByIndex:”IndexByIndex”}</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-title class_">ArrayStrategies</span>: <span class="hljs-title function_">keyMirror_1</span>({
        <span class="hljs-title class_">Clobber</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-title class_">IndexByIndex</span>: <span class="hljs-literal">true</span>
    }),
    <span class="hljs-attr">ERRORS</span>: <span class="hljs-variable constant_">ERRORS</span>$<span class="hljs-number">1</span>
};
<span class="hljs-keyword">var</span> mergeHelpers_1 = mergeHelpers;
<span class="hljs-keyword">var</span> checkMergeObjectArg = mergeHelpers_1.<span class="hljs-property">checkMergeObjectArg</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-208">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-208">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-209">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-209">&#x00a7;</a>
              </div>
              <p><code>mergeInto</code>
把two对象合并到one对象，会经过对象类型的判断</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">mergeInto</span>(<span class="hljs-params">one, two</span>) {
    <span class="hljs-title function_">checkMergeObjectArg</span>(one);
    <span class="hljs-keyword">if</span> (two != <span class="hljs-literal">null</span>) {
        <span class="hljs-title function_">checkMergeObjectArg</span>(two);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> two) {
            <span class="hljs-keyword">if</span> (!two.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
                <span class="hljs-keyword">continue</span>
            }
            one[key] = two[key]
        }
    }
}
<span class="hljs-keyword">var</span> mergeInto_1 = mergeInto;</pre></div></div>
            
        </li>
        
        
        <li id="section-210">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-210">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-211">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-211">&#x00a7;</a>
              </div>
              <p><code>merge</code>
把<code>one</code>、<code>two</code>合并到<code>result</code>，并返回</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> merge = <span class="hljs-keyword">function</span> (<span class="hljs-params">one, two</span>) {
    <span class="hljs-keyword">var</span> result = {};
    <span class="hljs-title function_">mergeInto_1</span>(result, one);
    <span class="hljs-title function_">mergeInto_1</span>(result, two);
    <span class="hljs-keyword">return</span> result
};
<span class="hljs-keyword">var</span> merge_1 = merge;
<span class="hljs-keyword">var</span> deleteListener = <span class="hljs-title class_">CallbackRegistry</span>_1.<span class="hljs-property">deleteListener</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-212">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-212">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-213">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-213">&#x00a7;</a>
              </div>
              <p><code>ERRORS</code>
<code>DOUBLE_REGISTER</code>不存在的事件报错信息；<code>DOUBLE_ENQUEUE</code>当abstractEventQueue运行完没释放时的报错；<code>DEPENDENCY_ERROR</code>：不存在plugin的时候的报错信息</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">ERRORS</span> = <span class="hljs-title function_">keyMirror_1</span>({
    <span class="hljs-attr">DOUBLE_REGISTER</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">DOUBLE_ENQUEUE</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">DEPENDENCY_ERROR</span>: <span class="hljs-literal">null</span>
});
<span class="hljs-keyword">if</span> (__DEV__) {
    <span class="hljs-variable constant_">ERRORS</span>.<span class="hljs-property">DOUBLE_REGISTER</span> = <span class="hljs-string">&#x27;You\&#x27;ve included an event plugin that extracts an event type with the exact same or identity as an event that had previously been injected - or, one of the registration names used by an plugin has already been used.&#x27;</span>;
    <span class="hljs-variable constant_">ERRORS</span>.<span class="hljs-property">DOUBLE_ENQUEUE</span> = <span class="hljs-string">&#x27;During the processing of events, more events were enqueued. This is strange and should not happen. Please report immediately. &#x27;</span>;
    <span class="hljs-variable constant_">ERRORS</span>.<span class="hljs-property">DEPENDENCY_ERROR</span> = <span class="hljs-string">&#x27;You have either attempted to load an event plugin that has no entry in EventPluginOrder, or have attempted to extract events when some critical dependencies have not yet been injected.&#x27;</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-214">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-214">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-215">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-215">&#x00a7;</a>
              </div>
              <p><code>injection$1</code>
一个注入对象，框架运行结束前会调用执行</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> injection$<span class="hljs-number">1</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-216">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-216">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-217">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-217">&#x00a7;</a>
              </div>
              <p><code>injectInstanceHandle</code>
给 <code>EventPropagators_1.injection</code>注入对象 <code>ReactInstanceHandles</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">injectInstanceHandle</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">InjectedInstanceHandle</span>) {
        <span class="hljs-title class_">EventPropagators</span>_1.<span class="hljs-property">injection</span>.<span class="hljs-title function_">injectInstanceHandle</span>(<span class="hljs-title class_">InjectedInstanceHandle</span>)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-218">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-218">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-219">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-219">&#x00a7;</a>
              </div>
              <p><code>EventPluginOrder</code>
DefaultEventPluginOrder对象，有顺序的 [‘ResponderEventPlugin’,’SimpleEventPlugin’,’TapEventPlugin’,’EnterLeaveEventPlugin’,’AnalyticsEventPlugin’]</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-title class_">EventPluginOrder</span>: <span class="hljs-literal">null</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-220">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-220">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-221">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-221">&#x00a7;</a>
              </div>
              <p><code>injectEventPluginOrder</code>
注入<code>EventPluginOrder</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">injectEventPluginOrder</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">InjectedEventPluginOrder</span>) {
        injection$<span class="hljs-number">1.</span><span class="hljs-title class_">EventPluginOrder</span> = <span class="hljs-title class_">InjectedEventPluginOrder</span>;
        injection$<span class="hljs-number">1.</span><span class="hljs-title function_">_recomputePluginsList</span>()<span class="hljs-comment">// 第一次注入的时候没执行到逻辑</span>
    },
    <span class="hljs-attr">plugins</span>: [],</pre></div></div>
            
        </li>
        
        
        <li id="section-222">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-222">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-223">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-223">&#x00a7;</a>
              </div>
              <p><code>injectEventPluginsByName</code>
注入 <code>pluginsByName</code>，结构为:{‘SimpleEventPlugin’,’EnterLeaveEventPlugin’}</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">injectEventPluginsByName</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">pluginsByName</span>) {
        injection$<span class="hljs-number">1.</span>pluginsByName = <span class="hljs-title function_">merge_1</span>(injection$<span class="hljs-number">1.</span>pluginsByName, pluginsByName);
        injection$<span class="hljs-number">1.</span><span class="hljs-title function_">_recomputePluginsList</span>()
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-224">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-224">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-225">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-225">&#x00a7;</a>
              </div>
              <p><code>pluginsByName</code>
以 [‘ResponderEventPlugin’,’SimpleEventPlugin’,’TapEventPlugin’,’EnterLeaveEventPlugin’,’AnalyticsEventPlugin’] 的元素为 key 的对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">pluginsByName</span>: {},</pre></div></div>
            
        </li>
        
        
        <li id="section-226">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-226">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-227">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-227">&#x00a7;</a>
              </div>
              <p><code>_recomputePluginsList</code>
循环每个注入的 <code>pluginsByName</code>，并为 <code>plugins</code>生成对应index的数组元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">_recomputePluginsList</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">var</span> injectPluginByName = <span class="hljs-keyword">function</span> (<span class="hljs-params">name, PluginModule</span>) {
            <span class="hljs-keyword">var</span> pluginIndex = injection$<span class="hljs-number">1.</span><span class="hljs-title class_">EventPluginOrder</span>.<span class="hljs-title function_">indexOf</span>(name);
            <span class="hljs-title function_">throwIf_1</span>(pluginIndex === -<span class="hljs-number">1</span>, <span class="hljs-variable constant_">ERRORS</span>.<span class="hljs-property">DEPENDENCY_ERROR</span> + name);
            <span class="hljs-keyword">if</span> (!injection$<span class="hljs-number">1.</span>plugins[pluginIndex]) {
                injection$<span class="hljs-number">1.</span>plugins[pluginIndex] = <span class="hljs-title class_">PluginModule</span>;<span class="hljs-comment">// {&#x27;SimpleEventPlugin&#x27;,&#x27;EnterLeaveEventPlugin&#x27;}</span>
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> eventName <span class="hljs-keyword">in</span> <span class="hljs-title class_">PluginModule</span>.<span class="hljs-property">abstractEventTypes</span>) {
                    <span class="hljs-keyword">var</span> eventType = <span class="hljs-title class_">PluginModule</span>.<span class="hljs-property">abstractEventTypes</span>[eventName];
                    <span class="hljs-title function_">recordAllRegistrationNames</span>(eventType, <span class="hljs-title class_">PluginModule</span>)
                }
            }
        };
        <span class="hljs-keyword">if</span> (injection$<span class="hljs-number">1.</span><span class="hljs-title class_">EventPluginOrder</span>) {<span class="hljs-comment">// [&#x27;ResponderEventPlugin&#x27;,&#x27;SimpleEventPlugin&#x27;,&#x27;TapEventPlugin&#x27;,&#x27;EnterLeaveEventPlugin&#x27;,&#x27;AnalyticsEventPlugin&#x27;]</span>
            <span class="hljs-keyword">var</span> injectedPluginsByName = injection$<span class="hljs-number">1.</span>pluginsByName;<span class="hljs-comment">// {&#x27;SimpleEventPlugin&#x27;,&#x27;EnterLeaveEventPlugin&#x27;}</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> injectedPluginsByName) {<span class="hljs-comment">// {&#x27;SimpleEventPlugin&#x27;,&#x27;EnterLeaveEventPlugin&#x27;}</span>
                <span class="hljs-title function_">injectPluginByName</span>(name, injectedPluginsByName[name])
            }
        }
    }
};
<span class="hljs-keyword">var</span> registrationNames$<span class="hljs-number">2</span> = {};
<span class="hljs-keyword">var</span> registrationNamesArr = [];
<span class="hljs-keyword">var</span> abstractEventQueue = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-228">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-228">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-229">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-229">&#x00a7;</a>
              </div>
              <p><code>recordAllRegistrationNames</code>
参数说明：<code>eventType</code>（SimpleEventPlugin.abstractEventTypes对象的元素 或 EnterLeaveEventPlugin.abstractEventTypes对象的元素） <code>PluginModule</code>({‘SimpleEventPlugin’,’EnterLeaveEventPlugin’})；最终生成了 <code>registrationNames</code> 和 <code>registrationNamesArr</code>两个的元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">recordAllRegistrationNames</span>(<span class="hljs-params">eventType, PluginModule</span>) {
    <span class="hljs-keyword">var</span> phaseName;
    <span class="hljs-keyword">var</span> phasedRegistrationNames = eventType.<span class="hljs-property">phasedRegistrationNames</span>;<span class="hljs-comment">// 结构为{bubbled:&quot;onMouseDown&quot;,captured:&quot;onMouseDownCapture&quot;}</span>
    <span class="hljs-keyword">if</span> (phasedRegistrationNames) {
        <span class="hljs-keyword">for</span> (phaseName <span class="hljs-keyword">in</span> phasedRegistrationNames) {<span class="hljs-comment">// `phaseName`为 `bubbled` `captured`等</span>
            <span class="hljs-keyword">if</span> (!phasedRegistrationNames.<span class="hljs-title function_">hasOwnProperty</span>(phaseName)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">if</span> (__DEV__) {
                <span class="hljs-title function_">throwIf_1</span>(registrationNames$<span class="hljs-number">2</span>[phasedRegistrationNames[phaseName]], <span class="hljs-variable constant_">ERRORS</span>.<span class="hljs-property">DOUBLE_REGISTER</span>);
            }
            registrationNames$<span class="hljs-number">2</span>[phasedRegistrationNames[phaseName]] = <span class="hljs-title class_">PluginModule</span>;
            registrationNamesArr.<span class="hljs-title function_">push</span>(phasedRegistrationNames[phaseName])
        }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (eventType.<span class="hljs-property">registrationName</span>) {<span class="hljs-comment">// 结构为(&#x27;onMouseEnter&#x27; 或 &#x27;onMouseLeave&#x27;)</span>
        <span class="hljs-keyword">if</span> (__DEV__) {
            <span class="hljs-title function_">throwIf_1</span>(registrationNames$<span class="hljs-number">2</span>[eventType.<span class="hljs-property">registrationName</span>], <span class="hljs-variable constant_">ERRORS</span>.<span class="hljs-property">DOUBLE_REGISTER</span>);<span class="hljs-comment">//重复注入则会报错</span>
        }
        registrationNames$<span class="hljs-number">2</span>[eventType.<span class="hljs-property">registrationName</span>] = <span class="hljs-title class_">PluginModule</span>;
        registrationNamesArr.<span class="hljs-title function_">push</span>(eventType.<span class="hljs-property">registrationName</span>)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-230">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-230">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-231">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-231">&#x00a7;</a>
              </div>
              <p><code>getPluginModuleForAbstractEvent</code>
根据<code>abstractEvent</code>的<code>type</code>属性，返回 <code>SimpleEventPlugin</code> 或 <code>EnterLeaveEventPlugin</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPluginModuleForAbstractEvent</span>(<span class="hljs-params">abstractEvent</span>) {
    <span class="hljs-keyword">if</span> (abstractEvent.<span class="hljs-property">type</span>.<span class="hljs-property">registrationName</span>) {
        <span class="hljs-keyword">return</span> registrationNames$<span class="hljs-number">2</span>[abstractEvent.<span class="hljs-property">type</span>.<span class="hljs-property">registrationName</span>]
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> phase <span class="hljs-keyword">in</span> abstractEvent.<span class="hljs-property">type</span>.<span class="hljs-property">phasedRegistrationNames</span>) {
            <span class="hljs-keyword">if</span> (!abstractEvent.<span class="hljs-property">type</span>.<span class="hljs-property">phasedRegistrationNames</span>.<span class="hljs-title function_">hasOwnProperty</span>(phase)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">var</span> <span class="hljs-title class_">PluginModule</span> = registrationNames$<span class="hljs-number">2</span>[abstractEvent.<span class="hljs-property">type</span>.<span class="hljs-property">phasedRegistrationNames</span>[phase]];
            <span class="hljs-keyword">if</span> (<span class="hljs-title class_">PluginModule</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-title class_">PluginModule</span>
            }
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-232">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-232">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-233">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-233">&#x00a7;</a>
              </div>
              <p><code>deleteAllListeners</code>
删除 domID对应的所有事件回调</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> deleteAllListeners = <span class="hljs-keyword">function</span> (<span class="hljs-params">domID</span>) {
    <span class="hljs-keyword">var</span> ii;
    <span class="hljs-keyword">for</span> (ii = <span class="hljs-number">0</span>; ii &lt; registrationNamesArr.<span class="hljs-property">length</span>; ii++) {
        <span class="hljs-title function_">deleteListener</span>(domID, registrationNamesArr[ii])
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-234">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-234">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-235">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-235">&#x00a7;</a>
              </div>
              <p><code>extractAbstractEvents$1</code>
传入 <code>topLevelType</code> 、 <code>nativeEvent</code> 、 <code>renderedTargetID</code> 、 <code>renderedTarget</code>，然后解析，最后合并成 <code>abstractEvents</code> 返回</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> extractAbstractEvents$<span class="hljs-number">1</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">topLevelType, nativeEvent, renderedTargetID, renderedTarget</span>) {
    <span class="hljs-keyword">var</span> abstractEvents;
    <span class="hljs-keyword">var</span> plugins = injection$<span class="hljs-number">1.</span>plugins;
    <span class="hljs-keyword">var</span> len = plugins.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) {
        <span class="hljs-keyword">var</span> possiblePlugin = plugins[i];
        <span class="hljs-keyword">var</span> extractedAbstractEvents = possiblePlugin &amp;&amp; possiblePlugin.<span class="hljs-title function_">extractAbstractEvents</span>(topLevelType, nativeEvent, renderedTargetID, renderedTarget);
        <span class="hljs-keyword">if</span> (extractedAbstractEvents) {
            abstractEvents = <span class="hljs-title function_">accumulate_1</span>(abstractEvents, extractedAbstractEvents)
        }
    }
    <span class="hljs-keyword">return</span> abstractEvents
};</pre></div></div>
            
        </li>
        
        
        <li id="section-236">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-236">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-237">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-237">&#x00a7;</a>
              </div>
              <p><code>enqueueAbstractEvents</code>
合并<code>abstractEvents</code>到<code>abstractEventQueue</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> enqueueAbstractEvents = <span class="hljs-keyword">function</span> (<span class="hljs-params">abstractEvents</span>) {
    <span class="hljs-keyword">if</span> (abstractEvents) {
        abstractEventQueue = <span class="hljs-title function_">accumulate_1</span>(abstractEventQueue, abstractEvents)
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-238">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-238">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-239">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-239">&#x00a7;</a>
              </div>
              <p><code>executeDispatchesAndRelease</code>
通过<code>getPluginModuleForAbstractEvent</code>拿到<code>executeDispatch</code>，然后按顺序执行<code>abstractEvent</code>的回调函数，最后再释放</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> executeDispatchesAndRelease = <span class="hljs-keyword">function</span> (<span class="hljs-params">abstractEvent</span>) {
    <span class="hljs-keyword">if</span> (abstractEvent) {
        <span class="hljs-keyword">var</span> <span class="hljs-title class_">PluginModule</span> = <span class="hljs-title function_">getPluginModuleForAbstractEvent</span>(abstractEvent);
        <span class="hljs-keyword">var</span> pluginExecuteDispatch = <span class="hljs-title class_">PluginModule</span> &amp;&amp; <span class="hljs-title class_">PluginModule</span>.<span class="hljs-property">executeDispatch</span>;
        <span class="hljs-title class_">EventPluginUtils</span>_1.<span class="hljs-title function_">executeDispatchesInOrder</span>(abstractEvent, pluginExecuteDispatch || <span class="hljs-title class_">EventPluginUtils</span>_1.<span class="hljs-property">executeDispatch</span>);
        <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">release</span>(abstractEvent)
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-240">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-240">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-241">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-241">&#x00a7;</a>
              </div>
              <p><code>processAbstractEventQueue</code>
循环执行 <code>abstractEventQueue</code>，最后再释放</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> processAbstractEventQueue = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> processingAbstractEventQueue = abstractEventQueue;
    abstractEventQueue = <span class="hljs-literal">null</span>;
    <span class="hljs-title function_">forEachAccumulated_1</span>(processingAbstractEventQueue, executeDispatchesAndRelease);
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-title function_">throwIf_1</span>(abstractEventQueue, <span class="hljs-variable constant_">ERRORS</span>.<span class="hljs-property">DOUBLE_ENQUEUE</span>);
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">EventPluginHub</span> = {
    <span class="hljs-attr">registrationNames</span>: registrationNames$<span class="hljs-number">2</span>,<span class="hljs-comment">// 一个对象，用于存储每种事件的`PluginModule`</span>
    <span class="hljs-attr">registrationNamesArr</span>: registrationNamesArr,<span class="hljs-comment">// 一个数组，存储每个事件的名</span>
    <span class="hljs-attr">putListener</span>: <span class="hljs-title class_">CallbackRegistry</span>_1.<span class="hljs-property">putListener</span>,<span class="hljs-comment">// 针对ID 添加事件</span>
    <span class="hljs-attr">getListener</span>: <span class="hljs-title class_">CallbackRegistry</span>_1.<span class="hljs-property">getListener</span>,<span class="hljs-comment">// 针对ID 获取事件</span>
    <span class="hljs-attr">deleteAllListeners</span>: deleteAllListeners,<span class="hljs-comment">// 删除所有事件</span>
    <span class="hljs-attr">extractAbstractEvents</span>: extractAbstractEvents$<span class="hljs-number">1</span>,<span class="hljs-comment">// 传入 `topLevelType` 、 `nativeEvent` 、 `renderedTargetID` 、 `renderedTarget`，然后解析，最后合并成 `abstractEvents` 返回</span>
    <span class="hljs-attr">enqueueAbstractEvents</span>: enqueueAbstractEvents,<span class="hljs-comment">// 合并`abstractEvents`到`abstractEventQueue`</span>
    <span class="hljs-attr">processAbstractEventQueue</span>: processAbstractEventQueue,<span class="hljs-comment">// 循环执行 `abstractEventQueue`，最后再释放</span>
    <span class="hljs-attr">injection</span>: injection$<span class="hljs-number">1</span><span class="hljs-comment">// 一个注入对象，框架运行结束前会调用执行</span>
};
<span class="hljs-keyword">if</span> (<span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">canUseDOM</span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">EventPluginHub</span> = <span class="hljs-title class_">EventPluginHub</span>
}
<span class="hljs-keyword">var</span> <span class="hljs-title class_">EventPluginHub</span>_1 = <span class="hljs-title class_">EventPluginHub</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-242">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-242">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-243">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-243">&#x00a7;</a>
              </div>
              <p><code>EventListener</code>
用于监听事件的对象<code>listen</code>方法非捕获监听，<code>capture</code>方法捕获；handlerBaseName是事件名</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">EventListener</span> = {
    <span class="hljs-attr">listen</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el, handlerBaseName, cb</span>) {
        <span class="hljs-keyword">if</span> (el.<span class="hljs-property">addEventListener</span>) {
            el.<span class="hljs-title function_">addEventListener</span>(handlerBaseName, cb, <span class="hljs-literal">false</span>)
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (el.<span class="hljs-property">attachEvent</span>) {
            el.<span class="hljs-title function_">attachEvent</span>(<span class="hljs-string">&#x27;on&#x27;</span> + handlerBaseName, cb)
        }
    },
    <span class="hljs-attr">capture</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el, handlerBaseName, cb</span>) {
        <span class="hljs-keyword">if</span> (!el.<span class="hljs-property">addEventListener</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;You are attempting to use addEventlistener in a browser that does not support it support it.This likely means that you will not receive events that your application relies on (such as scroll).&#x27;</span>);
            <span class="hljs-keyword">return</span>
        } <span class="hljs-keyword">else</span> {
            el.<span class="hljs-title function_">addEventListener</span>(handlerBaseName, cb, <span class="hljs-literal">true</span>)
        }
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">EventListener</span>_1 = <span class="hljs-title class_">EventListener</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-244">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-244">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-245">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-245">&#x00a7;</a>
              </div>
              <p><code>normalizeEvent</code>
传入原始事件，做属性兼容</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">normalizeEvent</span>(<span class="hljs-params">eventParam</span>) {
    <span class="hljs-keyword">var</span> normalized = eventParam || <span class="hljs-variable language_">window</span>.<span class="hljs-property">event</span>;
    <span class="hljs-keyword">var</span> hasTargetProperty = <span class="hljs-string">&#x27;target&#x27;</span> <span class="hljs-keyword">in</span> normalized;
    <span class="hljs-keyword">var</span> eventTarget = normalized.<span class="hljs-property">target</span> || normalized.<span class="hljs-property">srcElement</span> || <span class="hljs-variable language_">window</span>;
    <span class="hljs-keyword">var</span> textNodeNormalizedTarget = (eventTarget.<span class="hljs-property">nodeType</span> === <span class="hljs-number">3</span>) ? eventTarget.<span class="hljs-property">parentNode</span> : eventTarget;
    <span class="hljs-keyword">if</span> (!hasTargetProperty || normalized.<span class="hljs-property">target</span> !== textNodeNormalizedTarget) {
        normalized = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(normalized);
        normalized.<span class="hljs-property">target</span> = textNodeNormalizedTarget
    }
    <span class="hljs-keyword">return</span> normalized
}</pre></div></div>
            
        </li>
        
        
        <li id="section-246">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-246">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-247">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-247">&#x00a7;</a>
              </div>
              <p><code>createNormalizedCallback</code>
传入回调函数，二次生成回调函数，参数事件做兼容处理</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">createNormalizedCallback</span>(<span class="hljs-params">cb</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">unfixedNativeEvent</span>) {
        <span class="hljs-title function_">cb</span>(<span class="hljs-title function_">normalizeEvent</span>(unfixedNativeEvent))
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-248">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-248">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-249">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-249">&#x00a7;</a>
              </div>
              <p><code>NormalizedEventListener</code>
事件的监听</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">NormalizedEventListener</span> = {
    <span class="hljs-attr">listen</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el, handlerBaseName, cb</span>) {
        <span class="hljs-title class_">EventListener</span>_1.<span class="hljs-title function_">listen</span>(el, handlerBaseName, <span class="hljs-title function_">createNormalizedCallback</span>(cb))
    },
    <span class="hljs-attr">capture</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el, handlerBaseName, cb</span>) {
        <span class="hljs-title class_">EventListener</span>_1.<span class="hljs-title function_">capture</span>(el, handlerBaseName, <span class="hljs-title function_">createNormalizedCallback</span>(cb))
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">NormalizedEventListener</span>_1 = <span class="hljs-title class_">NormalizedEventListener</span>;
<span class="hljs-keyword">var</span> testNode;
<span class="hljs-keyword">if</span> (<span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">canUseDOM</span>) {
    testNode = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-250">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-250">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-251">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-251">&#x00a7;</a>
              </div>
              <p><code>isEventSupported</code>
传入事件名<code>eventNameSuffix</code>，最后判断是否存在该事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">isEventSupported</span>(<span class="hljs-params">eventNameSuffix, capture</span>) {
    <span class="hljs-keyword">if</span> (!testNode || (capture &amp;&amp; !testNode.<span class="hljs-property">addEventListener</span>)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    }
    <span class="hljs-keyword">var</span> element = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);
    <span class="hljs-keyword">var</span> eventName = <span class="hljs-string">&#x27;on&#x27;</span> + eventNameSuffix;
    <span class="hljs-keyword">var</span> isSupported = eventName <span class="hljs-keyword">in</span> element;
    <span class="hljs-keyword">if</span> (!isSupported) {
        element.<span class="hljs-title function_">setAttribute</span>(eventName, <span class="hljs-string">&#x27;&#x27;</span>);
        isSupported = <span class="hljs-keyword">typeof</span> element[eventName] === <span class="hljs-string">&#x27;function&#x27;</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> element[eventName] !== <span class="hljs-string">&#x27;undefined&#x27;</span>) {
            element[eventName] = <span class="hljs-literal">undefined</span>
        }
        element.<span class="hljs-title function_">removeAttribute</span>(eventName)
    }
    element = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> isSupported
}
<span class="hljs-keyword">var</span> isEventSupported_1 = isEventSupported;
<span class="hljs-keyword">var</span> registrationNames$<span class="hljs-number">1</span> = <span class="hljs-title class_">EventPluginHub</span>_1.<span class="hljs-property">registrationNames</span>;
<span class="hljs-keyword">var</span> topLevelTypes$<span class="hljs-number">2</span> = <span class="hljs-title class_">EventConstants</span>_1.<span class="hljs-property">topLevelTypes</span>;
<span class="hljs-keyword">var</span> listen = <span class="hljs-title class_">NormalizedEventListener</span>_1.<span class="hljs-property">listen</span>;
<span class="hljs-keyword">var</span> capture = <span class="hljs-title class_">NormalizedEventListener</span>_1.<span class="hljs-property">capture</span>;
<span class="hljs-keyword">var</span> _isListening = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">if</span> (__DEV__);</pre></div></div>
            
        </li>
        
        
        <li id="section-252">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-252">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-253">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-253">&#x00a7;</a>
              </div>
              <p><code>trapBubbledEvent</code>
以冒泡来进行事件监听</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">trapBubbledEvent</span>(<span class="hljs-params">topLevelType, handlerBaseName, onWhat</span>) {
    <span class="hljs-title function_">listen</span>(onWhat, handlerBaseName, <span class="hljs-title class_">ReactEvent</span>.<span class="hljs-property">TopLevelCallbackCreator</span>.<span class="hljs-title function_">createTopLevelCallback</span>(topLevelType))
}</pre></div></div>
            
        </li>
        
        
        <li id="section-254">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-254">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-255">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-255">&#x00a7;</a>
              </div>
              <p><code>trapCapturedEvent</code>
以捕获来进行事件监听</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">trapCapturedEvent</span>(<span class="hljs-params">topLevelType, handlerBaseName, onWhat</span>) {
    <span class="hljs-title function_">capture</span>(onWhat, handlerBaseName, <span class="hljs-title class_">ReactEvent</span>.<span class="hljs-property">TopLevelCallbackCreator</span>.<span class="hljs-title function_">createTopLevelCallback</span>(topLevelType))
}</pre></div></div>
            
        </li>
        
        
        <li id="section-256">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-256">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-257">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-257">&#x00a7;</a>
              </div>
              <p><code>registerDocumentScrollListener</code>
监听window的滚动事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerDocumentScrollListener</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title function_">listen</span>(<span class="hljs-variable language_">window</span>, <span class="hljs-string">&#x27;scroll&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">nativeEvent</span>) {
        <span class="hljs-keyword">if</span> (nativeEvent.<span class="hljs-property">target</span> === <span class="hljs-variable language_">window</span>) {
            <span class="hljs-title class_">BrowserEnv</span>_1.<span class="hljs-title function_">refreshAuthoritativeScrollValues</span>()
        }
    })
}</pre></div></div>
            
        </li>
        
        
        <li id="section-258">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-258">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-259">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-259">&#x00a7;</a>
              </div>
              <p><code>registerDocumentResizeListener</code>
监听window的resize事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">registerDocumentResizeListener</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title function_">listen</span>(<span class="hljs-variable language_">window</span>, <span class="hljs-string">&#x27;resize&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">nativeEvent</span>) {
        <span class="hljs-keyword">if</span> (nativeEvent.<span class="hljs-property">target</span> === <span class="hljs-variable language_">window</span>) {
            <span class="hljs-title class_">BrowserEnv</span>_1.<span class="hljs-title function_">refreshAuthoritativeScrollValues</span>()
        }
    })
}</pre></div></div>
            
        </li>
        
        
        <li id="section-260">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-260">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-261">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-261">&#x00a7;</a>
              </div>
              <p><code>listenAtTopLevel</code>
在最顶层设置各种事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">listenAtTopLevel</span>(<span class="hljs-params">touchNotMouse</span>) {
    <span class="hljs-title function_">invariant_1</span>(!_isListening, <span class="hljs-string">&#x27;listenAtTopLevel(...): Cannot setup top-level listener more than once.&#x27;</span>);
    <span class="hljs-keyword">var</span> mountAt = <span class="hljs-variable language_">document</span>;
    <span class="hljs-title function_">registerDocumentScrollListener</span>();
    <span class="hljs-title function_">registerDocumentResizeListener</span>();
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topMouseOver, <span class="hljs-string">&#x27;mouseover&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topMouseDown, <span class="hljs-string">&#x27;mousedown&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topMouseUp, <span class="hljs-string">&#x27;mouseup&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topMouseMove, <span class="hljs-string">&#x27;mousemove&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topMouseOut, <span class="hljs-string">&#x27;mouseout&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topClick, <span class="hljs-string">&#x27;click&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topDoubleClick, <span class="hljs-string">&#x27;dblclick&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topMouseWheel, <span class="hljs-string">&#x27;mousewheel&#x27;</span>, mountAt);
    <span class="hljs-keyword">if</span> (touchNotMouse) {
        <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topTouchStart, <span class="hljs-string">&#x27;touchstart&#x27;</span>, mountAt);
        <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topTouchEnd, <span class="hljs-string">&#x27;touchend&#x27;</span>, mountAt);
        <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topTouchMove, <span class="hljs-string">&#x27;touchmove&#x27;</span>, mountAt);
        <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topTouchCancel, <span class="hljs-string">&#x27;touchcancel&#x27;</span>, mountAt)
    }
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topKeyUp, <span class="hljs-string">&#x27;keyup&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topKeyPress, <span class="hljs-string">&#x27;keypress&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topKeyDown, <span class="hljs-string">&#x27;keydown&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topChange, <span class="hljs-string">&#x27;change&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topDOMCharacterDataModified, <span class="hljs-string">&#x27;DOMCharacterDataModified&#x27;</span>, mountAt);
    <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topMouseWheel, <span class="hljs-string">&#x27;DOMMouseScroll&#x27;</span>, mountAt);
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEventSupported_1</span>(<span class="hljs-string">&#x27;scroll&#x27;</span>, <span class="hljs-literal">true</span>)) {
        <span class="hljs-title function_">trapCapturedEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topScroll, <span class="hljs-string">&#x27;scroll&#x27;</span>, mountAt)
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topScroll, <span class="hljs-string">&#x27;scroll&#x27;</span>, <span class="hljs-variable language_">window</span>)
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEventSupported_1</span>(<span class="hljs-string">&#x27;focus&#x27;</span>, <span class="hljs-literal">true</span>)) {
        <span class="hljs-title function_">trapCapturedEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topFocus, <span class="hljs-string">&#x27;focus&#x27;</span>, mountAt);
        <span class="hljs-title function_">trapCapturedEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topBlur, <span class="hljs-string">&#x27;blur&#x27;</span>, mountAt)
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isEventSupported_1</span>(<span class="hljs-string">&#x27;focusin&#x27;</span>)) {
        <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topFocus, <span class="hljs-string">&#x27;focusin&#x27;</span>, mountAt);
        <span class="hljs-title function_">trapBubbledEvent</span>(topLevelTypes$<span class="hljs-number">2.</span>topBlur, <span class="hljs-string">&#x27;focusout&#x27;</span>, mountAt)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-262">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-262">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-263">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-263">&#x00a7;</a>
              </div>
              <p><code>handleTopLevel</code>
顶层的事件回调处理方法</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleTopLevel</span>(<span class="hljs-params">topLevelType, nativeEvent, renderedTargetID, renderedTarget</span>) {
    <span class="hljs-keyword">var</span> abstractEvents = <span class="hljs-title class_">EventPluginHub</span>_1.<span class="hljs-title function_">extractAbstractEvents</span>(topLevelType, nativeEvent, renderedTargetID, renderedTarget);
    <span class="hljs-title class_">EventPluginHub</span>_1.<span class="hljs-title function_">enqueueAbstractEvents</span>(abstractEvents);
    <span class="hljs-title class_">EventPluginHub</span>_1.<span class="hljs-title function_">processAbstractEventQueue</span>()
}</pre></div></div>
            
        </li>
        
        
        <li id="section-264">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-264">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-265">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-265">&#x00a7;</a>
              </div>
              <p><code>setEnabled</code>
设置事件是否由顶层进行触发</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">setEnabled</span>(<span class="hljs-params">enabled</span>) {
    <span class="hljs-title function_">invariant_1</span>(<span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">canUseDOM</span>, <span class="hljs-string">&#x27;setEnabled(...): Cannot toggle event listening in a Worker thread. This is likely a bug in the framework. Please report immediately.&#x27;</span>);
    <span class="hljs-title class_">ReactEvent</span>.<span class="hljs-property">TopLevelCallbackCreator</span>.<span class="hljs-title function_">setEnabled</span>(enabled)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-266">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-266">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-267">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-267">&#x00a7;</a>
              </div>
              <p><code>isEnabled</code>
判断是否由顶层处罚</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">isEnabled</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">ReactEvent</span>.<span class="hljs-property">TopLevelCallbackCreator</span>.<span class="hljs-title function_">isEnabled</span>()
}</pre></div></div>
            
        </li>
        
        
        <li id="section-268">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-268">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-269">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-269">&#x00a7;</a>
              </div>
              <p><code>ensureListening</code>
确保顶层事件的监听执行</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">ensureListening</span>(<span class="hljs-params">touchNotMouse, TopLevelCallbackCreator</span>) {
    <span class="hljs-title function_">invariant_1</span>(<span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">canUseDOM</span>, <span class="hljs-string">&#x27;ensureListening(...): Cannot toggle event listening in a Worker thread. This is likely a bug in the framework. Please report immediately.&#x27;</span>);
    <span class="hljs-keyword">if</span> (!_isListening) {
        <span class="hljs-title class_">ReactEvent</span>.<span class="hljs-property">TopLevelCallbackCreator</span> = <span class="hljs-title class_">TopLevelCallbackCreator</span>;
        <span class="hljs-title function_">listenAtTopLevel</span>(touchNotMouse);
        _isListening = <span class="hljs-literal">true</span>
    }
}
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactEvent</span> = {
    <span class="hljs-title class_">TopLevelCallbackCreator</span>: <span class="hljs-literal">null</span>,<span class="hljs-comment">// ReactEventTopLevelCallback会被注入</span>
    <span class="hljs-attr">handleTopLevel</span>: handleTopLevel,<span class="hljs-comment">// 事件回调的处理函数</span>
    <span class="hljs-attr">setEnabled</span>: setEnabled,<span class="hljs-comment">// 设置事件是否由顶层进行触发</span>
    <span class="hljs-attr">isEnabled</span>: isEnabled,<span class="hljs-comment">// 判断是否由顶层处罚</span>
    <span class="hljs-attr">ensureListening</span>: ensureListening,<span class="hljs-comment">// 确保顶层事件的监听执行</span>
    <span class="hljs-attr">registrationNames</span>: registrationNames$<span class="hljs-number">1</span>,<span class="hljs-comment">// 一个对象，用于存储每种事件的`PluginModule`</span>
    <span class="hljs-attr">putListener</span>: <span class="hljs-title class_">EventPluginHub</span>_1.<span class="hljs-property">putListener</span>,<span class="hljs-comment">// 针对ID 添加事件</span>
    <span class="hljs-attr">getListener</span>: <span class="hljs-title class_">EventPluginHub</span>_1.<span class="hljs-property">getListener</span>,<span class="hljs-comment">// 针对ID 获取事件</span>
    <span class="hljs-attr">deleteAllListeners</span>: <span class="hljs-title class_">EventPluginHub</span>_1.<span class="hljs-property">deleteAllListeners</span>,<span class="hljs-comment">// 删除所有事件</span>
    <span class="hljs-attr">trapBubbledEvent</span>: trapBubbledEvent,<span class="hljs-comment">// 以冒泡来进行事件监听</span>
    <span class="hljs-attr">trapCapturedEvent</span>: trapCapturedEvent<span class="hljs-comment">// 以捕获来进行事件监听</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactEvent</span>_1 = <span class="hljs-title class_">ReactEvent</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-270">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-270">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-271">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-271">&#x00a7;</a>
              </div>
              <p><code>getDOMNodeID</code>
传入dom元素<code>domNode</code>，获取它的ID</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">getDOMNodeID</span>(<span class="hljs-params">domNode</span>) {
    <span class="hljs-keyword">if</span> (domNode.<span class="hljs-property">getAttributeNode</span>) {
        <span class="hljs-keyword">var</span> attributeNode = domNode.<span class="hljs-title function_">getAttributeNode</span>(<span class="hljs-string">&#x27;id&#x27;</span>);
        <span class="hljs-keyword">return</span> attributeNode &amp;&amp; attributeNode.<span class="hljs-property">value</span> || <span class="hljs-string">&#x27;&#x27;</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> domNode.<span class="hljs-property">id</span> || <span class="hljs-string">&#x27;&#x27;</span>
    }
}
<span class="hljs-keyword">var</span> getDOMNodeID_1 = getDOMNodeID;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">SEPARATOR</span> = <span class="hljs-string">&#x27;.&#x27;</span>;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">SEPARATOR_LENGTH</span> = <span class="hljs-variable constant_">SEPARATOR</span>.<span class="hljs-property">length</span>;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">MAX_TREE_DEPTH</span> = <span class="hljs-number">100</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-272">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-272">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-273">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-273">&#x00a7;</a>
              </div>
              <p><code>isMarker</code>
判断字符串<code>id</code>的第<code>index</code>字符，是否为<code>.</code>，或者长度是否为<code>index</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">isMarker</span>(<span class="hljs-params">id, index</span>) {
    <span class="hljs-keyword">return</span> id.<span class="hljs-title function_">charAt</span>(index) === <span class="hljs-variable constant_">SEPARATOR</span> || index === id.<span class="hljs-property">length</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-274">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-274">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-275">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-275">&#x00a7;</a>
              </div>
              <p><code>isValidID</code>
判断<code>id</code>是否为rt的id</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">isValidID</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-keyword">return</span> id === <span class="hljs-string">&#x27;&#x27;</span> || (id.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>) === <span class="hljs-variable constant_">SEPARATOR</span> &amp;&amp; id.<span class="hljs-title function_">charAt</span>(id.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) !== <span class="hljs-variable constant_">SEPARATOR</span>)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-276">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-276">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-277">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-277">&#x00a7;</a>
              </div>
              <p><code>isRenderedByReact</code>
提供dom元素<code>node</code>，判断它是否由rt生成的</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">isRenderedByReact</span>(<span class="hljs-params">node</span>) {
    <span class="hljs-keyword">var</span> id = <span class="hljs-title function_">getDOMNodeID_1</span>(node);
    <span class="hljs-keyword">return</span> id &amp;&amp; id.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>) === <span class="hljs-variable constant_">SEPARATOR</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-278">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-278">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-279">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-279">&#x00a7;</a>
              </div>
              <p><code>parentID</code>
通过<code>id</code>来获取父级的<code>id</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">parentID</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-keyword">return</span> id ? id.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>, id.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-variable constant_">SEPARATOR</span>)) : <span class="hljs-string">&#x27;&#x27;</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-280">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-280">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-281">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-281">&#x00a7;</a>
              </div>
              <p><code>traverseParentPath</code>
向下或者向上拿取<code>id</code>，然后通过<code>cb</code>来调用</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">traverseParentPath</span>(<span class="hljs-params">start, stop, cb, arg, skipFirst, skipLast</span>) {
    start = start || <span class="hljs-string">&#x27;&#x27;</span>;
    stop = stop || <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-title function_">invariant_1</span>(start !== stop, <span class="hljs-string">&#x27;traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.&#x27;</span>, start);
    <span class="hljs-keyword">var</span> ancestorID = <span class="hljs-title class_">ReactInstanceHandles</span>.<span class="hljs-title function_">getFirstCommonAncestorID</span>(start, stop);
    <span class="hljs-keyword">var</span> traverseUp = ancestorID === stop;
    <span class="hljs-title function_">invariant_1</span>(traverseUp || ancestorID === start, <span class="hljs-string">&#x27;traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.&#x27;</span>, start, stop);
    <span class="hljs-keyword">var</span> depth = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> traverse = traverseUp ? parentID : <span class="hljs-title class_">ReactInstanceHandles</span>.<span class="hljs-property">nextDescendantID</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> id = start;; id = <span class="hljs-title function_">traverse</span>(id, stop)) {
        <span class="hljs-keyword">if</span> ((!skipFirst || id !== start) &amp;&amp; (!skipLast || id !== stop)) {
            <span class="hljs-title function_">cb</span>(id, traverseUp, arg)
        }
        <span class="hljs-keyword">if</span> (id === stop) {
            <span class="hljs-keyword">break</span>
        }
        <span class="hljs-title function_">invariant_1</span>(depth++ &lt; <span class="hljs-variable constant_">MAX_TREE_DEPTH</span>, <span class="hljs-string">&#x27;traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s&#x27;</span>, start, stop)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-282">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-282">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-283">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-283">&#x00a7;</a>
              </div>
              <p><code>ReactInstanceHandles</code>
涉及到rt的<code>id</code>操作</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactInstanceHandles</span> = {
    <span class="hljs-attr">separator</span>: <span class="hljs-variable constant_">SEPARATOR</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-284">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-284">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-285">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-285">&#x00a7;</a>
              </div>
              <p><code>getFirstReactDOM</code>
获取<code>node</code>最顶部的元素的<code>id</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">getFirstReactDOM</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">var</span> current = node;
        <span class="hljs-keyword">while</span> (current &amp;&amp; current.<span class="hljs-property">parentNode</span> !== current) {
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isRenderedByReact</span>(current)) {
                <span class="hljs-keyword">return</span> current
            }
            current = current.<span class="hljs-property">parentNode</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-286">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-286">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-287">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-287">&#x00a7;</a>
              </div>
              <p><code>findComponentRoot</code>
从<code>ancestorNode</code>及其后辈元素中寻找 id 值为 <code>id</code> 的元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">findComponentRoot</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ancestorNode, id</span>) {
        <span class="hljs-keyword">var</span> child = ancestorNode.<span class="hljs-property">firstChild</span>;
        <span class="hljs-keyword">while</span> (child) {
            <span class="hljs-keyword">if</span> (id === child.<span class="hljs-property">id</span>) {
                <span class="hljs-keyword">return</span> child
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (id.<span class="hljs-title function_">indexOf</span>(child.<span class="hljs-property">id</span>) === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-title class_">ReactInstanceHandles</span>.<span class="hljs-title function_">findComponentRoot</span>(child, id)
            }
            child = child.<span class="hljs-property">nextSibling</span>
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-288">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-288">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-289">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-289">&#x00a7;</a>
              </div>
              <p><code>getFirstCommonAncestorID</code>
获取<code>oneID</code>和<code>twoID</code>，第一层的公用的祖先元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">getFirstCommonAncestorID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">oneID, twoID</span>) {
        <span class="hljs-keyword">var</span> minLength = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(oneID.<span class="hljs-property">length</span>, twoID.<span class="hljs-property">length</span>);
        <span class="hljs-keyword">if</span> (minLength === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>
        }
        <span class="hljs-keyword">var</span> lastCommonMarkerIndex = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt;= minLength; i++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isMarker</span>(oneID, i) &amp;&amp; <span class="hljs-title function_">isMarker</span>(twoID, i)) {
                lastCommonMarkerIndex = i
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (oneID.<span class="hljs-title function_">charAt</span>(i) !== twoID.<span class="hljs-title function_">charAt</span>(i)) {
                <span class="hljs-keyword">break</span>
            }
        }
        <span class="hljs-keyword">var</span> longestCommonID = oneID.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>, lastCommonMarkerIndex);
        <span class="hljs-title function_">invariant_1</span>(<span class="hljs-title function_">isValidID</span>(longestCommonID), <span class="hljs-string">&#x27;getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s&#x27;</span>, oneID, twoID, longestCommonID);
        <span class="hljs-keyword">return</span> longestCommonID
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-290">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-290">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-291">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-291">&#x00a7;</a>
              </div>
              <p><code>getReactRootID</code>
生成<code>root</code>元素的<code>id</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">getReactRootID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">mountPointCount</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;.reactRoot[&#x27;</span> + mountPointCount + <span class="hljs-string">&#x27;]&#x27;</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-292">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-292">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-293">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-293">&#x00a7;</a>
              </div>
              <p><code>getReactRootIDFromNodeID</code>
通过正则表达式，获取<code>id</code>的祖先id</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">getReactRootIDFromNodeID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) {
        <span class="hljs-keyword">var</span> regexResult = <span class="hljs-regexp">/\.reactRoot\[[^\]]+\]/</span>.<span class="hljs-title function_">exec</span>(id);
        <span class="hljs-keyword">return</span> regexResult &amp;&amp; regexResult[<span class="hljs-number">0</span>]
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-294">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-294">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-295">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-295">&#x00a7;</a>
              </div>
              <p><code>traverseEnterLeave</code>
鼠标的进入和离开，从下到上或从上到下的执行<code>cb</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">traverseEnterLeave</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">leaveID, enterID, cb, upArg, downArg</span>) {
        <span class="hljs-keyword">var</span> longestCommonID = <span class="hljs-title class_">ReactInstanceHandles</span>.<span class="hljs-title function_">getFirstCommonAncestorID</span>(leaveID, enterID);
        <span class="hljs-keyword">if</span> (longestCommonID !== leaveID) {
            <span class="hljs-title function_">traverseParentPath</span>(leaveID, longestCommonID, cb, upArg, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>)
        }
        <span class="hljs-keyword">if</span> (longestCommonID !== enterID) {
            <span class="hljs-title function_">traverseParentPath</span>(longestCommonID, enterID, cb, downArg, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>)
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-296">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-296">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-297">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-297">&#x00a7;</a>
              </div>
              <p><code>traverseTwoPhase</code>
以<code>targetID</code>为基准，两端寻找<code>id</code>来触发事件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">traverseTwoPhase</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">targetID, cb, arg</span>) {
        <span class="hljs-keyword">if</span> (targetID) {
            <span class="hljs-title function_">traverseParentPath</span>(<span class="hljs-string">&#x27;&#x27;</span>, targetID, cb, arg, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>);
            <span class="hljs-title function_">traverseParentPath</span>(targetID, <span class="hljs-string">&#x27;&#x27;</span>, cb, arg, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>)
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-298">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-298">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-299">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-299">&#x00a7;</a>
              </div>
              <p><code>nextDescendantID</code>
<code>destinationID</code>比<code>ancestorID</code>长，获取<code>ancestorID</code>基于<code>destinationID</code>等下一个<code>id</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">nextDescendantID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ancestorID, destinationID</span>) {
        <span class="hljs-title function_">invariant_1</span>(<span class="hljs-title function_">isValidID</span>(ancestorID) &amp;&amp; <span class="hljs-title function_">isValidID</span>(destinationID), <span class="hljs-string">&#x27;nextDescendantID(%s, %s): Received an invalid React DOM ID.&#x27;</span>, ancestorID, destinationID);
        <span class="hljs-keyword">var</span> longestCommonID = <span class="hljs-title class_">ReactInstanceHandles</span>.<span class="hljs-title function_">getFirstCommonAncestorID</span>(ancestorID, destinationID);
        <span class="hljs-title function_">invariant_1</span>(longestCommonID === ancestorID, <span class="hljs-string">&#x27;nextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.&#x27;</span>, ancestorID, destinationID);
        <span class="hljs-keyword">if</span> (ancestorID === destinationID) {
            <span class="hljs-keyword">return</span> ancestorID
        }
        <span class="hljs-keyword">var</span> start = ancestorID.<span class="hljs-property">length</span> + <span class="hljs-variable constant_">SEPARATOR_LENGTH</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = start; i &lt; destinationID.<span class="hljs-property">length</span>; i++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isMarker</span>(destinationID, i)) {
                <span class="hljs-keyword">break</span>
            }
        }
        <span class="hljs-keyword">return</span> destinationID.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>, i)
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactInstanceHandles</span>_1 = <span class="hljs-title class_">ReactInstanceHandles</span>;<span class="hljs-comment">// 涉及到rt的`id`操作</span>
<span class="hljs-keyword">var</span> _topLevelListenersEnabled = <span class="hljs-literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-300">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-300">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-301">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-301">&#x00a7;</a>
              </div>
              <p><code>ReactEventTopLevelCallback</code>
顶部事件的操作对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactEventTopLevelCallback</span> = {
    <span class="hljs-attr">setEnabled</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">enabled</span>) {
        _topLevelListenersEnabled = !!enabled
    },
    <span class="hljs-attr">isEnabled</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> _topLevelListenersEnabled
    },
    <span class="hljs-attr">createTopLevelCallback</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">topLevelType</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">fixedNativeEvent</span>) {
            <span class="hljs-keyword">if</span> (!_topLevelListenersEnabled) {
                <span class="hljs-keyword">return</span>
            }
            <span class="hljs-keyword">var</span> renderedTarget = <span class="hljs-title class_">ReactInstanceHandles</span>_1.<span class="hljs-title function_">getFirstReactDOM</span>(fixedNativeEvent.<span class="hljs-property">target</span>) || <span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">global</span>;
            <span class="hljs-keyword">var</span> renderedTargetID = <span class="hljs-title function_">getDOMNodeID_1</span>(renderedTarget);
            <span class="hljs-keyword">var</span> event = fixedNativeEvent;
            <span class="hljs-keyword">var</span> target = renderedTarget;
            <span class="hljs-title class_">ReactEvent</span>_1.<span class="hljs-title function_">handleTopLevel</span>(topLevelType, event, renderedTargetID, target)
        }
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactEventTopLevelCallback</span>_1 = <span class="hljs-title class_">ReactEventTopLevelCallback</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-302">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-302">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-303">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-303">&#x00a7;</a>
              </div>
              <p><code>ge</code>
<code>arg</code>不是字符串，则直接返回<code>arg</code>；不存在<code>root</code>的时候，则直接通过<code>arg</code>作为id来获取；含有<code>root</code>的时候，去它的子元素中寻找</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">ge</span>(<span class="hljs-params">arg, root, tag</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> arg != <span class="hljs-string">&#x27;string&#x27;</span> ? arg : !root ? <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(arg) : <span class="hljs-title function_">_geFromSubtree</span>(arg, root, tag)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-304">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-304">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-305">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-305">&#x00a7;</a>
              </div>
              <p><code>_geFromSubtree</code>
从<code>root</code>及它的子元素中，寻找<code>tag</code>标签对应id为<code>id</code>的元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">_geFromSubtree</span>(<span class="hljs-params">id, root, tag</span>) {
    <span class="hljs-keyword">var</span> elem, children, ii;
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">_getNodeID</span>(root) == id) {
        <span class="hljs-keyword">return</span> root
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (root.<span class="hljs-property">getElementsByTagName</span>) {
        children = root.<span class="hljs-title function_">getElementsByTagName</span>(tag || <span class="hljs-string">&#x27;*&#x27;</span>);
        <span class="hljs-keyword">for</span> (ii = <span class="hljs-number">0</span>; ii &lt; children.<span class="hljs-property">length</span>; ii++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">_getNodeID</span>(children[ii]) == id) {
                <span class="hljs-keyword">return</span> children[ii]
            }
        }
    } <span class="hljs-keyword">else</span> {
        children = root.<span class="hljs-property">childNodes</span>;
        <span class="hljs-keyword">for</span> (ii = <span class="hljs-number">0</span>; ii &lt; children.<span class="hljs-property">length</span>; ii++) {
            elem = <span class="hljs-title function_">_geFromSubtree</span>(id, children[ii]);
            <span class="hljs-keyword">if</span> (elem) {
                <span class="hljs-keyword">return</span> elem
            }
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-306">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-306">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-307">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-307">&#x00a7;</a>
              </div>
              <p><code>_getNodeID</code>
获取元素<code>node</code>的id</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">_getNodeID</span>(<span class="hljs-params">node</span>) {
    <span class="hljs-keyword">var</span> id = node.<span class="hljs-property">getAttributeNode</span> &amp;&amp; node.<span class="hljs-title function_">getAttributeNode</span>(<span class="hljs-string">&#x27;id&#x27;</span>);
    <span class="hljs-keyword">return</span> id ? id.<span class="hljs-property">value</span> : <span class="hljs-literal">null</span>
}
<span class="hljs-keyword">var</span> ge_1 = ge;</pre></div></div>
            
        </li>
        
        
        <li id="section-308">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-308">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-309">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-309">&#x00a7;</a>
              </div>
              <p><code>$</code>
把<code>arg</code>当作id获取元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">$</span>(<span class="hljs-params">arg</span>) {
    <span class="hljs-keyword">var</span> element = <span class="hljs-title function_">ge_1</span>(arg);
    <span class="hljs-keyword">if</span> (!element) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> arg == <span class="hljs-string">&#x27;undefined&#x27;</span>) {
            arg = <span class="hljs-string">&#x27;undefined&#x27;</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arg === <span class="hljs-literal">null</span>) {
            arg = <span class="hljs-string">&#x27;null&#x27;</span>
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Tried to get element &quot;&#x27;</span> + arg.<span class="hljs-title function_">toString</span>() + <span class="hljs-string">&#x27;&quot; but it is not present on the page.&#x27;</span>);
    }
    <span class="hljs-keyword">return</span> element
}
<span class="hljs-keyword">var</span> $_1 = $;</pre></div></div>
            
        </li>
        
        
        <li id="section-310">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-310">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-311">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-311">&#x00a7;</a>
              </div>
              <p><code>globalMountPointCounter</code>
按递增的一个变量，用于生成<code>id</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> globalMountPointCounter = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-312">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-312">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-313">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-313">&#x00a7;</a>
              </div>
              <p><code>instanceByReactRootID</code>
以rt的<code>id</code>作为key，<code>component</code>对象作为value的一个对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> instanceByReactRootID = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-314">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-314">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-315">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-315">&#x00a7;</a>
              </div>
              <p><code>containersByReactRootID</code>
以根元素的<code>id</code>作为key，进行保存根组件，value值时dom元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> containersByReactRootID = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-316">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-316">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-317">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-317">&#x00a7;</a>
              </div>
              <p><code>getReactRootID</code>
获取<code>container</code>第一个子元素的<code>id</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">getReactRootID</span>(<span class="hljs-params">container</span>) {
    <span class="hljs-keyword">return</span> container.<span class="hljs-property">firstChild</span> &amp;&amp; container.<span class="hljs-property">firstChild</span>.<span class="hljs-property">id</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-318">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-318">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-319">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-319">&#x00a7;</a>
              </div>
              <p><code>ReactMount</code>
与渲染相关的对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactMount</span> = {
    <span class="hljs-attr">totalInstantiationTime</span>: <span class="hljs-number">0</span>,<span class="hljs-comment">// mountComponent方法所耗费的时间</span>
    <span class="hljs-attr">totalInjectionTime</span>: <span class="hljs-number">0</span>,<span class="hljs-comment">// mountComponent开始前，到生成html字符串，最后插入到元素的过程所用的时间</span>
    <span class="hljs-attr">useTouchEvents</span>: <span class="hljs-literal">false</span>,<span class="hljs-comment">// 是否启用触摸的事件方法</span></pre></div></div>
            
        </li>
        
        
        <li id="section-320">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-320">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-321">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-321">&#x00a7;</a>
              </div>
              <p><code>scrollMonitor</code>
用来执行一个回调函数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">scrollMonitor</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">container, renderCallback</span>) {
        <span class="hljs-title function_">renderCallback</span>()
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-322">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-322">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-323">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-323">&#x00a7;</a>
              </div>
              <p><code>prepareTopLevelEvents</code>
确保顶部的事件监听</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">prepareTopLevelEvents</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">TopLevelCallbackCreator</span>) {
        <span class="hljs-title class_">ReactEvent</span>_1.<span class="hljs-title function_">ensureListening</span>(<span class="hljs-title class_">ReactMount</span>.<span class="hljs-property">useTouchEvents</span>, <span class="hljs-title class_">TopLevelCallbackCreator</span>)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-324">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-324">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-325">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-325">&#x00a7;</a>
              </div>
              <p><code>renderComponent</code>
传入组件<code>nextComponent</code>和dom元素<code>container</code>,执行事件的准备，最后生成html，并插入到<code>container</code>中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">renderComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nextComponent, container</span>) {
        <span class="hljs-keyword">var</span> prevComponent = instanceByReactRootID[<span class="hljs-title function_">getReactRootID</span>(container)];
        <span class="hljs-keyword">if</span> (prevComponent) {
            <span class="hljs-keyword">if</span> (prevComponent.<span class="hljs-property">constructor</span> === nextComponent.<span class="hljs-property">constructor</span>) {
                <span class="hljs-keyword">var</span> nextProps = nextComponent.<span class="hljs-property">props</span>;
                <span class="hljs-title class_">ReactMount</span>.<span class="hljs-title function_">scrollMonitor</span>(container, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
                    prevComponent.<span class="hljs-title function_">replaceProps</span>(nextProps)
                });
                <span class="hljs-keyword">return</span> prevComponent
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-title class_">ReactMount</span>.<span class="hljs-title function_">unmountAndReleaseReactRootNode</span>(container)
            }
        }
        <span class="hljs-title class_">ReactMount</span>.<span class="hljs-title function_">prepareTopLevelEvents</span>(<span class="hljs-title class_">ReactEventTopLevelCallback</span>_1);
        <span class="hljs-keyword">var</span> reactRootID = <span class="hljs-title class_">ReactMount</span>.<span class="hljs-title function_">registerContainer</span>(container);
        instanceByReactRootID[reactRootID] = nextComponent;
        nextComponent.<span class="hljs-title function_">mountComponentIntoNode</span>(reactRootID, container);
        <span class="hljs-keyword">return</span> nextComponent
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-326">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-326">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-327">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-327">&#x00a7;</a>
              </div>
              <p><code>createComponentRenderer</code>
<code>renderComponent</code>方法的二次适配，先传入<code>component</code>，后续再传入<code>container</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">createComponentRenderer</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">component</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">container</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">ReactMount</span>.<span class="hljs-title function_">renderComponent</span>(component, container)
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-328">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-328">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-329">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-329">&#x00a7;</a>
              </div>
              <p><code>constructAndRenderComponent</code>
传入component的构造函数<code>constructor</code>和属性<code>props</code>以及<code>container</code>，最终进行渲染</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">constructAndRenderComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">constructor, props, container</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ReactMount</span>.<span class="hljs-title function_">renderComponent</span>(<span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>), container)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-330">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-330">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-331">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-331">&#x00a7;</a>
              </div>
              <p><code>constructAndRenderComponentByID</code>
把<code>constructAndRenderComponent</code>的<code>container</code>适配为了<code>id</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">constructAndRenderComponentByID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">constructor, props, id</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ReactMount</span>.<span class="hljs-title function_">constructAndRenderComponent</span>(constructor, props, $_1(id))
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-332">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-332">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-333">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-333">&#x00a7;</a>
              </div>
              <p><code>registerContainer</code>
把<code>container</code>缓存到<code>containersByReactRootID</code>中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">registerContainer</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">container</span>) {
        <span class="hljs-keyword">var</span> reactRootID = <span class="hljs-title function_">getReactRootID</span>(container);
        <span class="hljs-keyword">if</span> (reactRootID) {
            reactRootID = <span class="hljs-title class_">ReactInstanceHandles</span>_1.<span class="hljs-title function_">getReactRootIDFromNodeID</span>(reactRootID)
        }
        <span class="hljs-keyword">if</span> (!reactRootID) {
            reactRootID = <span class="hljs-title class_">ReactInstanceHandles</span>_1.<span class="hljs-title function_">getReactRootID</span>(globalMountPointCounter++)
        }
        containersByReactRootID[reactRootID] = container;
        <span class="hljs-keyword">return</span> reactRootID
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-334">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-334">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-335">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-335">&#x00a7;</a>
              </div>
              <p><code>unmountAndReleaseReactRootNode</code>
提供<code>container</code>，获取到组件，再通过组件<code>component</code>释放资源，最后删除其他缓存</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">unmountAndReleaseReactRootNode</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">container</span>) {
        <span class="hljs-keyword">var</span> reactRootID = <span class="hljs-title function_">getReactRootID</span>(container);
        <span class="hljs-keyword">var</span> component = instanceByReactRootID[reactRootID];
        component.<span class="hljs-title function_">unmountComponentFromNode</span>(container);
        <span class="hljs-keyword">delete</span> instanceByReactRootID[reactRootID];
        <span class="hljs-keyword">delete</span> containersByReactRootID[reactRootID]
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-336">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-336">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-337">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-337">&#x00a7;</a>
              </div>
              <p><code>findReactContainerForID</code>
通过当前的<code>id</code>获取到它的最顶层的<code>dom</code>元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">findReactContainerForID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) {
        <span class="hljs-keyword">var</span> reatRootID = <span class="hljs-title class_">ReactInstanceHandles</span>_1.<span class="hljs-title function_">getReactRootIDFromNodeID</span>(id);
        <span class="hljs-keyword">return</span> containersByReactRootID[reatRootID]
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-338">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-338">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-339">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-339">&#x00a7;</a>
              </div>
              <p><code>findReactRenderedDOMNodeSlow</code>
删除 domID对应的所有事件回调</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">findReactRenderedDOMNodeSlow</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) {
        <span class="hljs-keyword">var</span> reactRoot = <span class="hljs-title class_">ReactMount</span>.<span class="hljs-title function_">findReactContainerForID</span>(id);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ReactInstanceHandles</span>_1.<span class="hljs-title function_">findComponentRoot</span>(reactRoot, id)
    }
};

<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactMount</span>_1 = <span class="hljs-title class_">ReactMount</span>;<span class="hljs-comment">// 与渲染相关的对象</span>
<span class="hljs-keyword">var</span> nodeCache = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-340">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-340">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-341">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-341">&#x00a7;</a>
              </div>
              <p><code>ReactDOMNodeCache</code>
关于dom元素node的缓存</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">React</span>DOMNodeCache = {</pre></div></div>
            
        </li>
        
        
        <li id="section-342">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-342">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-343">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-343">&#x00a7;</a>
              </div>
              <p><code>purgeEntireCache</code>
清空<code>nodeCache</code>对象，并返回</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">purgeEntireCache</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        nodeCache = {};
        <span class="hljs-keyword">return</span> nodeCache
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-344">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-344">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-345">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-345">&#x00a7;</a>
              </div>
              <p><code>getCachedNodeByID</code>
提供<code>id</code>，查找到对应的dom元素，最后缓存到<code>nodeCache</code>中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">getCachedNodeByID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) {
        <span class="hljs-keyword">return</span> nodeCache[id] || (nodeCache[id] = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id) || <span class="hljs-title class_">ReactMount</span>_1.<span class="hljs-title function_">findReactRenderedDOMNodeSlow</span>(id))
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">React</span>DOMNodeCache_1 = <span class="hljs-title class_">React</span>DOMNodeCache;
<span class="hljs-keyword">var</span> contentKey = <span class="hljs-literal">null</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-346">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-346">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-347">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-347">&#x00a7;</a>
              </div>
              <p><code>getTextContentAccessor</code>
获取到dom元素中的文本操作属性是<code>innerText</code>还是<code>textContent</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">getTextContentAccessor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (!contentKey &amp;&amp; <span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">canUseDOM</span>) {
        contentKey = <span class="hljs-string">&#x27;innerText&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>) ? <span class="hljs-string">&#x27;innerText&#x27;</span> : <span class="hljs-string">&#x27;textContent&#x27;</span>
    }
    <span class="hljs-keyword">return</span> contentKey
}
<span class="hljs-keyword">var</span> getTextContentAccessor_1 = getTextContentAccessor;</pre></div></div>
            
        </li>
        
        
        <li id="section-348">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-348">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-349">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-349">&#x00a7;</a>
              </div>
              <p><code>INVALID_PROPERTY_ERRORS</code>
<code>content</code>、<code>dangerouslySetInnerHTML</code>、<code>style</code>三个属性不能直接用在<code>DOMPropertyOperations_1.setValueForProperty</code>的方法中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">INVALID_PROPERTY_ERRORS</span> = {
    <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;`content` must be set using `updateTextContentByID()`.&#x27;</span>,
    <span class="hljs-attr">dangerouslySetInnerHTML</span>: <span class="hljs-string">&#x27;`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.&#x27;</span>,
    <span class="hljs-attr">style</span>: <span class="hljs-string">&#x27;`style` must be set using `updateStylesByID()`.&#x27;</span>
};
<span class="hljs-keyword">var</span> textContentAccessor = <span class="hljs-title function_">getTextContentAccessor_1</span>() || <span class="hljs-string">&#x27;NA&#x27;</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-350">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-350">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-351">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-351">&#x00a7;</a>
              </div>
              <p><code>ReactDOMIDOperations</code>
针对dom元素的id来操作dom元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">React</span>DOMIDOperations = {</pre></div></div>
            
        </li>
        
        
        <li id="section-352">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-352">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-353">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-353">&#x00a7;</a>
              </div>
              <p><code>updatePropertyByID</code>
提供<code>id</code>，<code>name</code>属性名，<code>value</code>属性值，更新<code>id</code>对应的值</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">updatePropertyByID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id, name, value</span>) {
        <span class="hljs-keyword">var</span> node = <span class="hljs-title class_">React</span>DOMNodeCache_1.<span class="hljs-title function_">getCachedNodeByID</span>(id);
        <span class="hljs-title function_">invariant_1</span>(!<span class="hljs-variable constant_">INVALID_PROPERTY_ERRORS</span>.<span class="hljs-title function_">hasOwnProperty</span>(name), <span class="hljs-string">&#x27;updatePropertyByID(...): %s&#x27;</span>, <span class="hljs-variable constant_">INVALID_PROPERTY_ERRORS</span>[name]);
        <span class="hljs-title class_">DOMPropertyOperations</span>_1.<span class="hljs-title function_">setValueForProperty</span>(node, name, value)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-354">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-354">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-355">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-355">&#x00a7;</a>
              </div>
              <p><code>updatePropertiesByID</code>
传入<code>id</code>及属性对象<code>properties</code>，遍历更新<code>id</code>对应的属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">updatePropertiesByID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id, properties</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> properties) {
            <span class="hljs-keyword">if</span> (!properties.<span class="hljs-title function_">hasOwnProperty</span>(name)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-title class_">React</span>DOMIDOperations.<span class="hljs-title function_">updatePropertyByID</span>(id, name, properties[name])
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-356">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-356">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-357">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-357">&#x00a7;</a>
              </div>
              <p><code>updateStylesByID</code>
更新<code>id</code>对应的行内样式styles</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">updateStylesByID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id, styles</span>) {
        <span class="hljs-keyword">var</span> node = <span class="hljs-title class_">React</span>DOMNodeCache_1.<span class="hljs-title function_">getCachedNodeByID</span>(id);
        <span class="hljs-title class_">CSSPropertyOperations</span>_1.<span class="hljs-title function_">setValueForStyles</span>(node, styles)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-358">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-358">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-359">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-359">&#x00a7;</a>
              </div>
              <p><code>updateInnerHTMLByID</code>
更新<code>id</code>对应的node的html</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">updateInnerHTMLByID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id, html</span>) {
        <span class="hljs-keyword">var</span> node = <span class="hljs-title class_">React</span>DOMNodeCache_1.<span class="hljs-title function_">getCachedNodeByID</span>(id);
        node.<span class="hljs-property">innerHTML</span> = (html &amp;&amp; html.<span class="hljs-property">__html</span> || <span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^ /g</span>, <span class="hljs-string">&#x27;&amp;nbsp;&#x27;</span>)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-360">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-360">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-361">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-361">&#x00a7;</a>
              </div>
              <p><code>updateTextContentByID</code>
更新<code>id</code>对应的node的文本为<code>content</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">updateTextContentByID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id, content</span>) {
        <span class="hljs-keyword">var</span> node = <span class="hljs-title class_">React</span>DOMNodeCache_1.<span class="hljs-title function_">getCachedNodeByID</span>(id);
        node[textContentAccessor] = content
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-362">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-362">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-363">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-363">&#x00a7;</a>
              </div>
              <p><code>dangerouslyReplaceNodeWithMarkupByID</code>
替换<code>id</code>对应的node内部html替换为<code>markup</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">dangerouslyReplaceNodeWithMarkupByID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">id, markup</span>) {
        <span class="hljs-keyword">var</span> node = <span class="hljs-title class_">React</span>DOMNodeCache_1.<span class="hljs-title function_">getCachedNodeByID</span>(id);
        <span class="hljs-title class_">DOMChildrenOperations</span>_1.<span class="hljs-title function_">dangerouslyReplaceNodeWithMarkup</span>(node, markup);
        <span class="hljs-title class_">React</span>DOMNodeCache_1.<span class="hljs-title function_">purgeEntireCache</span>()
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-364">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-364">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-365">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-365">&#x00a7;</a>
              </div>
              <p><code>manageChildrenByParentID</code>
对<code>DOMChildrenOperations_1.manageChildren</code>方法进行了二次加工</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">manageChildrenByParentID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">parentID, domOperations</span>) {
        <span class="hljs-keyword">var</span> parent = <span class="hljs-title class_">React</span>DOMNodeCache_1.<span class="hljs-title function_">getCachedNodeByID</span>(parentID);
        <span class="hljs-title class_">DOMChildrenOperations</span>_1.<span class="hljs-title function_">manageChildren</span>(parent, domOperations);
        <span class="hljs-title class_">React</span>DOMNodeCache_1.<span class="hljs-title function_">purgeEntireCache</span>()
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-366">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-366">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-367">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-367">&#x00a7;</a>
              </div>
              <p><code>setTextNodeValueAtIndexByParentID</code>
设置id为<code>parentID</code>的第<code>index</code>个元素的值为<code>value</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">setTextNodeValueAtIndexByParentID</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">parentID, index, value</span>) {
        <span class="hljs-keyword">var</span> parent = <span class="hljs-title class_">React</span>DOMNodeCache_1.<span class="hljs-title function_">getCachedNodeByID</span>(parentID);
        <span class="hljs-title class_">DOMChildrenOperations</span>_1.<span class="hljs-title function_">setTextNodeValueAtIndex</span>(parent, index, value)
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">React</span>DOMIDOperations_1 = <span class="hljs-title class_">React</span>DOMIDOperations;</pre></div></div>
            
        </li>
        
        
        <li id="section-368">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-368">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-369">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-369">&#x00a7;</a>
              </div>
              <p><code>ReactOwner</code>
关于ref属性的操作</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactOwner</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-370">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-370">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-371">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-371">&#x00a7;</a>
              </div>
              <p><code>isValidOwner</code>
判断<code>object</code>是否支持ref的操作</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">isValidOwner</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">object</span>) {
        <span class="hljs-keyword">return</span> !!(object &amp;&amp; <span class="hljs-keyword">typeof</span> object.<span class="hljs-property">attachRef</span> === <span class="hljs-string">&#x27;function&#x27;</span> &amp;&amp; <span class="hljs-keyword">typeof</span> object.<span class="hljs-property">detachRef</span> === <span class="hljs-string">&#x27;function&#x27;</span>)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-372">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-372">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-373">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-373">&#x00a7;</a>
              </div>
              <p><code>addComponentAsRefTo</code>
给<code>owner</code>添加<code>ref</code>属性为<code>component</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">addComponentAsRefTo</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">component, ref, owner</span>) {
        <span class="hljs-title function_">invariant_1</span>(<span class="hljs-title class_">ReactOwner</span>.<span class="hljs-title function_">isValidOwner</span>(owner), <span class="hljs-string">&#x27;addComponentAsRefTo(...): Only a ReactOwner can have refs.&#x27;</span>);
        owner.<span class="hljs-title function_">attachRef</span>(ref, component)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-374">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-374">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-375">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-375">&#x00a7;</a>
              </div>
              <p><code>removeComponentAsRefFrom</code>
删除掉<code>owner</code>的<code>ref</code>属性<code>component</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">removeComponentAsRefFrom</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">component, ref, owner</span>) {
        <span class="hljs-title function_">invariant_1</span>(<span class="hljs-title class_">ReactOwner</span>.<span class="hljs-title function_">isValidOwner</span>(owner), <span class="hljs-string">&#x27;removeComponentAsRefFrom(...): Only a ReactOwner can have refs.&#x27;</span>);
        <span class="hljs-keyword">if</span> (owner.<span class="hljs-property">refs</span>[ref] === component) {
            owner.<span class="hljs-title function_">detachRef</span>(ref)
        }
    },
    <span class="hljs-title class_">Mixin</span>: {
        <span class="hljs-attr">attachRef</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ref, component</span>) {
            <span class="hljs-title function_">invariant_1</span>(component.<span class="hljs-title function_">isOwnedBy</span>(<span class="hljs-variable language_">this</span>), <span class="hljs-string">&#x27;attachRef(%s, ...): Only a component\&#x27;s owner can store a ref to it.&#x27;</span>, ref);
            <span class="hljs-keyword">var</span> refs = <span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span> || (<span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span> = {});
            refs[ref] = component
        },
        <span class="hljs-attr">detachRef</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ref</span>) {
            <span class="hljs-keyword">delete</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span>[ref]
        }
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactOwner</span>_1 = <span class="hljs-title class_">ReactOwner</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-376">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-376">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-377">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-377">&#x00a7;</a>
              </div>
              <p><code>getActiveElement</code>
获取当前的激活元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">getActiveElement</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-property">activeElement</span>
    } <span class="hljs-keyword">catch</span> (e) {}
}</pre></div></div>
            
        </li>
        
        
        <li id="section-378">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-378">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-379">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-379">&#x00a7;</a>
              </div>
              <p><code>ReactInputSelection</code>
关于文字选择和退回选择的操作类</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactInputSelection</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-380">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-380">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-381">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-381">&#x00a7;</a>
              </div>
              <p><code>hasSelectionCapabilities</code>
判断元素<code>elem</code>是否支持内容编辑</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">hasSelectionCapabilities</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">elem</span>) {
        <span class="hljs-keyword">return</span> elem &amp;&amp; ((elem.<span class="hljs-property">nodeName</span> === <span class="hljs-string">&#x27;INPUT&#x27;</span> &amp;&amp; elem.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;text&#x27;</span>) || elem.<span class="hljs-property">nodeName</span> === <span class="hljs-string">&#x27;TEXTAREA&#x27;</span> || elem.<span class="hljs-property">contentEditable</span> === <span class="hljs-string">&#x27;true&#x27;</span>)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-382">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-382">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-383">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-383">&#x00a7;</a>
              </div>
              <p><code>getSelectionInformation</code>
获取当前激活元素的选择区域</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">getSelectionInformation</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">var</span> focusedElem = <span class="hljs-title function_">getActiveElement</span>();
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">focusedElem</span>: focusedElem,
            <span class="hljs-attr">selectionRange</span>: <span class="hljs-title class_">ReactInputSelection</span>.<span class="hljs-title function_">hasSelectionCapabilities</span>(focusedElem) ? <span class="hljs-title class_">ReactInputSelection</span>.<span class="hljs-title function_">getSelection</span>(focusedElem) : <span class="hljs-literal">null</span>
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-384">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-384">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-385">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-385">&#x00a7;</a>
              </div>
              <p><code>restoreSelection</code>
退回选择</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">restoreSelection</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">priorSelectionInformation</span>) {
        <span class="hljs-keyword">var</span> curFocusedElem = <span class="hljs-title function_">getActiveElement</span>();
        <span class="hljs-keyword">var</span> priorFocusedElem = priorSelectionInformation.<span class="hljs-property">focusedElem</span>;
        <span class="hljs-keyword">var</span> priorSelectionRange = priorSelectionInformation.<span class="hljs-property">selectionRange</span>;
        <span class="hljs-keyword">if</span> (curFocusedElem !== priorFocusedElem &amp;&amp; <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(priorFocusedElem.<span class="hljs-property">id</span>)) {
            <span class="hljs-keyword">if</span> (<span class="hljs-title class_">ReactInputSelection</span>.<span class="hljs-title function_">hasSelectionCapabilities</span>(priorFocusedElem)) {
                <span class="hljs-title class_">ReactInputSelection</span>.<span class="hljs-title function_">setSelection</span>(priorFocusedElem, priorSelectionRange)
            }
            priorFocusedElem.<span class="hljs-title function_">focus</span>()
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-386">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-386">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-387">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-387">&#x00a7;</a>
              </div>
              <p><code>getSelection</code>
获取<code>input</code>的选择区域</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">getSelection</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">input</span>) {
        <span class="hljs-keyword">var</span> range;
        <span class="hljs-keyword">if</span> (input.<span class="hljs-property">contentEditable</span> === <span class="hljs-string">&#x27;true&#x27;</span> &amp;&amp; <span class="hljs-variable language_">window</span>.<span class="hljs-property">getSelection</span>) {
            range = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">getSelection</span>().<span class="hljs-title function_">getRangeAt</span>(<span class="hljs-number">0</span>);
            <span class="hljs-keyword">var</span> commonAncestor = range.<span class="hljs-property">commonAncestorContainer</span>;
            <span class="hljs-keyword">if</span> (commonAncestor &amp;&amp; commonAncestor.<span class="hljs-property">nodeType</span> === <span class="hljs-number">3</span>) {
                commonAncestor = commonAncestor.<span class="hljs-property">parentNode</span>
            }
            <span class="hljs-keyword">if</span> (commonAncestor !== input) {
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-attr">end</span>: <span class="hljs-number">0</span>
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">start</span>: range.<span class="hljs-property">startOffset</span>,
                    <span class="hljs-attr">end</span>: range.<span class="hljs-property">endOffset</span>
                }
            }
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">document</span>.<span class="hljs-property">selection</span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">start</span>: input.<span class="hljs-property">selectionStart</span>,
                <span class="hljs-attr">end</span>: input.<span class="hljs-property">selectionEnd</span>
            }
        }
        range = <span class="hljs-variable language_">document</span>.<span class="hljs-property">selection</span>.<span class="hljs-title function_">createRange</span>();
        <span class="hljs-keyword">if</span> (range.<span class="hljs-title function_">parentElement</span>() !== input) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">end</span>: <span class="hljs-number">0</span>
            }
        }
        <span class="hljs-keyword">var</span> length = input.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>;
        <span class="hljs-keyword">if</span> (input.<span class="hljs-property">nodeName</span> === <span class="hljs-string">&#x27;INPUT&#x27;</span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">start</span>: -range.<span class="hljs-title function_">moveStart</span>(<span class="hljs-string">&#x27;character&#x27;</span>, -length),
                <span class="hljs-attr">end</span>: -range.<span class="hljs-title function_">moveEnd</span>(<span class="hljs-string">&#x27;character&#x27;</span>, -length)
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> range2 = range.<span class="hljs-title function_">duplicate</span>();
            range2.<span class="hljs-title function_">moveToElementText</span>(input);
            range2.<span class="hljs-title function_">setEndPoint</span>(<span class="hljs-string">&#x27;StartToEnd&#x27;</span>, range);
            <span class="hljs-keyword">var</span> end = length - range2.<span class="hljs-property">text</span>.<span class="hljs-property">length</span>;
            range2.<span class="hljs-title function_">setEndPoint</span>(<span class="hljs-string">&#x27;StartToStart&#x27;</span>, range);
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">start</span>: length - range2.<span class="hljs-property">text</span>.<span class="hljs-property">length</span>,
                <span class="hljs-attr">end</span>: end
            }
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-388">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-388">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-389">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-389">&#x00a7;</a>
              </div>
              <p><code>setSelection</code>
根据<code>rangeObj</code>来设置<code>input</code>的选择区域</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">setSelection</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">input, rangeObj</span>) {
        <span class="hljs-keyword">var</span> range;
        <span class="hljs-keyword">var</span> start = rangeObj.<span class="hljs-property">start</span>;
        <span class="hljs-keyword">var</span> end = rangeObj.<span class="hljs-property">end</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> end === <span class="hljs-string">&#x27;undefined&#x27;</span>) {
            end = start
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">selection</span>) {
            <span class="hljs-keyword">if</span> (input.<span class="hljs-property">tagName</span> === <span class="hljs-string">&#x27;TEXTAREA&#x27;</span>) {
                <span class="hljs-keyword">var</span> cr_before = (input.<span class="hljs-property">value</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, start).<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\r/g</span>) || []).<span class="hljs-property">length</span>;
                <span class="hljs-keyword">var</span> cr_inside = (input.<span class="hljs-property">value</span>.<span class="hljs-title function_">slice</span>(start, end).<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\r/g</span>) || []).<span class="hljs-property">length</span>;
                start -= cr_before;
                end -= cr_before + cr_inside
            }
            range = input.<span class="hljs-title function_">createTextRange</span>();
            range.<span class="hljs-title function_">collapse</span>(<span class="hljs-literal">true</span>);
            range.<span class="hljs-title function_">moveStart</span>(<span class="hljs-string">&#x27;character&#x27;</span>, start);
            range.<span class="hljs-title function_">moveEnd</span>(<span class="hljs-string">&#x27;character&#x27;</span>, end - start);
            range.<span class="hljs-title function_">select</span>()
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (input.<span class="hljs-property">contentEditable</span> === <span class="hljs-string">&#x27;true&#x27;</span>) {
                <span class="hljs-keyword">if</span> (input.<span class="hljs-property">childNodes</span>.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>) {
                    range = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createRange</span>();
                    range.<span class="hljs-title function_">setStart</span>(input.<span class="hljs-property">childNodes</span>[<span class="hljs-number">0</span>], start);
                    range.<span class="hljs-title function_">setEnd</span>(input.<span class="hljs-property">childNodes</span>[<span class="hljs-number">0</span>], end);
                    <span class="hljs-keyword">var</span> sel = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">getSelection</span>();
                    sel.<span class="hljs-title function_">removeAllRanges</span>();
                    sel.<span class="hljs-title function_">addRange</span>(range)
                }
            } <span class="hljs-keyword">else</span> {
                input.<span class="hljs-property">selectionStart</span> = start;
                input.<span class="hljs-property">selectionEnd</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(end, input.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>);
                input.<span class="hljs-title function_">focus</span>()
            }
        }
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactInputSelection</span>_1 = <span class="hljs-title class_">ReactInputSelection</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-390">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-390">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-391">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-391">&#x00a7;</a>
              </div>
              <p><code>mixInto</code>
提供对象<code>methodBag</code>,拓展<code>constructor</code>的原型链</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> mixInto = <span class="hljs-keyword">function</span> (<span class="hljs-params">constructor, methodBag</span>) {
    <span class="hljs-keyword">var</span> methodName;
    <span class="hljs-keyword">for</span> (methodName <span class="hljs-keyword">in</span> methodBag) {
        <span class="hljs-keyword">if</span> (!methodBag.<span class="hljs-title function_">hasOwnProperty</span>(methodName)) {
            <span class="hljs-keyword">continue</span>
        }
        constructor.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>[methodName] = methodBag[methodName]
    }
};
<span class="hljs-keyword">var</span> mixInto_1 = mixInto;</pre></div></div>
            
        </li>
        
        
        <li id="section-392">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-392">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-393">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-393">&#x00a7;</a>
              </div>
              <p><code>ReactOnDOMReady</code>
<code>ReactOnDOMReady</code>的构造函数，提供<code>_queue</code>的初始值<code>initialCollection</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">ReactOnDOMReady</span>(<span class="hljs-params">initialCollection</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_queue</span> = initialCollection || <span class="hljs-literal">null</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-394">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-394">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-395">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-395">&#x00a7;</a>
              </div>
              <p><code>mixInto_1(ReactOnDOMReady</code>
合并方法到<code>ReactOnDOMReady</code>的原型链</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactOn</span>DOMReady, {</pre></div></div>
            
        </li>
        
        
        <li id="section-396">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-396">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-397">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-397">&#x00a7;</a>
              </div>
              <p><code>enqueue</code>
给实例属性<code>_queue</code>添加元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">enqueue</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">component, callback</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_queue</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_queue</span> || [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_queue</span>.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">component</span>: component,
            <span class="hljs-attr">callback</span>: callback
        })
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-398">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-398">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-399">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-399">&#x00a7;</a>
              </div>
              <p><code>notifyAll</code>
依次循环<code>_queue</code>属性，并调用<code>_queue</code>属性中的<code>callback</code>回调函数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">notifyAll</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">var</span> queue = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_queue</span>;
        <span class="hljs-keyword">if</span> (queue) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_queue</span> = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = queue.<span class="hljs-property">length</span>; i &lt; l; i++) {
                <span class="hljs-keyword">var</span> component = queue[i].<span class="hljs-property">component</span>;
                <span class="hljs-keyword">var</span> callback = queue[i].<span class="hljs-property">callback</span>;
                callback.<span class="hljs-title function_">call</span>(component, component.<span class="hljs-title function_">getDOMNode</span>())
            }
            queue.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-400">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-400">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-401">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-401">&#x00a7;</a>
              </div>
              <p><code>reset</code>
重新清空<code>_queue</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">reset</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_queue</span> = <span class="hljs-literal">null</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-402">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-402">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-403">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-403">&#x00a7;</a>
              </div>
              <p><code>destructor</code>
重新清空<code>_queue</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">destructor</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reset</span>()
    }
});</pre></div></div>
            
        </li>
        
        
        <li id="section-404">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-404">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-405">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-405">&#x00a7;</a>
              </div>
              <p><code>PooledClass_1.addPoolingTo(ReactOnDOMReady);</code>
给<code>ReactOnDOMReady</code>添加<code>instancePool</code>、<code>getPooled</code>、<code>poolSize</code>、<code>release</code>等静态方法</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-title class_">PooledClass</span>_1.<span class="hljs-title function_">addPoolingTo</span>(<span class="hljs-title class_">ReactOn</span>DOMReady);
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactOn</span>DOMReady_1 = <span class="hljs-title class_">ReactOn</span>DOMReady;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">DUAL_TRANSACTION</span> = <span class="hljs-string">&#x27;DUAL_TRANSACTION&#x27;</span>;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">MISSING_TRANSACTION</span> = <span class="hljs-string">&#x27;MISSING_TRANSACTION&#x27;</span>;
<span class="hljs-keyword">if</span> (__DEV__) {</pre></div></div>
            
        </li>
        
        
        <li id="section-406">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-406">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-407">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-407">&#x00a7;</a>
              </div>
              <p><code>DUAL_TRANSACTION</code>
二次调用<code>perform</code>的报错信息</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-variable constant_">DUAL_TRANSACTION</span> = <span class="hljs-string">&#x27;Cannot initialize transaction when there is already an outstanding transaction. Common causes of this are trying to render a component when you are already rendering a component or attempting a state transition while in a render function. Another possibility is that you are rendering new content (or state transitioning) in a componentDidRender callback. If this is not the case, please report the issue immediately.&#x27;</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-408">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-408">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-409">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-409">&#x00a7;</a>
              </div>
              <p><code>MISSING_TRANSACTION</code>
二次调用<code>closeAll</code>的报错信息</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-variable constant_">MISSING_TRANSACTION</span> = <span class="hljs-string">&#x27;Cannot close transaction when there is none open.&#x27;</span>
}
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Mixin</span>$<span class="hljs-number">1</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-410">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-410">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-411">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-411">&#x00a7;</a>
              </div>
              <p><code>reinitializeTransaction</code>
用来初始化<code>perform</code>和<code>initializeAll</code>的一些时间统计属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">reinitializeTransaction</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">transactionWrappers</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getTransactionWrappers</span>();
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapperInitData</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapperInitData</span> = []
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapperInitData</span>.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span> = {}
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span>.<span class="hljs-property">methodInvocationTime</span> = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span>.<span class="hljs-property">wrapperInitTimes</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span>.<span class="hljs-property">wrapperInitTimes</span> = []
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span>.<span class="hljs-property">wrapperInitTimes</span>.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span>.<span class="hljs-property">wrapperCloseTimes</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span>.<span class="hljs-property">wrapperCloseTimes</span> = []
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span>.<span class="hljs-property">wrapperCloseTimes</span>.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_isInTransaction</span> = <span class="hljs-literal">false</span>
    },
    <span class="hljs-attr">_isInTransaction</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">getTransactionWrappers</span>: <span class="hljs-literal">null</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-412">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-412">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-413">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-413">&#x00a7;</a>
              </div>
              <p><code>isInTransaction</code>
判断<code>perform</code>方法是否在执行中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">isInTransaction</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> !!<span class="hljs-variable language_">this</span>.<span class="hljs-property">_isInTransaction</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-414">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-414">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-415">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-415">&#x00a7;</a>
              </div>
              <p><code>perform</code>
调用<code>perform</code>方法，并执行<code>method</code>方法</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">perform</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">method, scope, a, b, c, d, e, f</span>) {
        <span class="hljs-title function_">throwIf_1</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isInTransaction</span>(), <span class="hljs-variable constant_">DUAL_TRANSACTION</span>);
        <span class="hljs-keyword">var</span> memberStart = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
        <span class="hljs-keyword">var</span> err = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> ret;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initializeAll</span>();
            ret = method.<span class="hljs-title function_">call</span>(scope, a, b, c, d, e, f)
        } <span class="hljs-keyword">catch</span> (ie_requires_catch) {
            err = ie_requires_catch
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">var</span> memberEnd = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">methodInvocationTime</span> += (memberEnd - memberStart);
            <span class="hljs-keyword">try</span> {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">closeAll</span>()
            } <span class="hljs-keyword">catch</span> (closeAllErr) {
                err = err || closeAllErr
            }
        }
        <span class="hljs-keyword">if</span> (err) {
            <span class="hljs-keyword">throw</span> err;
        }
        <span class="hljs-keyword">return</span> ret
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-416">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-416">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-417">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-417">&#x00a7;</a>
              </div>
              <p><code>initializeAll</code>
<code>perform</code>方法调用前的准备函数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">initializeAll</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_isInTransaction</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> transactionWrappers = <span class="hljs-variable language_">this</span>.<span class="hljs-property">transactionWrappers</span>;
        <span class="hljs-keyword">var</span> wrapperInitTimes = <span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span>.<span class="hljs-property">wrapperInitTimes</span>;
        <span class="hljs-keyword">var</span> err = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; transactionWrappers.<span class="hljs-property">length</span>; i++) {
            <span class="hljs-keyword">var</span> initStart = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
            <span class="hljs-keyword">var</span> wrapper = transactionWrappers[i];
            <span class="hljs-keyword">try</span> {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapperInitData</span>[i] = wrapper.<span class="hljs-property">initialize</span> ? wrapper.<span class="hljs-property">initialize</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>) : <span class="hljs-literal">null</span>
            } <span class="hljs-keyword">catch</span> (initErr) {
                err = err || initErr;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapperInitData</span>[i] = <span class="hljs-title class_">Transaction</span>.<span class="hljs-property">OBSERVED_ERROR</span>
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-keyword">var</span> curInitTime = wrapperInitTimes[i];
                <span class="hljs-keyword">var</span> initEnd = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
                wrapperInitTimes[i] = (curInitTime || <span class="hljs-number">0</span>) + (initEnd - initStart)
            }
        }
        <span class="hljs-keyword">if</span> (err) {
            <span class="hljs-keyword">throw</span> err;
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-418">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-418">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-419">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-419">&#x00a7;</a>
              </div>
              <p><code>closeAll</code>
<code>perform</code>调用完毕后，相应的属性还原</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">closeAll</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-title function_">throwIf_1</span>(!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isInTransaction</span>(), <span class="hljs-variable constant_">MISSING_TRANSACTION</span>);
        <span class="hljs-keyword">var</span> transactionWrappers = <span class="hljs-variable language_">this</span>.<span class="hljs-property">transactionWrappers</span>;
        <span class="hljs-keyword">var</span> wrapperCloseTimes = <span class="hljs-variable language_">this</span>.<span class="hljs-property">timingMetrics</span>.<span class="hljs-property">wrapperCloseTimes</span>;
        <span class="hljs-keyword">var</span> err = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; transactionWrappers.<span class="hljs-property">length</span>; i++) {
            <span class="hljs-keyword">var</span> wrapper = transactionWrappers[i];
            <span class="hljs-keyword">var</span> closeStart = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
            <span class="hljs-keyword">var</span> initData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapperInitData</span>[i];
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (initData !== <span class="hljs-title class_">Transaction</span>.<span class="hljs-property">OBSERVED_ERROR</span>) {
                    wrapper.<span class="hljs-property">close</span> &amp;&amp; wrapper.<span class="hljs-property">close</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, initData)
                }
            } <span class="hljs-keyword">catch</span> (closeErr) {
                err = err || closeErr
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-keyword">var</span> closeEnd = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
                <span class="hljs-keyword">var</span> curCloseTime = wrapperCloseTimes[i];
                wrapperCloseTimes[i] = (curCloseTime || <span class="hljs-number">0</span>) + (closeEnd - closeStart)
            }
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapperInitData</span>.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_isInTransaction</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (err) {
            <span class="hljs-keyword">throw</span> err;
        }
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-420">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-420">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-421">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-421">&#x00a7;</a>
              </div>
              <p><code>Transaction</code>
<code>Mixin</code>属性是<code>perform</code>等方法混入的对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">Transaction</span> = {
    <span class="hljs-title class_">Mixin</span>: <span class="hljs-title class_">Mixin</span>$<span class="hljs-number">1</span>,
    <span class="hljs-attr">OBSERVED_ERROR</span>: {}
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Transaction</span>_1 = <span class="hljs-title class_">Transaction</span>;


<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">SELECTION_RESTORATION</span> = {
    <span class="hljs-attr">initialize</span>: <span class="hljs-title class_">ReactInputSelection</span>_1.<span class="hljs-property">getSelectionInformation</span>,<span class="hljs-comment">// 获取当前激活元素的选择区域</span>
    <span class="hljs-attr">close</span>: <span class="hljs-title class_">ReactInputSelection</span>_1.<span class="hljs-property">restoreSelection</span><span class="hljs-comment">// 退回选择</span>
};</pre></div></div>
            
        </li>
        
        
        <li id="section-422">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-422">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-423">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-423">&#x00a7;</a>
              </div>
              <p><code>EVENT_SUPPRESSION</code>
用来操作事件的停止和启动</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">EVENT_SUPPRESSION</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-424">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-424">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-425">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-425">&#x00a7;</a>
              </div>
              <p><code>initialize</code>
执行的时候，停用事件触发</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">initialize</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">var</span> currentlyEnabled = <span class="hljs-title class_">ReactEvent</span>_1.<span class="hljs-title function_">isEnabled</span>();
        <span class="hljs-title class_">ReactEvent</span>_1.<span class="hljs-title function_">setEnabled</span>(<span class="hljs-literal">false</span>);
        <span class="hljs-keyword">return</span> currentlyEnabled
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-426">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-426">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-427">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-427">&#x00a7;</a>
              </div>
              <p><code>close</code>
执行完毕的时候，恢复事件触发</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">close</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">previouslyEnabled</span>) {
        <span class="hljs-title class_">ReactEvent</span>_1.<span class="hljs-title function_">setEnabled</span>(previouslyEnabled)
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-428">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-428">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-429">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-429">&#x00a7;</a>
              </div>
              <p><code>ON_DOM_READY_QUEUEING</code>
用于操作<code>reactOnDOMReady</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">ON_DOM_READY_QUEUEING</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-430">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-430">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-431">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-431">&#x00a7;</a>
              </div>
              <p><code>initialize</code>
重新清空<code>reactOnDOMReady</code>属性的<code>_queue</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">initialize</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">reactOnDOMReady</span>.<span class="hljs-title function_">reset</span>()
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-432">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-432">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-433">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-433">&#x00a7;</a>
              </div>
              <p><code>close</code>
依次循环<code>_queue</code>属性，并调用<code>_queue</code>属性中的<code>callback</code>回调函数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">close</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">reactOnDOMReady</span>.<span class="hljs-title function_">notifyAll</span>()
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-434">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-434">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-435">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-435">&#x00a7;</a>
              </div>
              <p><code>TRANSACTION_WRAPPERS</code>
添加三个元素，都含有<code>initialize</code>、<code>close</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">TRANSACTION_WRAPPERS</span> = [<span class="hljs-variable constant_">SELECTION_RESTORATION</span>, <span class="hljs-variable constant_">EVENT_SUPPRESSION</span>, <span class="hljs-variable constant_">ON_DOM_READY_QUEUEING</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-436">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-436">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-437">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-437">&#x00a7;</a>
              </div>
              <p><code>ReactReconcileTransaction</code>
<code>ReactReconcileTransaction</code>的构造函数，用于插入dom的执行函数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">ReactReconcileTransaction</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reinitializeTransaction</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">reactOnDOMReady</span> = <span class="hljs-title class_">ReactOn</span>DOMReady_1.<span class="hljs-title function_">getPooled</span>(<span class="hljs-literal">null</span>)<span class="hljs-comment">// 实例化`reactOnDOMReady`属性</span>
}
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Mixin</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-438">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-438">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-439">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-439">&#x00a7;</a>
              </div>
              <p><code>getTransactionWrappers</code>
获取<code>wrappers</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">getTransactionWrappers</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">canUseDOM</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">TRANSACTION_WRAPPERS</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> []
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-440">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-440">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-441">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-441">&#x00a7;</a>
              </div>
              <p><code>getReactOnDOMReady</code>
获取对象的<code>reactOnDOMReady</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">getReactOnDOMReady</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">reactOnDOMReady</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-442">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-442">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-443">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-443">&#x00a7;</a>
              </div>
              <p><code>destructor</code>
释放<code>reactOnDOMReady</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">destructor</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-title class_">ReactOn</span>DOMReady_1.<span class="hljs-title function_">release</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">reactOnDOMReady</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">reactOnDOMReady</span> = <span class="hljs-literal">null</span>
    }
};
<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactReconcileTransaction</span>, <span class="hljs-title class_">Transaction</span>_1.<span class="hljs-property">Mixin</span>);<span class="hljs-comment">// 拓展ReactReconcileTransaction，使它含有perform、closeAll等方法</span>

<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactReconcileTransaction</span>, <span class="hljs-title class_">Mixin</span>);<span class="hljs-comment">// 拓展ReactReconcileTransaction，添加getTransactionWrappers、getReactOnDOMReady、destructor等方法</span>

<span class="hljs-title class_">PooledClass</span>_1.<span class="hljs-title function_">addPoolingTo</span>(<span class="hljs-title class_">ReactReconcileTransaction</span>);<span class="hljs-comment">// 添加instancePool、getPooled、poolSize、release等静态属性</span>
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactReconcileTransaction</span>_1 = <span class="hljs-title class_">ReactReconcileTransaction</span>;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">OWNER</span> = <span class="hljs-string">&#x27;{owner}&#x27;</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-444">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-444">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-445">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-445">&#x00a7;</a>
              </div>
              <p><code>ComponentLifeCycle</code>
生命周期的两个属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ComponentLifeCycle</span> = <span class="hljs-title function_">keyMirror_1</span>({
    <span class="hljs-attr">MOUNTED</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">UNMOUNTED</span>: <span class="hljs-literal">null</span>
});</pre></div></div>
            
        </li>
        
        
        <li id="section-446">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-446">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-447">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-447">&#x00a7;</a>
              </div>
              <p><code>ReactComponent</code>
关于Rt组件的类</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactComponent</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-448">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-448">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-449">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-449">&#x00a7;</a>
              </div>
              <p><code>isValidComponent</code>
判断是否是标准的<code>Component</code>，主要是判断是否含有<code>mountComponentIntoNode</code>属性和<code>receiveProps</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">isValidComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">object</span>) {
        <span class="hljs-keyword">return</span> !!(object &amp;&amp; <span class="hljs-keyword">typeof</span> object.<span class="hljs-property">mountComponentIntoNode</span> === <span class="hljs-string">&#x27;function&#x27;</span> &amp;&amp; <span class="hljs-keyword">typeof</span> object.<span class="hljs-property">receiveProps</span> === <span class="hljs-string">&#x27;function&#x27;</span>)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-450">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-450">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-451">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-451">&#x00a7;</a>
              </div>
              <p><code>LifeCycle</code>
包含<code>MOUNTED</code>和<code>UNMOUNTED</code>两个属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-title class_">LifeCycle</span>: <span class="hljs-title class_">ComponentLifeCycle</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-452">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-452">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-453">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-453">&#x00a7;</a>
              </div>
              <p><code>DOMIDOperations</code>
针对dom元素的id来操作dom元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-title class_">DOMIDOperations</span>: <span class="hljs-title class_">React</span>DOMIDOperations_1,</pre></div></div>
            
        </li>
        
        
        <li id="section-454">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-454">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-455">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-455">&#x00a7;</a>
              </div>
              <p><code>ReactReconcileTransaction</code>
<code>ReactReconcileTransaction</code>的构造函数，用于插入dom的执行函数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-title class_">ReactReconcileTransaction</span>: <span class="hljs-title class_">ReactReconcileTransaction</span>_1,</pre></div></div>
            
        </li>
        
        
        <li id="section-456">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-456">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-457">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-457">&#x00a7;</a>
              </div>
              <p><code>setDOMOperations</code>
重新设置组件的<code>DOMIDOperations</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">setDOMOperations</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">DOMIDOperations</span>) {
        <span class="hljs-title class_">ReactComponent</span>.<span class="hljs-property">DOMIDOperations</span> = <span class="hljs-title class_">DOMIDOperations</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-458">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-458">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-459">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-459">&#x00a7;</a>
              </div>
              <p><code>setReactReconcileTransaction</code>
重新设置组件的<code>ReactReconcileTransaction</code>属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">setReactReconcileTransaction</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ReactReconcileTransaction</span>) {
        <span class="hljs-title class_">ReactComponent</span>.<span class="hljs-property">ReactReconcileTransaction</span> = <span class="hljs-title class_">ReactReconcileTransaction</span>
    },
    <span class="hljs-title class_">Mixin</span>: {</pre></div></div>
            
        </li>
        
        
        <li id="section-460">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-460">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-461">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-461">&#x00a7;</a>
              </div>
              <p><code>getDOMNode</code>
获取当前组件对应的渲染dom元素</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">getDOMNode</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
            <span class="hljs-title function_">invariant_1</span>(<span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">canUseDOM</span>, <span class="hljs-string">&#x27;getDOMNode(): The DOM is not supported in the current environment.&#x27;</span>);
            <span class="hljs-title function_">invariant_1</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_lifeCycleState</span> === <span class="hljs-title class_">ComponentLifeCycle</span>.<span class="hljs-property">MOUNTED</span>, <span class="hljs-string">&#x27;getDOMNode(): A component must be mounted to have a DOM node.&#x27;</span>);
            <span class="hljs-keyword">var</span> rootNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNode</span>;
            <span class="hljs-keyword">if</span> (!rootNode) {
                rootNode = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>);
                <span class="hljs-keyword">if</span> (!rootNode) {
                    rootNode = <span class="hljs-title class_">ReactMount</span>_1.<span class="hljs-title function_">findReactRenderedDOMNodeSlow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>)
                }
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNode</span> = rootNode
            }
            <span class="hljs-keyword">return</span> rootNode
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-462">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-462">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-463">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-463">&#x00a7;</a>
              </div>
              <p><code>setProps</code>
合并props，并重新渲染</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">setProps</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">partialProps</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">replaceProps</span>(<span class="hljs-title function_">merge_1</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>, partialProps))
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-464">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-464">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-465">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-465">&#x00a7;</a>
              </div>
              <p><code>replaceProps</code>
接收<code>props</code>，并重新渲染组件</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">replaceProps</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">props</span>) {
            <span class="hljs-title function_">invariant_1</span>(!<span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>[<span class="hljs-variable constant_">OWNER</span>], <span class="hljs-string">&#x27;replaceProps(...): You called `setProps` or `replaceProps` on a component with an owner. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner\&#x27;s `render` method to pass the correct value as props to the component where it is created.&#x27;</span>);
            <span class="hljs-keyword">var</span> transaction = <span class="hljs-title class_">ReactComponent</span>.<span class="hljs-property">ReactReconcileTransaction</span>.<span class="hljs-title function_">getPooled</span>();
            transaction.<span class="hljs-title function_">perform</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">receiveProps</span>, <span class="hljs-variable language_">this</span>, props, transaction);
            <span class="hljs-title class_">ReactComponent</span>.<span class="hljs-property">ReactReconcileTransaction</span>.<span class="hljs-title function_">release</span>(transaction)
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-466">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-466">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-467">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-467">&#x00a7;</a>
              </div>
              <p><code>construct</code>
初始化组件，相当于构造函数，生成<code>props</code>、<code>_lifeCycleState</code>、<code>props.children</code>、<code>props[OWNER]</code>等属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">construct</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">initialProps, children</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span> = initialProps || {};
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> children !== <span class="hljs-string">&#x27;undefined&#x27;</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">children</span> = children
            }
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>[<span class="hljs-variable constant_">OWNER</span>] = <span class="hljs-title class_">ReactCurrentOwner</span>_1.<span class="hljs-property">current</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_lifeCycleState</span> = <span class="hljs-title class_">ComponentLifeCycle</span>.<span class="hljs-property">UNMOUNTED</span>
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-468">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-468">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-469">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-469">&#x00a7;</a>
              </div>
              <p><code>mountComponent</code>
给<code>props[OWNER]</code>添加key为<code>props.ref</code>，value为<code>this</code>的ref</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">mountComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">rootID, transaction</span>) {
            <span class="hljs-title function_">invariant_1</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_lifeCycleState</span> === <span class="hljs-title class_">ComponentLifeCycle</span>.<span class="hljs-property">UNMOUNTED</span>, <span class="hljs-string">&#x27;mountComponent(%s, ...): Can only mount an unmounted component.&#x27;</span>, rootID);
            <span class="hljs-keyword">var</span> props = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>;
            <span class="hljs-keyword">if</span> (props.<span class="hljs-property">ref</span> != <span class="hljs-literal">null</span>) {
                <span class="hljs-title class_">ReactOwner</span>_1.<span class="hljs-title function_">addComponentAsRefTo</span>(<span class="hljs-variable language_">this</span>, props.<span class="hljs-property">ref</span>, props[<span class="hljs-variable constant_">OWNER</span>])
            }
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span> = rootID;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_lifeCycleState</span> = <span class="hljs-title class_">ComponentLifeCycle</span>.<span class="hljs-property">MOUNTED</span>
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-470">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-470">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-471">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-471">&#x00a7;</a>
              </div>
              <p><code>unmountComponent</code>
重置ref的相关属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">unmountComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
            <span class="hljs-title function_">invariant_1</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_lifeCycleState</span> === <span class="hljs-title class_">ComponentLifeCycle</span>.<span class="hljs-property">MOUNTED</span>, <span class="hljs-string">&#x27;unmountComponent(): Can only unmount a mounted component.&#x27;</span>);
            <span class="hljs-keyword">var</span> props = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>;
            <span class="hljs-keyword">if</span> (props.<span class="hljs-property">ref</span> != <span class="hljs-literal">null</span>) {
                <span class="hljs-title class_">ReactOwner</span>_1.<span class="hljs-title function_">removeComponentAsRefFrom</span>(<span class="hljs-variable language_">this</span>, props.<span class="hljs-property">ref</span>, props[<span class="hljs-variable constant_">OWNER</span>])
            }
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNode</span> = <span class="hljs-literal">null</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span> = <span class="hljs-literal">null</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_lifeCycleState</span> = <span class="hljs-title class_">ComponentLifeCycle</span>.<span class="hljs-property">UNMOUNTED</span>
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-472">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-472">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-473">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-473">&#x00a7;</a>
              </div>
              <p><code>receiveProps</code>
移除<code>nextProps</code>和<code>props</code>的<code>ref</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">receiveProps</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nextProps, transaction</span>) {
            <span class="hljs-title function_">invariant_1</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_lifeCycleState</span> === <span class="hljs-title class_">ComponentLifeCycle</span>.<span class="hljs-property">MOUNTED</span>, <span class="hljs-string">&#x27;receiveProps(...): Can only update a mounted component.&#x27;</span>);
            <span class="hljs-keyword">var</span> props = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>;
            <span class="hljs-keyword">if</span> (nextProps[<span class="hljs-variable constant_">OWNER</span>] !== props[<span class="hljs-variable constant_">OWNER</span>] || nextProps.<span class="hljs-property">ref</span> !== props.<span class="hljs-property">ref</span>) {
                <span class="hljs-keyword">if</span> (props.<span class="hljs-property">ref</span> != <span class="hljs-literal">null</span>) {
                    <span class="hljs-title class_">ReactOwner</span>_1.<span class="hljs-title function_">removeComponentAsRefFrom</span>(<span class="hljs-variable language_">this</span>, props.<span class="hljs-property">ref</span>, props[<span class="hljs-variable constant_">OWNER</span>])
                }
                <span class="hljs-keyword">if</span> (nextProps.<span class="hljs-property">ref</span> != <span class="hljs-literal">null</span>) {
                    <span class="hljs-title class_">ReactOwner</span>_1.<span class="hljs-title function_">addComponentAsRefTo</span>(<span class="hljs-variable language_">this</span>, nextProps.<span class="hljs-property">ref</span>, nextProps[<span class="hljs-variable constant_">OWNER</span>])
                }
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-474">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-474">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-475">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-475">&#x00a7;</a>
              </div>
              <p><code>mountComponentIntoNode</code>
提供<code>rootID</code>和<code>container</code>，渲染好DOM之后，再释放<code>transaction</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">mountComponentIntoNode</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">rootID, container</span>) {
            <span class="hljs-keyword">var</span> transaction = <span class="hljs-title class_">ReactComponent</span>.<span class="hljs-property">ReactReconcileTransaction</span>.<span class="hljs-title function_">getPooled</span>();
            transaction.<span class="hljs-title function_">perform</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_mountComponentIntoNode</span>, <span class="hljs-variable language_">this</span>, rootID, container, transaction);
            <span class="hljs-title class_">ReactComponent</span>.<span class="hljs-property">ReactReconcileTransaction</span>.<span class="hljs-title function_">release</span>(transaction)
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-476">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-476">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-477">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-477">&#x00a7;</a>
              </div>
              <p><code>_mountComponentIntoNode</code>
提供<code>rootID</code>和<code>container</code>以及<code>transaction</code>，最后生成<code>html</code>文本，并替换掉<code>container</code>的html文本</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">_mountComponentIntoNode</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">rootID, container, transaction</span>) {
            <span class="hljs-keyword">var</span> renderStart = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
            <span class="hljs-keyword">var</span> markup = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">mountComponent</span>(rootID, transaction);
            <span class="hljs-title class_">ReactMount</span>_1.<span class="hljs-property">totalInstantiationTime</span> += (<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - renderStart);
            <span class="hljs-keyword">var</span> injectionStart = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
            <span class="hljs-keyword">var</span> parent = container.<span class="hljs-property">parentNode</span>;
            <span class="hljs-keyword">if</span> (parent) {
                <span class="hljs-keyword">var</span> next = container.<span class="hljs-property">nextSibling</span>;
                parent.<span class="hljs-title function_">removeChild</span>(container);
                container.<span class="hljs-property">innerHTML</span> = markup;
                <span class="hljs-keyword">if</span> (next) {
                    parent.<span class="hljs-title function_">insertBefore</span>(container, next)
                } <span class="hljs-keyword">else</span> {
                    parent.<span class="hljs-title function_">appendChild</span>(container)
                }
            } <span class="hljs-keyword">else</span> {
                container.<span class="hljs-property">innerHTML</span> = markup
            }
            <span class="hljs-title class_">ReactMount</span>_1.<span class="hljs-property">totalInjectionTime</span> += (<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - injectionStart)
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-478">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-478">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-479">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-479">&#x00a7;</a>
              </div>
              <p><code>unmountComponentFromNode</code>
释放掉渲染的资源</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">unmountComponentFromNode</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">container</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">unmountComponent</span>();
            <span class="hljs-keyword">while</span> (container.<span class="hljs-property">lastChild</span>) {
                container.<span class="hljs-title function_">removeChild</span>(container.<span class="hljs-property">lastChild</span>)
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-480">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-480">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-481">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-481">&#x00a7;</a>
              </div>
              <p><code>isOwnedBy</code>
判断<code>owner</code>是否为当前<code>props</code>的owner</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">isOwnedBy</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">owner</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>[<span class="hljs-variable constant_">OWNER</span>] === owner
        }
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-482">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-482">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-483">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-483">&#x00a7;</a>
              </div>
              <p><code>logDeprecated</code>
控制台打印警告提示<code>msg</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">logDeprecated</span>(<span class="hljs-params">msg</span>) {
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(msg);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">console</span> &amp;&amp; <span class="hljs-variable language_">console</span>.<span class="hljs-property">warn</span> &amp;&amp; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(msg)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-484">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-484">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-485">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-485">&#x00a7;</a>
              </div>
              <p><code>ReactComponent.Mixin.update</code>
废弃的方法，用<code>setProps</code>代替</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-title class_">ReactComponent</span>.<span class="hljs-property">Mixin</span>.<span class="hljs-property">update</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">props</span>) {
    <span class="hljs-title function_">logDeprecated</span>(<span class="hljs-string">&#x27;this.update() is deprecated. Use this.setProps()&#x27;</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setProps</span>(props)
};</pre></div></div>
            
        </li>
        
        
        <li id="section-486">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-486">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-487">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-487">&#x00a7;</a>
              </div>
              <p><code>ReactComponent.Mixin.updateAll</code>
废弃的方法，用<code>replaceProps</code>代替</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-title class_">ReactComponent</span>.<span class="hljs-property">Mixin</span>.<span class="hljs-property">updateAll</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">props</span>) {
    <span class="hljs-title function_">logDeprecated</span>(<span class="hljs-string">&#x27;this.updateAll() is deprecated. Use this.replaceProps()&#x27;</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">replaceProps</span>(props)
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactComponent</span>_1 = <span class="hljs-title class_">ReactComponent</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-488">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-488">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-489">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-489">&#x00a7;</a>
              </div>
              <p><code>copyProperties</code>
把<code>a</code>、<code>b</code>、<code>c</code>、<code>d</code>、<code>e</code>合并到<code>obj</code>对象中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">copyProperties</span>(<span class="hljs-params">obj, a, b, c, d, e, f</span>) {
    obj = obj || {};
    <span class="hljs-keyword">if</span> (__DEV__) {
        <span class="hljs-keyword">if</span> (f) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Too many arguments passed to copyProperties&#x27;</span>);
        }
    }
    <span class="hljs-keyword">var</span> args = [a, b, c, d, e];
    <span class="hljs-keyword">var</span> ii = <span class="hljs-number">0</span>,
        v;
    <span class="hljs-keyword">while</span> (args[ii]) {
        v = args[ii++];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> v) {
            obj[k] = v[k]
        }
        <span class="hljs-keyword">if</span> (v &amp;&amp; v.<span class="hljs-property">hasOwnProperty</span> &amp;&amp; v.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">&#x27;toString&#x27;</span>) &amp;&amp; (<span class="hljs-keyword">typeof</span> v.<span class="hljs-property">toString</span> != <span class="hljs-string">&#x27;undefined&#x27;</span>) &amp;&amp; (obj.<span class="hljs-property">toString</span> !== v.<span class="hljs-property">toString</span>)) {
            obj.<span class="hljs-property">toString</span> = v.<span class="hljs-property">toString</span>
        }
    }
    <span class="hljs-keyword">return</span> obj
}
<span class="hljs-keyword">var</span> copyProperties_1 = copyProperties;</pre></div></div>
            
        </li>
        
        
        <li id="section-490">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-490">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-491">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-491">&#x00a7;</a>
              </div>
              <p><code>makeEmptyFunction</code>
用来创建返回参数的函数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">makeEmptyFunction</span>(<span class="hljs-params">arg</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> arg
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-492">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-492">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-493">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-493">&#x00a7;</a>
              </div>
              <p><code>emptyFunction</code>
创建<code>emptyFunction</code>函数，并循环赋值不同属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">emptyFunction</span>(<span class="hljs-params"></span>) {}
<span class="hljs-title function_">copyProperties_1</span>(emptyFunction, {
    <span class="hljs-attr">thatReturns</span>: makeEmptyFunction,
    <span class="hljs-attr">thatReturnsFalse</span>: <span class="hljs-title function_">makeEmptyFunction</span>(<span class="hljs-literal">false</span>),<span class="hljs-comment">// 返回 false</span>
    <span class="hljs-attr">thatReturnsTrue</span>: <span class="hljs-title function_">makeEmptyFunction</span>(<span class="hljs-literal">true</span>),<span class="hljs-comment">// 返回 true</span>
    <span class="hljs-attr">thatReturnsNull</span>: <span class="hljs-title function_">makeEmptyFunction</span>(<span class="hljs-literal">null</span>),<span class="hljs-comment">// 返回 null</span>
    <span class="hljs-attr">thatReturnsThis</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) { <span class="hljs-comment">// 返回 this</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>
    },
    <span class="hljs-attr">thatReturnsArgument</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">arg</span>) {<span class="hljs-comment">// 返回 arg</span>
        <span class="hljs-keyword">return</span> arg
    },
    <span class="hljs-attr">mustImplement</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">module</span>, property</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
            <span class="hljs-keyword">if</span> (__DEV__) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-variable language_">module</span> + <span class="hljs-string">&#x27;.&#x27;</span> + property + <span class="hljs-string">&#x27; must be implemented!&#x27;</span>);
            }
        }
    }
});
<span class="hljs-keyword">var</span> emptyFunction_1 = emptyFunction;</pre></div></div>
            
        </li>
        
        
        <li id="section-494">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-494">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-495">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-495">&#x00a7;</a>
              </div>
              <p><code>joinClasses</code>
传入多个参数，并用空格连起来</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">joinClasses</span>(<span class="hljs-params">className</span>) {
    <span class="hljs-keyword">if</span> (!className) {
        className = <span class="hljs-string">&#x27;&#x27;</span>
    }
    <span class="hljs-keyword">var</span> nextClass;
    <span class="hljs-keyword">var</span> argLength = <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">if</span> (argLength &gt; <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> ii = <span class="hljs-number">1</span>; ii &lt; argLength; ii++) {
            nextClass = <span class="hljs-variable language_">arguments</span>[ii];
            nextClass &amp;&amp; (className += <span class="hljs-string">&#x27; &#x27;</span> + nextClass)
        }
    }
    <span class="hljs-keyword">return</span> className
}
<span class="hljs-keyword">var</span> joinClasses_1 = joinClasses;</pre></div></div>
            
        </li>
        
        
        <li id="section-496">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-496">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-497">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-497">&#x00a7;</a>
              </div>
              <p><code>createTransferStrategy</code>
传入回调函数，并为<code>props</code>生成对应的key-value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">createTransferStrategy</span>(<span class="hljs-params">mergeStrategy</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">props, key, value</span>) {
        <span class="hljs-keyword">if</span> (!props.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
            props[key] = value
        } <span class="hljs-keyword">else</span> {
            props[key] = <span class="hljs-title function_">mergeStrategy</span>(props[key], value)
        }
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-498">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-498">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-499">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-499">&#x00a7;</a>
              </div>
              <p><code>TransferStrategies</code>
高阶函数的函数对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">TransferStrategies</span> = {
    <span class="hljs-attr">ref</span>: emptyFunction_1,<span class="hljs-comment">// 创建`emptyFunction`函数，并循环赋值不同属性</span>
    <span class="hljs-attr">className</span>: <span class="hljs-title function_">createTransferStrategy</span>(joinClasses_1),<span class="hljs-comment">// 传入回调函数，并为`props`生成对应的key-value</span>
    <span class="hljs-attr">style</span>: <span class="hljs-title function_">createTransferStrategy</span>(merge_1)<span class="hljs-comment">// 把`one`、`two`合并到`result`，并返回</span>
};

<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactPropTransferer</span> = {
    <span class="hljs-title class_">TransferStrategies</span>: <span class="hljs-title class_">TransferStrategies</span>,
    <span class="hljs-title class_">Mixin</span>: {</pre></div></div>
            
        </li>
        
        
        <li id="section-500">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-500">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-501">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-501">&#x00a7;</a>
              </div>
              <p><code>transferPropsTo</code>
把<code>component</code>的属性整理后重新赋值</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-attr">transferPropsTo</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">component</span>) {
            <span class="hljs-keyword">var</span> props = {};
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> thatKey <span class="hljs-keyword">in</span> component.<span class="hljs-property">props</span>) {
                <span class="hljs-keyword">if</span> (component.<span class="hljs-property">props</span>.<span class="hljs-title function_">hasOwnProperty</span>(thatKey)) {
                    props[thatKey] = component.<span class="hljs-property">props</span>[thatKey]
                }
            }
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> thisKey <span class="hljs-keyword">in</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>) {
                <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">hasOwnProperty</span>(thisKey)) {
                    <span class="hljs-keyword">continue</span>
                }
                <span class="hljs-keyword">var</span> transferStrategy = <span class="hljs-title class_">TransferStrategies</span>[thisKey];
                <span class="hljs-keyword">if</span> (transferStrategy) {
                    <span class="hljs-title function_">transferStrategy</span>(props, thisKey, <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>[thisKey])
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!props.<span class="hljs-title function_">hasOwnProperty</span>(thisKey)) {
                    props[thisKey] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>[thisKey]
                }
            }
            component.<span class="hljs-property">props</span> = props;
            <span class="hljs-keyword">return</span> component
        }
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactPropTransferer</span>_1 = <span class="hljs-title class_">ReactPropTransferer</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-502">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-502">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-503">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-503">&#x00a7;</a>
              </div>
              <p><code>SpecPolicy</code>
<code>DEFINE_ONCE</code>、<code>DEFINE_MANY</code>、<code>OVERRIDE_BASE</code>的属性对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">SpecPolicy</span> = <span class="hljs-title function_">keyMirror_1</span>({
    <span class="hljs-attr">DEFINE_ONCE</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">DEFINE_MANY</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">OVERRIDE_BASE</span>: <span class="hljs-literal">null</span>
});</pre></div></div>
            
        </li>
        
        
        <li id="section-504">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-504">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-505">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-505">&#x00a7;</a>
              </div>
              <p><code>ReactCompositeComponentInterface</code>
用于混入<code>component</code>时的对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactCompositeComponentInterface</span> = {
    <span class="hljs-attr">mixins</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_MANY</span>,
    <span class="hljs-attr">props</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_ONCE</span>,
    <span class="hljs-attr">getInitialState</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_ONCE</span>,
    <span class="hljs-attr">render</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_ONCE</span>,
    <span class="hljs-attr">componentWillMount</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_MANY</span>,
    <span class="hljs-attr">componentDidMount</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_MANY</span>,
    <span class="hljs-attr">componentWillReceiveProps</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_MANY</span>,
    <span class="hljs-attr">shouldComponentUpdate</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_ONCE</span>,
    <span class="hljs-attr">componentWillUpdate</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_MANY</span>,
    <span class="hljs-attr">componentDidUpdate</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_MANY</span>,
    <span class="hljs-attr">componentWillUnmount</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_MANY</span>,
    <span class="hljs-attr">updateComponent</span>: <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">OVERRIDE_BASE</span>
};</pre></div></div>
            
        </li>
        
        
        <li id="section-506">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-506">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-507">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-507">&#x00a7;</a>
              </div>
              <p><code>RESERVED_SPEC_KEYS</code>
二次处理<code>component</code>的方法</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">RESERVED_SPEC_KEYS</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-508">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-508">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-509">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-509">&#x00a7;</a>
              </div>
              <p><code>displayName</code>
<code>displayName</code>处理displayName属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">displayName</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">Constructor, displayName</span>) {
        <span class="hljs-title class_">Constructor</span>.<span class="hljs-property">displayName</span> = displayName
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-510">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-510">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-511">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-511">&#x00a7;</a>
              </div>
              <p><code>mixins</code>
当遇到<code>mixins</code>属性的时候，需要递归</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">mixins</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">Constructor, mixins</span>) {
        <span class="hljs-keyword">if</span> (mixins) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; mixins.<span class="hljs-property">length</span>; i++) {
                <span class="hljs-title function_">mixSpecIntoComponent</span>(<span class="hljs-title class_">Constructor</span>, mixins[i])
            }
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-512">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-512">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-513">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-513">&#x00a7;</a>
              </div>
              <p><code>props</code>
props属性则赋值到<code>propDeclarations</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">props</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">Constructor, props</span>) {
        <span class="hljs-title class_">Constructor</span>.<span class="hljs-property">propDeclarations</span> = props
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-514">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-514">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-515">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-515">&#x00a7;</a>
              </div>
              <p><code>mixSpecIntoComponent</code>
合并<code>spec</code>到<code>Constructor</code>中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">mixSpecIntoComponent</span>(<span class="hljs-params">Constructor, spec</span>) {
    <span class="hljs-keyword">var</span> proto = <span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> spec) {
        <span class="hljs-keyword">if</span> (!spec.<span class="hljs-title function_">hasOwnProperty</span>(name)) {
            <span class="hljs-keyword">continue</span>
        }
        <span class="hljs-keyword">var</span> property = spec[name];
        <span class="hljs-keyword">var</span> specPolicy = <span class="hljs-title class_">ReactCompositeComponentInterface</span>[name];
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">ReactCompositeComponentMixin</span>.<span class="hljs-title function_">hasOwnProperty</span>(name)) {
            <span class="hljs-title function_">invariant_1</span>(specPolicy === <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">OVERRIDE_BASE</span>, <span class="hljs-string">&#x27;ReactCompositeComponentInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.&#x27;</span>, name)
        }
        <span class="hljs-keyword">if</span> (specPolicy != <span class="hljs-literal">null</span>) {
            <span class="hljs-title function_">invariant_1</span>(!property || !property.<span class="hljs-property">__reactAutoBind</span>, <span class="hljs-string">&#x27;ReactCompositeComponentInterface: You are attempting to use `React.autoBind` on `%s`, a method that is internal to React.Internal methods are called with the component as the context.&#x27;</span>, name)
        }
        <span class="hljs-keyword">if</span> (proto.<span class="hljs-title function_">hasOwnProperty</span>(name)) {
            <span class="hljs-title function_">invariant_1</span>(specPolicy === <span class="hljs-title class_">SpecPolicy</span>.<span class="hljs-property">DEFINE_MANY</span>, <span class="hljs-string">&#x27;ReactCompositeComponentInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.&#x27;</span>, name)
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">RESERVED_SPEC_KEYS</span>.<span class="hljs-title function_">hasOwnProperty</span>(name)) {
            <span class="hljs-variable constant_">RESERVED_SPEC_KEYS</span>[name](<span class="hljs-title class_">Constructor</span>, property)
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (property &amp;&amp; property.<span class="hljs-property">__reactAutoBind</span>) {
            <span class="hljs-keyword">if</span> (!proto.<span class="hljs-property">__reactAutoBindMap</span>) {
                proto.<span class="hljs-property">__reactAutoBindMap</span> = {}
            }
            proto.<span class="hljs-property">__reactAutoBindMap</span>[name] = property.<span class="hljs-property">__reactAutoBind</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (proto.<span class="hljs-title function_">hasOwnProperty</span>(name)) {
            proto[name] = <span class="hljs-title function_">createChainedFunction</span>(proto[name], property)
        } <span class="hljs-keyword">else</span> {
            proto[name] = property
        }
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-516">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-516">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-517">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-517">&#x00a7;</a>
              </div>
              <p><code>createChainedFunction</code>
把<code>one</code>、<code>two</code>集中到一个函数处理</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">createChainedFunction</span>(<span class="hljs-params">one, two</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">chainedFunction</span>(<span class="hljs-params">a, b, c, d, e, tooMany</span>) {
        <span class="hljs-title function_">invariant_1</span>(<span class="hljs-keyword">typeof</span> tooMany === <span class="hljs-string">&#x27;undefined&#x27;</span>, <span class="hljs-string">&#x27;Chained function can only take a maximum of 5 arguments.&#x27;</span>);
        one.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, a, b, c, d, e);
        two.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, a, b, c, d, e)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-518">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-518">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-519">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-519">&#x00a7;</a>
              </div>
              <p><code>CompositeLifeCycle</code>
正在构建时的状态对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">CompositeLifeCycle</span> = <span class="hljs-title function_">keyMirror_1</span>({
    <span class="hljs-attr">MOUNTING</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">UNMOUNTING</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">RECEIVING_PROPS</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">RECEIVING_STATE</span>: <span class="hljs-literal">null</span>
});</pre></div></div>
            
        </li>
        
        
        <li id="section-520">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-520">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-521">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-521">&#x00a7;</a>
              </div>
              <p><code>ReactCompositeComponentMixin</code>
Rt的<code>createClass</code>创建对象的一个混入类</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactCompositeComponentMixin</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-522">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-522">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-523">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-523">&#x00a7;</a>
              </div>
              <p><code>construct</code>
初始化函数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">construct</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">initialProps, children</span>) {
        <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>.<span class="hljs-property">construct</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, initialProps, children);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span> = <span class="hljs-literal">null</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-524">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-524">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-525">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-525">&#x00a7;</a>
              </div>
              <p><code>mountComponent</code>
把rootID对应的子元素的rt组件实例化之后，再进行mount</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">mountComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">rootID, transaction</span>) {
        <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>.<span class="hljs-property">mountComponent</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, rootID, transaction);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_lifeCycleState</span> = <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">LifeCycle</span>.<span class="hljs-property">UNMOUNTED</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span> = <span class="hljs-title class_">CompositeLifeCycle</span>.<span class="hljs-property">MOUNTING</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">propDeclarations</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_assertValidProps</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>)
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">__reactAutoBindMap</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_bindAutoBindMethods</span>()
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">getInitialState</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getInitialState</span>() : <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">componentWillMount</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">componentWillMount</span>();
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span>;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span> = <span class="hljs-literal">null</span>
            }
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">componentDidMount</span>) {
            transaction.<span class="hljs-title function_">getReactOnDOMReady</span>().<span class="hljs-title function_">enqueue</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">componentDidMount</span>)
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedComponent</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_renderValidatedComponent</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_lifeCycleState</span> = <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">LifeCycle</span>.<span class="hljs-property">MOUNTED</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedComponent</span>.<span class="hljs-title function_">mountComponent</span>(rootID, transaction)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-526">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-526">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-527">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-527">&#x00a7;</a>
              </div>
              <p><code>unmountComponent</code>
卸载渲染</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">unmountComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span> = <span class="hljs-title class_">CompositeLifeCycle</span>.<span class="hljs-property">UNMOUNTING</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">componentWillUnmount</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">componentWillUnmount</span>()
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>.<span class="hljs-property">unmountComponent</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedComponent</span>.<span class="hljs-title function_">unmountComponent</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedComponent</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span> = <span class="hljs-literal">null</span>
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-528">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-528">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-529">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-529">&#x00a7;</a>
              </div>
              <p><code>receiveProps</code>
接收<code>nextProps</code>，并重新渲染</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">receiveProps</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nextProps, transaction</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">propDeclarations</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_assertValidProps</span>(nextProps)
        }
        <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>.<span class="hljs-property">receiveProps</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, nextProps, transaction);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span> = <span class="hljs-title class_">CompositeLifeCycle</span>.<span class="hljs-property">RECEIVING_PROPS</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">componentWillReceiveProps</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">componentWillReceiveProps</span>(nextProps, transaction)
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span> = <span class="hljs-title class_">CompositeLifeCycle</span>.<span class="hljs-property">RECEIVING_STATE</span>;
        <span class="hljs-keyword">var</span> nextState = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_receivePropsAndState</span>(nextProps, nextState, transaction);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span> = <span class="hljs-literal">null</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-530">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-530">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-531">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-531">&#x00a7;</a>
              </div>
              <p><code>setState</code>
接收<code>partialState</code>，并重新渲染</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">setState</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">partialState</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">replaceState</span>(<span class="hljs-title function_">merge_1</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>, partialState))
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-532">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-532">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-533">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-533">&#x00a7;</a>
              </div>
              <p><code>replaceState</code>
接收<code>completeState</code>，并重新渲染</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">replaceState</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">completeState</span>) {
        <span class="hljs-keyword">var</span> compositeLifeCycleState = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span>;
        <span class="hljs-title function_">invariant_1</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_lifeCycleState</span> === <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">LifeCycle</span>.<span class="hljs-property">MOUNTED</span> || compositeLifeCycleState === <span class="hljs-title class_">CompositeLifeCycle</span>.<span class="hljs-property">MOUNTING</span>, <span class="hljs-string">&#x27;replaceState(...): Can only update a mounted (or mounting) component.&#x27;</span>);
        <span class="hljs-title function_">invariant_1</span>(compositeLifeCycleState !== <span class="hljs-title class_">CompositeLifeCycle</span>.<span class="hljs-property">RECEIVING_STATE</span> &amp;&amp; compositeLifeCycleState !== <span class="hljs-title class_">CompositeLifeCycle</span>.<span class="hljs-property">UNMOUNTING</span>, <span class="hljs-string">&#x27;replaceState(...): Cannot update while unmounting component or during an existing state transition (such as within `render`).&#x27;</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span> = completeState;
        <span class="hljs-keyword">if</span> (compositeLifeCycleState !== <span class="hljs-title class_">CompositeLifeCycle</span>.<span class="hljs-property">MOUNTING</span> &amp;&amp; compositeLifeCycleState !== <span class="hljs-title class_">CompositeLifeCycle</span>.<span class="hljs-property">RECEIVING_PROPS</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span> = <span class="hljs-title class_">CompositeLifeCycle</span>.<span class="hljs-property">RECEIVING_STATE</span>;
            <span class="hljs-keyword">var</span> nextState = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_pendingState</span> = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">var</span> transaction = <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">ReactReconcileTransaction</span>.<span class="hljs-title function_">getPooled</span>();
            transaction.<span class="hljs-title function_">perform</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_receivePropsAndState</span>, <span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>, nextState, transaction);
            <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">ReactReconcileTransaction</span>.<span class="hljs-title function_">release</span>(transaction);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_compositeLifeCycleState</span> = <span class="hljs-literal">null</span>
        }
    },
    <span class="hljs-attr">_receivePropsAndState</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nextProps, nextState, transaction</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">shouldComponentUpdate</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">shouldComponentUpdate</span>(nextProps, nextState)) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_performComponentUpdate</span>(nextProps, nextState, transaction)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span> = nextProps;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = nextState
        }
    },
    <span class="hljs-attr">_performComponentUpdate</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nextProps, nextState, transaction</span>) {
        <span class="hljs-keyword">var</span> prevProps = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>;
        <span class="hljs-keyword">var</span> prevState = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">componentWillUpdate</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">componentWillUpdate</span>(nextProps, nextState, transaction)
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span> = nextProps;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = nextState;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateComponent</span>(transaction);
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">componentDidUpdate</span>) {
            transaction.<span class="hljs-title function_">getReactOnDOMReady</span>().<span class="hljs-title function_">enqueue</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">componentDidUpdate</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>, prevProps, prevState))
        }
    },
    <span class="hljs-attr">updateComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">transaction</span>) {
        <span class="hljs-keyword">var</span> currentComponent = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedComponent</span>;
        <span class="hljs-keyword">var</span> nextComponent = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_renderValidatedComponent</span>();
        <span class="hljs-keyword">if</span> (currentComponent.<span class="hljs-property">constructor</span> === nextComponent.<span class="hljs-property">constructor</span>) {
            <span class="hljs-keyword">if</span> (!nextComponent.<span class="hljs-property">props</span>.<span class="hljs-property">isStatic</span>) {
                currentComponent.<span class="hljs-title function_">receiveProps</span>(nextComponent.<span class="hljs-property">props</span>, transaction)
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> thisID = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>;
            <span class="hljs-keyword">var</span> currentComponentID = currentComponent.<span class="hljs-property">_rootNodeID</span>;
            currentComponent.<span class="hljs-title function_">unmountComponent</span>();
            <span class="hljs-keyword">var</span> nextMarkup = nextComponent.<span class="hljs-title function_">mountComponent</span>(thisID, transaction);
            <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">DOMIDOperations</span>.<span class="hljs-title function_">dangerouslyReplaceNodeWithMarkupByID</span>(currentComponentID, nextMarkup);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedComponent</span> = nextComponent
        }
    },
    <span class="hljs-attr">forceUpdate</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">var</span> transaction = <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">ReactReconcileTransaction</span>.<span class="hljs-title function_">getPooled</span>();
        transaction.<span class="hljs-title function_">perform</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_performComponentUpdate</span>, <span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>, transaction);
        <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">ReactReconcileTransaction</span>.<span class="hljs-title function_">release</span>(transaction)
    },
    <span class="hljs-attr">_renderValidatedComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-title class_">ReactCurrentOwner</span>_1.<span class="hljs-property">current</span> = <span class="hljs-variable language_">this</span>;
        <span class="hljs-keyword">var</span> renderedComponent = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>();
        <span class="hljs-title class_">ReactCurrentOwner</span>_1.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-title function_">invariant_1</span>(<span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-title function_">isValidComponent</span>(renderedComponent), <span class="hljs-string">&#x27;%s.render(): A valid ReactComponent must be returned.&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">displayName</span> || <span class="hljs-string">&#x27;ReactCompositeComponent&#x27;</span>);
        <span class="hljs-keyword">return</span> renderedComponent
    },
    <span class="hljs-attr">_assertValidProps</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">props</span>) {
        <span class="hljs-keyword">var</span> propDeclarations = <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">propDeclarations</span>;
        <span class="hljs-keyword">var</span> componentName = <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">displayName</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> propName <span class="hljs-keyword">in</span> propDeclarations) {
            <span class="hljs-keyword">var</span> checkProp = propDeclarations[propName];
            <span class="hljs-keyword">if</span> (checkProp) {
                <span class="hljs-title function_">checkProp</span>(props, propName, componentName)
            }
        }
    },
    <span class="hljs-attr">_bindAutoBindMethods</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> autoBindKey <span class="hljs-keyword">in</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">__reactAutoBindMap</span>) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">__reactAutoBindMap</span>.<span class="hljs-title function_">hasOwnProperty</span>(autoBindKey)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">var</span> method = <span class="hljs-variable language_">this</span>.<span class="hljs-property">__reactAutoBindMap</span>[autoBindKey];
            <span class="hljs-variable language_">this</span>[autoBindKey] = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_bindAutoBindMethod</span>(method)
        }
    },

    <span class="hljs-attr">_bindAutoBindMethod</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">method</span>) {
        <span class="hljs-keyword">var</span> component = <span class="hljs-variable language_">this</span>;
        <span class="hljs-keyword">var</span> hasWarned = <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">function</span> <span class="hljs-title function_">autoBound</span>(<span class="hljs-params">a, b, c, d, e, tooMany</span>) {
            <span class="hljs-title function_">invariant_1</span>(<span class="hljs-keyword">typeof</span> tooMany === <span class="hljs-string">&#x27;undefined&#x27;</span>, <span class="hljs-string">&#x27;React.autoBind(...): Methods can only take a maximum of 5 arguments.&#x27;</span>);
            <span class="hljs-keyword">if</span> (component.<span class="hljs-property">_lifeCycleState</span> === <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">LifeCycle</span>.<span class="hljs-property">MOUNTED</span>) {
                <span class="hljs-keyword">return</span> method.<span class="hljs-title function_">call</span>(component, a, b, c, d, e)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!hasWarned) {
                hasWarned = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (__DEV__) {
                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">&#x27;React.autoBind(...): Attempted to invoke an auto-bound method on an unmounted instance of `%s`. You either have a memory leak or an event handler that is being run after unmounting.&#x27;</span>, component.<span class="hljs-property">constructor</span>.<span class="hljs-property">displayName</span> || <span class="hljs-string">&#x27;ReactCompositeComponent&#x27;</span>)
                }
            }
        }
        <span class="hljs-keyword">return</span> autoBound
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-534">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-534">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-535">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-535">&#x00a7;</a>
              </div>
              <p><code>ReactCompositeComponentBase</code>
用于创建<code>Component</code>构造函数原型链的初始方法</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactCompositeComponentBase</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {};

<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactCompositeComponentBase</span>, <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>);<span class="hljs-comment">// ReactCompositeComponentBase合并ReactComponent_1.Mixin到它的原型链</span>
<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactCompositeComponentBase</span>, <span class="hljs-title class_">ReactOwner</span>_1.<span class="hljs-property">Mixin</span>);<span class="hljs-comment">// ReactCompositeComponentBase合并ReactOwner_1.Mixin到它的原型链</span>
<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactCompositeComponentBase</span>, <span class="hljs-title class_">ReactPropTransferer</span>_1.<span class="hljs-property">Mixin</span>);<span class="hljs-comment">// ReactCompositeComponentBase合并ReactPropTransferer_1.Mixin到它的原型链</span>
<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactCompositeComponentBase</span>, <span class="hljs-title class_">ReactCompositeComponentMixin</span>);<span class="hljs-comment">// ReactCompositeComponentBase合并ReactCompositeComponentMixin到它的原型链</span>
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactCompositeComponent</span> = {
    <span class="hljs-title class_">LifeCycle</span>: <span class="hljs-title class_">CompositeLifeCycle</span>,
    <span class="hljs-title class_">Base</span>: <span class="hljs-title class_">ReactCompositeComponentBase</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-536">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-536">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-537">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-537">&#x00a7;</a>
              </div>
              <p><code>createClass</code>
传入属性，生成构造函数返回</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">createClass</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">spec</span>) {
        <span class="hljs-keyword">var</span> <span class="hljs-title class_">Constructor</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">initialProps, children</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">construct</span>(initialProps, children)
        };
        <span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactCompositeComponentBase</span>();
        <span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Constructor</span>;
        <span class="hljs-title function_">mixSpecIntoComponent</span>(<span class="hljs-title class_">Constructor</span>, spec);
        <span class="hljs-title function_">invariant_1</span>(<span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">render</span>, <span class="hljs-string">&#x27;createClass(...): Class specification must implement a `render` method.&#x27;</span>);
        <span class="hljs-keyword">var</span> <span class="hljs-title class_">ConvenienceConstructor</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">props, children</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Constructor</span>(props, children)
        };
        <span class="hljs-title class_">ConvenienceConstructor</span>.<span class="hljs-property">componentConstructor</span> = <span class="hljs-title class_">Constructor</span>;
        <span class="hljs-title class_">ConvenienceConstructor</span>.<span class="hljs-property">originalSpec</span> = spec;
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ConvenienceConstructor</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-538">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-538">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-539">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-539">&#x00a7;</a>
              </div>
              <p><code>autoBind</code>
二次加工<code>method</code>函数，赋值到<code>unbound</code>的<code>__reactAutoBind</code>属性中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">autoBind</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">method</span>) {
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">unbound</span>(<span class="hljs-params"></span>) {
            <span class="hljs-title function_">invariant_1</span>(<span class="hljs-literal">false</span>, <span class="hljs-string">&#x27;React.autoBind(...): Attempted to invoke an auto-bound method that was not correctly defined on the class specification.&#x27;</span>)
        }
        unbound.<span class="hljs-property">__reactAutoBind</span> = method;
        <span class="hljs-keyword">return</span> unbound
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactCompositeComponent</span>_1 = <span class="hljs-title class_">ReactCompositeComponent</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">shouldManageExisting</span>(<span class="hljs-params">curChild, newChild</span>) {
    <span class="hljs-keyword">return</span> curChild &amp;&amp; newChild &amp;&amp; curChild.<span class="hljs-property">constructor</span> === newChild.<span class="hljs-property">constructor</span>
}
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactMultiChildMixin</span> = {
    <span class="hljs-attr">enqueueMarkupAt</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">markup, insertAt</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span> || [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span>.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">insertMarkup</span>: markup,
            <span class="hljs-attr">finalIndex</span>: insertAt
        })
    },
    <span class="hljs-attr">enqueueMove</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">originalIndex, finalIndex</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span> || [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span>.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">moveFrom</span>: originalIndex,
            <span class="hljs-attr">finalIndex</span>: finalIndex
        })
    },
    <span class="hljs-attr">enqueueUnmountChildByName</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">name, removeChild</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-title function_">isValidComponent</span>(removeChild)) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span> || [];
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span>.<span class="hljs-title function_">push</span>({
                <span class="hljs-attr">removeAt</span>: removeChild.<span class="hljs-property">_domIndex</span>
            });
            removeChild.<span class="hljs-property">unmountComponent</span> &amp;&amp; removeChild.<span class="hljs-title function_">unmountComponent</span>();
            <span class="hljs-keyword">delete</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span>[name]
        }
    },
    <span class="hljs-attr">processChildDOMOperationsQueue</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span>) {
            <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">DOMIDOperations</span>.<span class="hljs-title function_">manageChildrenByParentID</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span>);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span> = <span class="hljs-literal">null</span>
        }
    },
    <span class="hljs-attr">unmountMultiChild</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">var</span> renderedChildren = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> renderedChildren) {
            <span class="hljs-keyword">if</span> (renderedChildren.<span class="hljs-title function_">hasOwnProperty</span>(name) &amp;&amp; renderedChildren[name]) {
                <span class="hljs-keyword">var</span> renderedChild = renderedChildren[name];
                renderedChild.<span class="hljs-property">unmountComponent</span> &amp;&amp; renderedChild.<span class="hljs-title function_">unmountComponent</span>()
            }
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span> = <span class="hljs-literal">null</span>
    },
    <span class="hljs-attr">mountMultiChild</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">children, transaction</span>) {
        <span class="hljs-keyword">var</span> accum = <span class="hljs-string">&#x27;&#x27;</span>;
        <span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> children) {
            <span class="hljs-keyword">var</span> child = children[name];
            <span class="hljs-keyword">if</span> (children.<span class="hljs-title function_">hasOwnProperty</span>(name) &amp;&amp; child) {
                accum += child.<span class="hljs-title function_">mountComponent</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span> + <span class="hljs-string">&#x27;.&#x27;</span> + name, transaction);
                child.<span class="hljs-property">_domIndex</span> = index;
                index++
            }
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span> = children;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">domOperations</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> accum
    },
    <span class="hljs-attr">updateMultiChild</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nextChildren, transaction</span>) {
        <span class="hljs-keyword">if</span> (!nextChildren &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span>) {
            <span class="hljs-keyword">return</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nextChildren &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span> = {}
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!nextChildren &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span>) {
            nextChildren = {}
        }
        <span class="hljs-keyword">var</span> rootDomIdDot = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span> + <span class="hljs-string">&#x27;.&#x27;</span>;
        <span class="hljs-keyword">var</span> markupBuffer = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> numPendingInsert = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> loopDomIndex = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> curChildrenDOMIndex = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> nextChildren) {
            <span class="hljs-keyword">if</span> (!nextChildren.<span class="hljs-title function_">hasOwnProperty</span>(name)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">var</span> curChild = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span>[name];
            <span class="hljs-keyword">var</span> nextChild = nextChildren[name];
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">shouldManageExisting</span>(curChild, nextChild)) {
                <span class="hljs-keyword">if</span> (markupBuffer) {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">enqueueMarkupAt</span>(markupBuffer, loopDomIndex - numPendingInsert);
                    markupBuffer = <span class="hljs-literal">null</span>
                }
                numPendingInsert = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">if</span> (curChild.<span class="hljs-property">_domIndex</span> &lt; curChildrenDOMIndex) {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">enqueueMove</span>(curChild.<span class="hljs-property">_domIndex</span>, loopDomIndex)
                }
                curChildrenDOMIndex = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(curChild.<span class="hljs-property">_domIndex</span>, curChildrenDOMIndex);
                !nextChild.<span class="hljs-property">props</span>.<span class="hljs-property">isStatic</span> &amp;&amp; curChild.<span class="hljs-title function_">receiveProps</span>(nextChild.<span class="hljs-property">props</span>, transaction);
                curChild.<span class="hljs-property">_domIndex</span> = loopDomIndex
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (curChild) {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">enqueueUnmountChildByName</span>(name, curChild);
                    curChildrenDOMIndex = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(curChild.<span class="hljs-property">_domIndex</span>, curChildrenDOMIndex)
                }
                <span class="hljs-keyword">if</span> (nextChild) {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span>[name] = nextChild;
                    <span class="hljs-keyword">var</span> nextMarkup = nextChild.<span class="hljs-title function_">mountComponent</span>(rootDomIdDot + name, transaction);
                    markupBuffer = markupBuffer ? markupBuffer + nextMarkup : nextMarkup;
                    numPendingInsert++;
                    nextChild.<span class="hljs-property">_domIndex</span> = loopDomIndex
                }
            }
            loopDomIndex = nextChild ? loopDomIndex + <span class="hljs-number">1</span> : loopDomIndex
        }
        <span class="hljs-keyword">if</span> (markupBuffer) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">enqueueMarkupAt</span>(markupBuffer, loopDomIndex - numPendingInsert)
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> childName <span class="hljs-keyword">in</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span>) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span>.<span class="hljs-title function_">hasOwnProperty</span>(childName)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">var</span> child = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_renderedChildren</span>[childName];
            <span class="hljs-keyword">if</span> (child &amp;&amp; !nextChildren[childName]) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">enqueueUnmountChildByName</span>(childName, child)
            }
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processChildDOMOperationsQueue</span>()
    }
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactMultiChild</span> = {
    <span class="hljs-title class_">Mixin</span>: <span class="hljs-title class_">ReactMultiChildMixin</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactMultiChild</span>_1 = <span class="hljs-title class_">ReactMultiChild</span>;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactTextComponent</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">initialText</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">construct</span>({
        <span class="hljs-attr">text</span>: initialText
    })
};
<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactTextComponent</span>, <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>);
<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactTextComponent</span>, {
    <span class="hljs-attr">mountComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">rootID</span>) {
        <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>.<span class="hljs-property">mountComponent</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, rootID);
        <span class="hljs-keyword">return</span> (<span class="hljs-string">&#x27;&lt;span id=&quot;&#x27;</span> + rootID + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span> + escapeTextForBrowser_1(<span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">text</span>) + <span class="hljs-string">&#x27;&lt;/span&gt;&#x27;</span>)
    },
    <span class="hljs-attr">receiveProps</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nextProps, transaction</span>) {
        <span class="hljs-keyword">if</span> (nextProps.<span class="hljs-property">text</span> !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">text</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">text</span> = nextProps.<span class="hljs-property">text</span>;
            <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">DOMIDOperations</span>.<span class="hljs-title function_">updateTextContentByID</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, nextProps.<span class="hljs-property">text</span>)
        }
    }
});
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactTextComponent</span>_1 = <span class="hljs-title class_">ReactTextComponent</span>;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">INVALID_CHILD</span> = <span class="hljs-string">&#x27;INVALID_CHILD&#x27;</span>;
<span class="hljs-keyword">if</span> (__DEV__) {
    <span class="hljs-variable constant_">INVALID_CHILD</span> = <span class="hljs-string">&#x27;You may not pass a child of that type to a React component. It is a common mistake to try to pass a standard browser DOM element as a child of a React component.&#x27;</span>
}
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">ONLY_CHILD_NAME</span> = <span class="hljs-string">&#x27;0&#x27;</span>;
<span class="hljs-keyword">var</span> flattenChildrenImpl = <span class="hljs-keyword">function</span> (<span class="hljs-params">res, children, nameSoFar</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(children)) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; children.<span class="hljs-property">length</span>; i++) {
            <span class="hljs-title function_">flattenChildrenImpl</span>(res, children[i], nameSoFar + <span class="hljs-string">&#x27;[&#x27;</span> + i + <span class="hljs-string">&#x27;]&#x27;</span>)
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> type = <span class="hljs-keyword">typeof</span> children;
        <span class="hljs-keyword">var</span> isOnlyChild = nameSoFar === <span class="hljs-string">&#x27;&#x27;</span>;
        <span class="hljs-keyword">var</span> storageName = isOnlyChild ? <span class="hljs-variable constant_">ONLY_CHILD_NAME</span> : nameSoFar;
        <span class="hljs-keyword">if</span> (children === <span class="hljs-literal">null</span> || children === <span class="hljs-literal">undefined</span> || type === <span class="hljs-string">&#x27;boolean&#x27;</span>) {
            res[storageName] = <span class="hljs-literal">null</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (children.<span class="hljs-property">mountComponentIntoNode</span>) {
            res[storageName] = children
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;object&#x27;</span>) {
                <span class="hljs-title function_">throwIf_1</span>(children &amp;&amp; children.<span class="hljs-property">nodeType</span> === <span class="hljs-number">1</span>, <span class="hljs-variable constant_">INVALID_CHILD</span>);
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> children) {
                    <span class="hljs-keyword">if</span> (children.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
                        <span class="hljs-title function_">flattenChildrenImpl</span>(res, children[key], nameSoFar + <span class="hljs-string">&#x27;{&#x27;</span> + escapeTextForBrowser_1(key) + <span class="hljs-string">&#x27;}&#x27;</span>)
                    }
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;string&#x27;</span>) {
                res[storageName] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactTextComponent</span>_1(children)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;number&#x27;</span>) {
                res[storageName] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactTextComponent</span>_1(<span class="hljs-string">&#x27;&#x27;</span> + children)
            }
        }
    }
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">flattenChildren</span>(<span class="hljs-params">children</span>) {
    <span class="hljs-keyword">if</span> (children === <span class="hljs-literal">null</span> || children === <span class="hljs-literal">undefined</span>) {
        <span class="hljs-keyword">return</span> children
    }
    <span class="hljs-keyword">var</span> result = {};
    <span class="hljs-title function_">flattenChildrenImpl</span>(result, children, <span class="hljs-string">&#x27;&#x27;</span>);
    <span class="hljs-keyword">return</span> result
}
<span class="hljs-keyword">var</span> flattenChildren_1 = flattenChildren;
<span class="hljs-keyword">var</span> putListener = <span class="hljs-title class_">ReactEvent</span>_1.<span class="hljs-property">putListener</span>;
<span class="hljs-keyword">var</span> registrationNames = <span class="hljs-title class_">ReactEvent</span>_1.<span class="hljs-property">registrationNames</span>;
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">CONTENT_TYPES</span> = {
    <span class="hljs-string">&#x27;string&#x27;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&#x27;number&#x27;</span>: <span class="hljs-literal">true</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">CONTENT</span> = <span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-attr">content</span>: <span class="hljs-literal">null</span>
});
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">DANGEROUSLY_SET_INNER_HTML</span> = <span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-attr">dangerouslySetInnerHTML</span>: <span class="hljs-literal">null</span>
});
<span class="hljs-keyword">var</span> <span class="hljs-variable constant_">STYLE</span> = <span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-attr">style</span>: <span class="hljs-literal">null</span>
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">assertValidProps</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-keyword">if</span> (!props) {
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">var</span> hasChildren = props.<span class="hljs-property">children</span> != <span class="hljs-literal">null</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> hasContent = props.<span class="hljs-property">content</span> != <span class="hljs-literal">null</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> hasInnerHTML = props.<span class="hljs-property">dangerouslySetInnerHTML</span> != <span class="hljs-literal">null</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
    <span class="hljs-title function_">invariant_1</span>(hasChildren + hasContent + hasInnerHTML &lt;= <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Can only set one of `children`, `props.content`, or `props.dangerouslySetInnerHTML`.&#x27;</span>);
    <span class="hljs-title function_">invariant_1</span>(props.<span class="hljs-property">style</span> == <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> props.<span class="hljs-property">style</span> === <span class="hljs-string">&#x27;object&#x27;</span>, <span class="hljs-string">&#x27;The `style` prop expects a mapping from style properties to values, not a string.&#x27;</span>)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-540">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-540">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-541">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-541">&#x00a7;</a>
              </div>
              <p><code>ReactNativeComponent</code>
Rt的Dom构造函数扩展方法，React.DOM.XXX的一个扩展</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">ReactNativeComponent</span>(<span class="hljs-params">tag, omitClose</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_tagOpen</span> = <span class="hljs-string">&#x27;&lt;&#x27;</span> + tag + <span class="hljs-string">&#x27; &#x27;</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_tagClose</span> = omitClose ? <span class="hljs-string">&#x27;&#x27;</span> : <span class="hljs-string">&#x27;&lt;/&#x27;</span> + tag + <span class="hljs-string">&#x27;&gt;&#x27;</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tagName</span> = tag.<span class="hljs-title function_">toUpperCase</span>()
}
<span class="hljs-title class_">ReactNativeComponent</span>.<span class="hljs-property">Mixin</span> = {</pre></div></div>
            
        </li>
        
        
        <li id="section-542">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-542">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-543">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-543">&#x00a7;</a>
              </div>
              <p><code>mountComponent</code>
提供<code>rootID</code>和<code>transaction</code>，生成html字符串并返回</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">mountComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">rootID, transaction</span>) {
        <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>.<span class="hljs-property">mountComponent</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, rootID, transaction);
        <span class="hljs-title function_">assertValidProps</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>);
        <span class="hljs-keyword">return</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_createOpenTagMarkup</span>() + <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_createContentMarkup</span>(transaction) + <span class="hljs-variable language_">this</span>.<span class="hljs-property">_tagClose</span>)
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-544">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-544">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-545">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-545">&#x00a7;</a>
              </div>
              <p><code>_createOpenTagMarkup</code>
生成包含属性的开始标签html字符串</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">_createOpenTagMarkup</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">var</span> props = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>;
        <span class="hljs-keyword">var</span> ret = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_tagOpen</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> propKey <span class="hljs-keyword">in</span> props) {
            <span class="hljs-keyword">if</span> (!props.<span class="hljs-title function_">hasOwnProperty</span>(propKey)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">var</span> propValue = props[propKey];
            <span class="hljs-keyword">if</span> (propValue == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">if</span> (registrationNames[propKey]) {
                <span class="hljs-title function_">putListener</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, propKey, propValue)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (propKey === <span class="hljs-variable constant_">STYLE</span>) {
                    <span class="hljs-keyword">if</span> (propValue) {
                        propValue = props.<span class="hljs-property">style</span> = <span class="hljs-title function_">merge_1</span>(props.<span class="hljs-property">style</span>)
                    }
                    propValue = <span class="hljs-title class_">CSSPropertyOperations</span>_1.<span class="hljs-title function_">createMarkupForStyles</span>(propValue)
                }
                <span class="hljs-keyword">var</span> markup = <span class="hljs-title class_">DOMPropertyOperations</span>_1.<span class="hljs-title function_">createMarkupForProperty</span>(propKey, propValue);
                <span class="hljs-keyword">if</span> (markup) {
                    ret += <span class="hljs-string">&#x27; &#x27;</span> + markup
                }
            }
        }
        <span class="hljs-keyword">return</span> ret + <span class="hljs-string">&#x27; id=&quot;&#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span> + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-546">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-546">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-547">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-547">&#x00a7;</a>
              </div>
              <p><code>_createContentMarkup</code>
生成子孙元素对应的html字符串</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">_createContentMarkup</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">transaction</span>) {
        <span class="hljs-keyword">var</span> innerHTML = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">dangerouslySetInnerHTML</span>;
        <span class="hljs-keyword">if</span> (innerHTML != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (innerHTML.<span class="hljs-property">__html</span> != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> innerHTML.<span class="hljs-property">__html</span>
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> contentToUse = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">content</span> != <span class="hljs-literal">null</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">content</span> : <span class="hljs-variable constant_">CONTENT_TYPES</span>[<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">children</span>] ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">children</span> : <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">var</span> childrenToUse = contentToUse != <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">children</span>;
            <span class="hljs-keyword">if</span> (contentToUse != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> escapeTextForBrowser_1(contentToUse)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (childrenToUse != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">mountMultiChild</span>(<span class="hljs-title function_">flattenChildren_1</span>(childrenToUse), transaction)
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>
    },
    <span class="hljs-attr">receiveProps</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nextProps, transaction</span>) {
        <span class="hljs-title function_">invariant_1</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, <span class="hljs-string">&#x27;Trying to control a native dom element without a backing id&#x27;</span>);
        <span class="hljs-title function_">assertValidProps</span>(nextProps);
        <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>.<span class="hljs-property">receiveProps</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, nextProps, transaction);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_updateDOMProperties</span>(nextProps);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_updateDOMChildren</span>(nextProps, transaction);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span> = nextProps
    },
    <span class="hljs-attr">_updateDOMProperties</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nextProps</span>) {
        <span class="hljs-keyword">var</span> lastProps = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> propKey <span class="hljs-keyword">in</span> nextProps) {
            <span class="hljs-keyword">var</span> nextProp = nextProps[propKey];
            <span class="hljs-keyword">var</span> lastProp = lastProps[propKey];
            <span class="hljs-keyword">if</span> (!nextProps.<span class="hljs-title function_">hasOwnProperty</span>(propKey) || nextProp === lastProp) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">if</span> (propKey === <span class="hljs-variable constant_">STYLE</span>) {
                <span class="hljs-keyword">if</span> (nextProp) {
                    nextProp = nextProps.<span class="hljs-property">style</span> = <span class="hljs-title function_">merge_1</span>(nextProp)
                }
                <span class="hljs-keyword">var</span> styleUpdates;
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> styleName <span class="hljs-keyword">in</span> nextProp) {
                    <span class="hljs-keyword">if</span> (!nextProp.<span class="hljs-title function_">hasOwnProperty</span>(styleName)) {
                        <span class="hljs-keyword">continue</span>
                    }
                    <span class="hljs-keyword">if</span> (!lastProp || lastProp[styleName] !== nextProp[styleName]) {
                        <span class="hljs-keyword">if</span> (!styleUpdates) {
                            styleUpdates = {}
                        }
                        styleUpdates[styleName] = nextProp[styleName]
                    }
                }
                <span class="hljs-keyword">if</span> (styleUpdates) {
                    <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">DOMIDOperations</span>.<span class="hljs-title function_">updateStylesByID</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, styleUpdates)
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (propKey === <span class="hljs-variable constant_">DANGEROUSLY_SET_INNER_HTML</span>) {
                <span class="hljs-keyword">var</span> lastHtml = lastProp &amp;&amp; lastProp.<span class="hljs-property">__html</span>;
                <span class="hljs-keyword">var</span> nextHtml = nextProp &amp;&amp; nextProp.<span class="hljs-property">__html</span>;
                <span class="hljs-keyword">if</span> (lastHtml !== nextHtml) {
                    <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">DOMIDOperations</span>.<span class="hljs-title function_">updateInnerHTMLByID</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, nextProp)
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (propKey === <span class="hljs-variable constant_">CONTENT</span>) {
                <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">DOMIDOperations</span>.<span class="hljs-title function_">updateTextContentByID</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, <span class="hljs-string">&#x27;&#x27;</span> + nextProp)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (registrationNames[propKey]) {
                <span class="hljs-title function_">putListener</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, propKey, nextProp)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">DOMIDOperations</span>.<span class="hljs-title function_">updatePropertyByID</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, propKey, nextProp)
            }
        }
    },
    <span class="hljs-attr">_updateDOMChildren</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">nextProps, transaction</span>) {
        <span class="hljs-keyword">var</span> thisPropsContentType = <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">content</span>;
        <span class="hljs-keyword">var</span> thisPropsContentEmpty = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">content</span> == <span class="hljs-literal">null</span> || thisPropsContentType === <span class="hljs-string">&#x27;boolean&#x27;</span>;
        <span class="hljs-keyword">var</span> nextPropsContentType = <span class="hljs-keyword">typeof</span> nextProps.<span class="hljs-property">content</span>;
        <span class="hljs-keyword">var</span> nextPropsContentEmpty = nextProps.<span class="hljs-property">content</span> == <span class="hljs-literal">null</span> || nextPropsContentType === <span class="hljs-string">&#x27;boolean&#x27;</span>;
        <span class="hljs-keyword">var</span> lastUsedContent = !thisPropsContentEmpty ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">content</span> : <span class="hljs-variable constant_">CONTENT_TYPES</span>[<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">children</span>] ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">children</span> : <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> contentToUse = !nextPropsContentEmpty ? nextProps.<span class="hljs-property">content</span> : <span class="hljs-variable constant_">CONTENT_TYPES</span>[<span class="hljs-keyword">typeof</span> nextProps.<span class="hljs-property">children</span>] ? nextProps.<span class="hljs-property">children</span> : <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> lastUsedChildren = lastUsedContent != <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">children</span>;
        <span class="hljs-keyword">var</span> childrenToUse = contentToUse != <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : nextProps.<span class="hljs-property">children</span>;
        <span class="hljs-keyword">if</span> (contentToUse != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> childrenRemoved = lastUsedChildren != <span class="hljs-literal">null</span> &amp;&amp; childrenToUse == <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (childrenRemoved) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateMultiChild</span>(<span class="hljs-literal">null</span>, transaction)
            }
            <span class="hljs-keyword">if</span> (lastUsedContent !== contentToUse) {
                <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">DOMIDOperations</span>.<span class="hljs-title function_">updateTextContentByID</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, <span class="hljs-string">&#x27;&#x27;</span> + contentToUse)
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> contentRemoved = lastUsedContent != <span class="hljs-literal">null</span> &amp;&amp; contentToUse == <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (contentRemoved) {
                <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">DOMIDOperations</span>.<span class="hljs-title function_">updateTextContentByID</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>, <span class="hljs-string">&#x27;&#x27;</span>)
            }
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateMultiChild</span>(<span class="hljs-title function_">flattenChildren_1</span>(nextProps.<span class="hljs-property">children</span>), transaction)
        }
    },
    <span class="hljs-attr">unmountComponent</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>.<span class="hljs-property">unmountComponent</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">unmountMultiChild</span>();
        <span class="hljs-title class_">ReactEvent</span>_1.<span class="hljs-title function_">deleteAllListeners</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_rootNodeID</span>)
    }
};
<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactNativeComponent</span>, <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">Mixin</span>);
<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactNativeComponent</span>, <span class="hljs-title class_">ReactNativeComponent</span>.<span class="hljs-property">Mixin</span>);
<span class="hljs-title function_">mixInto_1</span>(<span class="hljs-title class_">ReactNativeComponent</span>, <span class="hljs-title class_">ReactMultiChild</span>_1.<span class="hljs-property">Mixin</span>);
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactNativeComponent</span>_1 = <span class="hljs-title class_">ReactNativeComponent</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">objMapKeyVal</span>(<span class="hljs-params">obj, func, context</span>) {
    <span class="hljs-keyword">if</span> (!obj) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    }
    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> ret = {};
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> obj) {
        <span class="hljs-keyword">if</span> (obj.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
            ret[key] = func.<span class="hljs-title function_">call</span>(context, key, obj[key], i++)
        }
    }
    <span class="hljs-keyword">return</span> ret
}
<span class="hljs-keyword">var</span> objMapKeyVal_1 = objMapKeyVal;</pre></div></div>
            
        </li>
        
        
        <li id="section-548">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-548">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-549">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-549">&#x00a7;</a>
              </div>
              <p><code>createDOMComponentClass</code>
传入<code>tag</code>标签名和<code>omitClose</code>，来创建Rt.dom的方法</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">function</span> <span class="hljs-title function_">createDOMComponentClass</span>(<span class="hljs-params">tag, omitClose</span>) {
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Constructor</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">initialProps, children</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">construct</span>(initialProps, children)
    };
    <span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactNativeComponent</span>_1(tag, omitClose);
    <span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Constructor</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">props, children</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Constructor</span>(props, children)
    }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-550">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-550">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-551">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-551">&#x00a7;</a>
              </div>
              <p><code>ReactDOM</code>
dom和svg元素对应的key，value表示是否是单闭合标签</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">React</span>DOM = <span class="hljs-title function_">objMapKeyVal_1</span>({
    <span class="hljs-attr">a</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">abbr</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">address</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">audio</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">b</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">body</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">br</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">button</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">code</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">col</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">colgroup</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">dd</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">div</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">section</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">dl</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">dt</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">em</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">embed</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">fieldset</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">footer</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">form</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">h1</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">h2</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">h3</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">h4</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">h5</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">h6</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">header</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">hr</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">i</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">iframe</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">img</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">input</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">legend</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">li</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">line</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">nav</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">object</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">ol</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">optgroup</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">option</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">p</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">param</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">pre</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">small</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">source</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">span</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">sub</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">sup</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">strong</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">table</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">tbody</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">td</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">textarea</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">tfoot</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">th</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">thead</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">time</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">title</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">tr</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">u</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">ul</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">video</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">wbr</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">circle</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">g</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">path</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">polyline</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">rect</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">svg</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">text</span>: <span class="hljs-literal">false</span>
}, createDOMComponentClass);
<span class="hljs-keyword">var</span> injection = {</pre></div></div>
            
        </li>
        
        
        <li id="section-552">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-552">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-553">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-553">&#x00a7;</a>
              </div>
              <p><code>injectComponentClasses</code>
把<code>componentClasses</code>合并到<code>ReactDOM</code>中</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">injectComponentClasses</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">componentClasses</span>) {
        <span class="hljs-title function_">mergeInto_1</span>(<span class="hljs-title class_">React</span>DOM, componentClasses)
    }
};
<span class="hljs-title class_">React</span>DOM.<span class="hljs-property">injection</span> = injection;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">React</span>DOM_1 = <span class="hljs-title class_">React</span>DOM;
<span class="hljs-keyword">var</span> form = <span class="hljs-title class_">React</span>DOM_1.<span class="hljs-property">form</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-554">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-554">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-555">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-555">&#x00a7;</a>
              </div>
              <p><code>ReactDOMForm</code>
创建了一个Rt的<code>component</code>的构造函数</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">React</span>DOMForm = <span class="hljs-title class_">ReactCompositeComponent</span>_1.<span class="hljs-title function_">createClass</span>({
    <span class="hljs-attr">render</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">transferPropsTo</span>(<span class="hljs-title function_">form</span>(<span class="hljs-literal">null</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">children</span>))
    },
    <span class="hljs-attr">componentDidMount</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) {
        <span class="hljs-title class_">ReactEvent</span>_1.<span class="hljs-title function_">trapBubbledEvent</span>(<span class="hljs-title class_">EventConstants</span>_1.<span class="hljs-property">topLevelTypes</span>.<span class="hljs-property">topSubmit</span>, <span class="hljs-string">&#x27;submit&#x27;</span>, node)
    }
});
<span class="hljs-keyword">var</span> <span class="hljs-title class_">React</span>DOMForm_1 = <span class="hljs-title class_">React</span>DOMForm;</pre></div></div>
            
        </li>
        
        
        <li id="section-556">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-556">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-557">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-557">&#x00a7;</a>
              </div>
              <p><code>deleteAllListeners</code>
<code>injection$1.EventPluginOrder</code>的属性</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> <span class="hljs-title class_">DefaultEventPluginOrder</span> = [<span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-title class_">ResponderEventPlugin</span>: <span class="hljs-literal">null</span>
}), <span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-title class_">SimpleEventPlugin</span>: <span class="hljs-literal">null</span>
}), <span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-title class_">TapEventPlugin</span>: <span class="hljs-literal">null</span>
}), <span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-title class_">EnterLeaveEventPlugin</span>: <span class="hljs-literal">null</span>
}), <span class="hljs-title function_">keyOf_1</span>({
    <span class="hljs-title class_">AnalyticsEventPlugin</span>: <span class="hljs-literal">null</span>
})];
<span class="hljs-keyword">var</span> <span class="hljs-title class_">DefaultEventPluginOrder</span>_1 = <span class="hljs-title class_">DefaultEventPluginOrder</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-558">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-558">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-559">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-559">&#x00a7;</a>
              </div>
              <p><code>topLevelTypes$1</code>
顶部事件类型topXXX</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> topLevelTypes$<span class="hljs-number">1</span> = <span class="hljs-title class_">EventConstants</span>_1.<span class="hljs-property">topLevelTypes</span>;
<span class="hljs-keyword">var</span> getFirstReactDOM = <span class="hljs-title class_">ReactInstanceHandles</span>_1.<span class="hljs-property">getFirstReactDOM</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-560">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-560">&#x00a7;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-561">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-561">&#x00a7;</a>
              </div>
              <p><code>abstractEventTypes$1</code>
当顶部事件触发解析时，用来解析<code>onMouseEnter</code>和<code>onMouseLeave</code>的对象</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> abstractEventTypes = {
    <span class="hljs-attr">mouseEnter</span>: {
        <span class="hljs-attr">registrationName</span>: <span class="hljs-title function_">keyOf_1</span>({
            <span class="hljs-attr">onMouseEnter</span>: <span class="hljs-literal">null</span>
        })
    },
    <span class="hljs-attr">mouseLeave</span>: {
        <span class="hljs-attr">registrationName</span>: <span class="hljs-title function_">keyOf_1</span>({
            <span class="hljs-attr">onMouseLeave</span>: <span class="hljs-literal">null</span>
        })
    }
};
<span class="hljs-keyword">var</span> extractAbstractEvents = <span class="hljs-keyword">function</span> (<span class="hljs-params">topLevelType, nativeEvent, renderedTargetID, renderedTarget</span>) {
    <span class="hljs-keyword">if</span> (topLevelType === topLevelTypes$<span class="hljs-number">1.</span>topMouseOver &amp;&amp; (nativeEvent.<span class="hljs-property">relatedTarget</span> || nativeEvent.<span class="hljs-property">fromElement</span>)) {
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">if</span> (topLevelType !== topLevelTypes$<span class="hljs-number">1.</span>topMouseOut &amp;&amp; topLevelType !== topLevelTypes$<span class="hljs-number">1.</span>topMouseOver) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    }
    <span class="hljs-keyword">var</span> to, <span class="hljs-keyword">from</span>;
    <span class="hljs-keyword">if</span> (topLevelType === topLevelTypes$<span class="hljs-number">1.</span>topMouseOut) {
        to = <span class="hljs-title function_">getFirstReactDOM</span>(nativeEvent.<span class="hljs-property">relatedTarget</span> || nativeEvent.<span class="hljs-property">toElement</span>) || <span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">global</span>;
        <span class="hljs-keyword">from</span> = renderedTarget
    } <span class="hljs-keyword">else</span> {
        to = renderedTarget;
        <span class="hljs-keyword">from</span> = <span class="hljs-title class_">ExecutionEnvironment</span>_1.<span class="hljs-property">global</span>
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">from</span> === to) {
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">var</span> fromID = <span class="hljs-keyword">from</span> ? <span class="hljs-title function_">getDOMNodeID_1</span>(<span class="hljs-keyword">from</span>) : <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">var</span> toID = to ? <span class="hljs-title function_">getDOMNodeID_1</span>(to) : <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-keyword">var</span> leave = <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">getPooled</span>(abstractEventTypes.<span class="hljs-property">mouseLeave</span>, fromID, topLevelType, nativeEvent);
    <span class="hljs-keyword">var</span> enter = <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">getPooled</span>(abstractEventTypes.<span class="hljs-property">mouseEnter</span>, toID, topLevelType, nativeEvent);
    <span class="hljs-title class_">EventPropagators</span>_1.<span class="hljs-title function_">accumulateEnterLeaveDispatches</span>(leave, enter, fromID, toID);
    <span class="hljs-keyword">return</span> [leave, enter]
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">EnterLeaveEventPlugin</span> = {
    <span class="hljs-attr">abstractEventTypes</span>: abstractEventTypes,
    <span class="hljs-attr">extractAbstractEvents</span>: extractAbstractEvents
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">EnterLeaveEventPlugin</span>_1 = <span class="hljs-title class_">EnterLeaveEventPlugin</span>;
<span class="hljs-keyword">var</span> topLevelTypes = <span class="hljs-title class_">EventConstants</span>_1.<span class="hljs-property">topLevelTypes</span>;
<span class="hljs-keyword">var</span> <span class="hljs-title class_">SimpleEventPlugin</span> = {
    <span class="hljs-attr">abstractEventTypes</span>: {
        <span class="hljs-attr">mouseDown</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onMouseDown</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onMouseDownCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">mouseUp</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onMouseUp</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onMouseUpCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">mouseMove</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onMouseMove</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onMouseMoveCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">doubleClick</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onDoubleClick</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onDoubleClickCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">click</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onClick</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onClickCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">mouseWheel</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onMouseWheel</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onMouseWheelCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">touchStart</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onTouchStart</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onTouchStartCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">touchEnd</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onTouchEnd</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onTouchEndCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">touchCancel</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onTouchCancel</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onTouchCancelCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">touchMove</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onTouchMove</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onTouchMoveCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">keyUp</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onKeyUp</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onKeyUpCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">keyPress</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onKeyPress</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onKeyPressCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">keyDown</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onKeyDown</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onKeyDownCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">focus</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onFocus</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onFocusCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">blur</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onBlur</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onBlurCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">scroll</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onScroll</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onScrollCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">change</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onChange</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onChangeCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-attr">submit</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onSubmit</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onSubmitCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        },
        <span class="hljs-title class_">DOMCharacterDataModified</span>: {
            <span class="hljs-attr">phasedRegistrationNames</span>: {
                <span class="hljs-attr">bubbled</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onDOMCharacterDataModified</span>: <span class="hljs-literal">true</span>
                }),
                <span class="hljs-attr">captured</span>: <span class="hljs-title function_">keyOf_1</span>({
                    <span class="hljs-attr">onDOMCharacterDataModifiedCapture</span>: <span class="hljs-literal">true</span>
                })
            }
        }
    },
    <span class="hljs-attr">executeDispatch</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">abstractEvent, listener, domID</span>) {
        <span class="hljs-keyword">var</span> returnValue = <span class="hljs-title function_">listener</span>(abstractEvent, domID);
        <span class="hljs-keyword">if</span> (returnValue === <span class="hljs-literal">false</span>) {
            abstractEvent.<span class="hljs-title function_">stopPropagation</span>();
            abstractEvent.<span class="hljs-title function_">preventDefault</span>()
        }
    },
    <span class="hljs-attr">extractAbstractEvents</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">topLevelType, nativeEvent, renderedTargetID, renderedTarget</span>) {
        <span class="hljs-keyword">var</span> data;
        <span class="hljs-keyword">var</span> abstractEventType = <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">topLevelTypesToAbstract</span>[topLevelType];
        <span class="hljs-keyword">if</span> (!abstractEventType) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">switch</span> (topLevelType) {
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topMouseWheel</span>:
                data = <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">normalizeMouseWheelData</span>(nativeEvent);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topScroll</span>:
                data = <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">normalizeScrollDataFromTarget</span>(renderedTarget);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topClick</span>:
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topDoubleClick</span>:
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topChange</span>:
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topDOMCharacterDataModified</span>:
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topMouseDown</span>:
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topMouseUp</span>:
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topMouseMove</span>:
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topTouchMove</span>:
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topTouchStart</span>:
            <span class="hljs-keyword">case</span> topLevelTypes.<span class="hljs-property">topTouchEnd</span>:
                data = <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">normalizePointerData</span>(nativeEvent);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-attr">default</span>:
                data = <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">var</span> abstractEvent = <span class="hljs-title class_">AbstractEvent</span>_1.<span class="hljs-title function_">getPooled</span>(abstractEventType, renderedTargetID, topLevelType, nativeEvent, data);
        <span class="hljs-title class_">EventPropagators</span>_1.<span class="hljs-title function_">accumulateTwoPhaseDispatches</span>(abstractEvent);
        <span class="hljs-keyword">return</span> abstractEvent
    }
};
<span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">topLevelTypesToAbstract</span> = {
    <span class="hljs-attr">topMouseDown</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">mouseDown</span>,
    <span class="hljs-attr">topMouseUp</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">mouseUp</span>,
    <span class="hljs-attr">topMouseMove</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">mouseMove</span>,
    <span class="hljs-attr">topClick</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">click</span>,
    <span class="hljs-attr">topDoubleClick</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">doubleClick</span>,
    <span class="hljs-attr">topMouseWheel</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">mouseWheel</span>,
    <span class="hljs-attr">topTouchStart</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">touchStart</span>,
    <span class="hljs-attr">topTouchEnd</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">touchEnd</span>,
    <span class="hljs-attr">topTouchMove</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">touchMove</span>,
    <span class="hljs-attr">topTouchCancel</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">touchCancel</span>,
    <span class="hljs-attr">topKeyUp</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">keyUp</span>,
    <span class="hljs-attr">topKeyPress</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">keyPress</span>,
    <span class="hljs-attr">topKeyDown</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">keyDown</span>,
    <span class="hljs-attr">topFocus</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">focus</span>,
    <span class="hljs-attr">topBlur</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">blur</span>,
    <span class="hljs-attr">topScroll</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">scroll</span>,
    <span class="hljs-attr">topChange</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">change</span>,
    <span class="hljs-attr">topSubmit</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">submit</span>,
    <span class="hljs-attr">topDOMCharacterDataModified</span>: <span class="hljs-title class_">SimpleEventPlugin</span>.<span class="hljs-property">abstractEventTypes</span>.<span class="hljs-property">DOMCharacterDataModified</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">SimpleEventPlugin</span>_1 = <span class="hljs-title class_">SimpleEventPlugin</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">inject</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title class_">EventPluginHub</span>_1.<span class="hljs-property">injection</span>.<span class="hljs-title function_">injectEventPluginOrder</span>(<span class="hljs-title class_">DefaultEventPluginOrder</span>_1);
    <span class="hljs-title class_">EventPluginHub</span>_1.<span class="hljs-property">injection</span>.<span class="hljs-title function_">injectInstanceHandle</span>(<span class="hljs-title class_">ReactInstanceHandles</span>_1);
    <span class="hljs-title class_">EventPluginHub</span>_1.<span class="hljs-property">injection</span>.<span class="hljs-title function_">injectEventPluginsByName</span>({
        <span class="hljs-string">&#x27;SimpleEventPlugin&#x27;</span>: <span class="hljs-title class_">SimpleEventPlugin</span>_1,
        <span class="hljs-string">&#x27;EnterLeaveEventPlugin&#x27;</span>: <span class="hljs-title class_">EnterLeaveEventPlugin</span>_1
    });
    <span class="hljs-title class_">React</span>DOM_1.<span class="hljs-property">injection</span>.<span class="hljs-title function_">injectComponentClasses</span>({
        <span class="hljs-attr">form</span>: <span class="hljs-title class_">React</span>DOMForm_1
    })
}
<span class="hljs-keyword">var</span> <span class="hljs-title class_">ReactDefaultInjection</span> = {
    <span class="hljs-attr">inject</span>: inject
};
<span class="hljs-title class_">ReactDefaultInjection</span>.<span class="hljs-title function_">inject</span>();
<span class="hljs-keyword">var</span> <span class="hljs-title class_">React</span> = {
    <span class="hljs-attr">DOM</span>: <span class="hljs-title class_">React</span>DOM_1,
    <span class="hljs-attr">initializeTouchEvents</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">shouldUseTouch</span>) {
        <span class="hljs-title class_">ReactMount</span>_1.<span class="hljs-property">useTouchEvents</span> = shouldUseTouch
    },
    <span class="hljs-attr">autoBind</span>: <span class="hljs-title class_">ReactCompositeComponent</span>_1.<span class="hljs-property">autoBind</span>,
    <span class="hljs-attr">createClass</span>: <span class="hljs-title class_">ReactCompositeComponent</span>_1.<span class="hljs-property">createClass</span>,
    <span class="hljs-attr">createComponentRenderer</span>: <span class="hljs-title class_">ReactMount</span>_1.<span class="hljs-property">createComponentRenderer</span>,
    <span class="hljs-attr">constructAndRenderComponent</span>: <span class="hljs-title class_">ReactMount</span>_1.<span class="hljs-property">constructAndRenderComponent</span>,
    <span class="hljs-attr">constructAndRenderComponentByID</span>: <span class="hljs-title class_">ReactMount</span>_1.<span class="hljs-property">constructAndRenderComponentByID</span>,
    <span class="hljs-attr">renderComponent</span>: <span class="hljs-title class_">ReactMount</span>_1.<span class="hljs-property">renderComponent</span>,
    <span class="hljs-attr">unmountAndReleaseReactRootNode</span>: <span class="hljs-title class_">ReactMount</span>_1.<span class="hljs-property">unmountAndReleaseReactRootNode</span>,
    <span class="hljs-attr">isValidComponent</span>: <span class="hljs-title class_">ReactComponent</span>_1.<span class="hljs-property">isValidComponent</span>
};
<span class="hljs-keyword">var</span> <span class="hljs-title class_">React</span>_1 = <span class="hljs-title class_">React</span>;
<span class="hljs-variable language_">window</span>.<span class="hljs-property">React</span> = <span class="hljs-title class_">React</span>;</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
